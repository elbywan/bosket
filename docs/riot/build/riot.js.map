{"version":3,"sources":["webpack:///riot/build/riot.js","webpack:///./build/riot/bundle/riot.umd.min.js","webpack:///./docs/riot/plan/index.js","webpack:///./docs/riot/index.js","webpack:///./docs/riot/components/index.js","webpack:///./docs/riot/components/App.tag","webpack:///./docs/riot/plan/Planner.tag","webpack:///./docs/riot/plan/introduction/index.js","webpack:///./docs/riot/plan/introduction/IntroductionDemos.tag","webpack:///./docs/riot/plan/usage/index.js","webpack:///./docs/riot/plan/usage/import/index.js","webpack:///./docs/riot/plan/usage/import/component.tag","webpack:///./docs/riot/plan/usage/data model/index.js","webpack:///./docs/riot/plan/usage/data model/dataModelTree.tag","webpack:///./docs/riot/plan/usage/style/index.js","webpack:///./docs/riot/plan/usage/style/component.tag","webpack:///./docs/riot/plan/usage/online-snippets/index.js","webpack:///./docs/riot/plan/usage/online-snippets/component.tag","webpack:///./docs/riot/plan/treeview/index.js","webpack:///./docs/riot/plan/treeview/basic usage/index.js","webpack:///./docs/riot/plan/treeview/basic usage/component.tag","webpack:///./docs/riot/plan/treeview/demo/index.js","webpack:///./docs/riot/plan/treeview/css/index.js","webpack:///./docs/riot/plan/treeview/css/layout/index.js","webpack:///./docs/riot/plan/treeview/css/layout/component.tag","webpack:///./docs/riot/plan/treeview/css/empty-stylesheet/index.js","webpack:///./docs/riot/plan/treeview/css/empty-stylesheet/component.tag","webpack:///./docs/riot/plan/treeview/required-properties/index.js","webpack:///./docs/riot/plan/treeview/required-properties/component.tag","webpack:///./docs/riot/plan/treeview/optional-properties/index.js","webpack:///./docs/riot/plan/treeview/optional-properties/component.tag","webpack:///./docs/riot/components/Syntax.tag","webpack:///./docs/riot/components/ComponentDemo.tag","webpack:///./docs/riot/components/Demos/index.js","webpack:///./docs/riot/components/Demos/TreeView/index.js","webpack:///./docs/riot/components/Demos/TreeView/TreeViewDemo.tag","webpack:///./docs/riot/components/Demos/TreeView/TreeViewSection.tag","webpack:///./docs/riot/components/Demos/ChuckNorris/index.js","webpack:///./docs/riot/components/Demos/ChuckNorris/ChuckNorris.tag","webpack:///./docs/riot/components/Demos/ChuckNorris/models.js","webpack:///./docs/riot/components/Demos/HackerNews/index.js","webpack:///./docs/riot/components/Demos/HackerNews/HackerNews.tag","webpack:///./docs/riot/components/Demos/HackerNews/models.js","webpack:///./docs/riot/components/Demos/Pokeapi/index.js","webpack:///./docs/riot/components/Demos/Pokeapi/Pokeapi.tag","webpack:///./docs/riot/components/Demos/Pokeapi/models.js","webpack:///./node_modules/riot/riot.js"],"names":["webpackJsonp","203","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","obj","constructor","prototype","t","e","undefined","apply","self","o","n","i","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","hasOwnProperty","p","s","0","10","50","value","keys","forEach","51","optsMixin","arguments","length","init","this","on","updateOpts","_originalOpts","opts","indexOf","52","transitionMixin","transition","name","unmount","root","classList","add","setTimeout","remove","r","addEventListener","one","53","listenerMixin","eventType","callback","regulate","window","requestAnimationFrame","document","removeEventListener","54","55","tag2","assign","mixin","rootNode","onKey","filtered","search","onSearch","currentTarget","filterTree","inputs","defaults","onSelect","onselection","outputs","onDrag","dragndrop","drag","onOver","over","onEnter","enter","onLeave","leave","onDrop","drop","onCancel","cancel","state","set","RootNode","update","56","unfolded","getModel","searched","model","filter","filteredmodel","has","getChildModel","category","node","isAsync","isFolded","pending","unwrapPromise","sort","getChildFiltered","getAncestors","concat","ancestors","renderOpener","hasChildren","openerOpts","position","disabled","disable","TreeNode","rootEvents","getDragEvents","57","tag","parent","6","204","_interopRequireDefault","_introduction","_introduction2","_usage","_usage2","_treeview","_treeview2","489","_riot","_riot2","onload","mount","490","491","_plan","_plan2","plan","492","riot","_this","onDocumentClick","onDocumentScroll","onStickyScroll","selection","opened","updateSelection","_","display","item","foldDepth","max","maxdepth","depth","findPosition","loop","arr","acc","elt","domElt","getElementById","join","title","parentElement","getBoundingClientRect","top","bottom","push","subs","ev","target","HTMLElement","refs","opener","contains","sidePanel","end","map","location","hash","history","replaceState","sticky","content","style","prefix","id","href","a","493","editLink","494","495","demos","demo","setDemo","getFiles","496","_import2","_import3","_dataModel","_dataModel2","_style","_style2","_onlineSnippets","_onlineSnippets2","497","498","499","htmlCode","500","501","502","sampleModel","label","children","Promise","resolve","503","504","505","506","hidden","unHide","507","_basicUsage","_basicUsage2","_demo","_demo2","_css","_css2","_requiredProperties","_requiredProperties2","_optionalProperties","_optionalProperties2","508","509","code","510","511","512","_layout","_layout2","_emptyStylesheet","_emptyStylesheet2","513","514","515","_html_layout","_html_layout2","htmlLayout","516","517","518","_empty_stylesheet","_empty_stylesheet2","emptyStylesheet","anchor","URL","createObjectURL","Blob","type","519","520","521","522","523","_templateObject","strings","raw","_tools","strategies","indent","dragdroptrees","_extends","source","key","_core","dragModel","conf","fold","pluck","paste","droppable","524","language","offsetPrefix","offset","str","ref","textContent","Prism","highlightElement","525","files","expand","doExpand","_tab","setTab","file","tab","loadFile","tabContents","innerHTML","highlight","languages","getPrismExtension","getFileName","split","splice","extension","526","527","528","_TreeViewModel","_TreeViewModel2","dragImage","Image","src","options","displaytag","b","localeCompare","input","string","click","css","TreeView","event","dataTransfer","setDragImage","setData","JSON","stringify","items","Array","529","530","deselect","531","532","onClick","loadJoke","then","joke","_models","categories","fetch","response","json","cat","Category","533","_classCallCheck","instance","Constructor","TypeError","Joke","534","535","more","fetchKids","refreshContent","text","stories","topStories","fetchLast","story","TopStory","536","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","writable","setPrototypeOf","__proto__","Comment","_sanitizeHtml","_sanitizeHtml2","getUrl","limit","all","slice","Item","data","fetchLimit","kids","_this2","result","k","_Item","_temp","_this3","_ret","_len","args","_key","_Item2","_this4","date","Date","time","toLocaleDateString","537","538","filterProps","getOwnPropertyNames","prop","startsWith","__subsection","__children","loading","loadUrl","loadPokemons","cachedFetch","next","results","url","catch","err","loadMorePokemons","539","formatData","cache","Map","imageMatch","val","front_default","img","__image","global","factory","$","selector","ctx","querySelector","makeElement","createElementNS","SVG_NS","createElement","setAttribute","dom","xlink","XLINK_REGEX","exec","setAttributeNS","XLINK_NS","getPropDescriptor","getOwnPropertyDescriptor","isUndefined","T_UNDEF","isWritable","descriptor","extend","$$","querySelectorAll","createDOMPlaceholder","createTextNode","toggleVisibility","show","getAttribute","removeAttribute","setInnerHTML","container","html","isSvg","ownerDocument","importNode","DOMParser","parseFromString","documentElement","appendChild","walkAttributes","fn","RE_HTML_ATTRS","toLowerCase","createFragment","createDocumentFragment","safeInsert","curr","insertBefore","parentNode","styleObjectToString","reduce","walkNodes","context","res","firstChild","nextSibling","isNil","isBlank","isFunction","T_FUNCTION","isObject","T_OBJECT","el","owner","ownerSVGElement","isArray","isBoolAttr","RE_BOOL_ATTRS","test","isString","T_STRING","array","each","list","len","define","toCamel","replace","toUpperCase","warn","message","console","arrayishAdd","ensureArray","index","dest","isArr","hasIndex","oldIndex","tagName","__TAG_IMPL","IS_DIRECTIVE","getName","skipDataIs","child","namedTag","tmpl","hasExpr","inheritParentProps","specialTags","select","trim","selectedIndex","tname","rootEls","childElementCount","replaceYield","reHasYield","reYieldSrc","reYieldDest","def","reYieldAll","mkdom","match","SVG","GENERIC","tblTags","getImmediateCustomParent","ptag","__","isAnonymous","handleEvent","handler","srcElement","which","charCode","keyCode","settings","autoUpdate","preventUpdate","isMounted","setEventHandler","eventName","cb","bind","RE_EVENTS_PREFIX","listeners","RIOT_EVENTS_KEY","initChild","createTag","tags","arrayishRemove","makeVirtual","sib","this$1","head","tail","frag","virts","makeReplaceVirtual","replaceChild","updateDataIs","expr","_tag","ref$1","isVirtual","impl","attrs","onUnmount","delName","dataIs","normalizeAttrName","attrName","ATTRS_PREFIX","CASE_SENSITIVE_ATTRIBUTES","updateExpression","attr","isToggle","SHOW_DIRECTIVE","HIDE_DIRECTIVE","isStyleAttr","isClassAttr","_riot_id","wasCreated","hasValue","isObj","wasParsedOnce","bool","isRtag","IE_VERSION","nodeValue","expressions","isLoop","instAttrs","componentUpdate","nextOpts","canTrigger","skipAnonymous","shouldUpdate","trigger","query","Tag","onCreate","class","mount$1","styleManager","inject","pushTagsTo","riotTag","elem","allTags","nodeList","_el","mix","g","mixins_id","store","globals","mixins","Error","update$1","__TAGS_CACHE","unregister","componentMixin","tag$$1","props","propsBlacklist","proto","getPrototypeOf","hasGetterSetter","moveChild","newPos","moveVirtual","mkitem","base","pos","unmountRedundant","j","moveNestedTags","move","nextTag","insert","append","getItemId","keyAttr","originalItem","keyedItem","hasKeyAttrExpr","_each","hasKeys","mustReorder","LOOP_NO_REORDER_DIRECTIVE","KEY_DIRECTIVE","placeholder","ifExpr","CONDITIONAL_DIRECTIVE","oldItems","LOOP_DIRECTIVE","loopKeys","removeChild","tmpItems","_item","itemId","doReorder","oldPos","isNew","mustAppend","mustCreate","cloneNode","createRefDirective","attrValue","RefExpr","unmountAll","createIfDirective","IfExpr","parseExpressions","mustIncludeRoot","tagImpl","nodeType","attributes","outerHTML","hasIsDirective","parseAttributes","REF_DIRECTIVES","YIELD_TAG","setMountState","off","componentMount","isPrototypeOf","v","implAttrs","globalMixin","GLOBAL_MIXIN","isInline","tagUnmount","mustKeepRoot","tagIndex","skipAnonymousTags","observable","uid","implClass","_innerHTML","styleNode","cssTextProp","WIN","RE_SPECIAL_TAGS","RE_SPECIAL_TAGS_NO_OPTION","viewbox","preserveaspectratio","documentMode","byName","remainder","needsInject","newNode","userNode","styleSheet","cssText","skipRegex","prev","_skipRegex","start","re","lastIndex","RE_REGEX","beforeReChars","RE_VN_CHAR","wordsLastChar","beforeReWords","w","brackets","UNDEF","_loopback","_rewrite","bp","_cache","RegExp","REGLOB","_create","pair","DEFAULT","_pairs","UNSUPPORTED","NEED_ESCAPE","S_QBLOCK2","_brackets","reOrIdx","_regex","_reset","cachedBrackets","_setSettings","_settings","R_MLCOMMS","R_STRINGS","S_QBLOCKS","FINDBRACES","(","[","{","_bp","unescapeStr","prevStr","isexpr","parts","pushQBlock","_pos","_lastIndex","slash","mark","qblocks","ch","rech","ix","_tmpl","_logErr","riotData","errorHandler","error","log","_getTmpl","Function","RE_DQUOTE","qstr","_parseExpr","RE_QBMARK","asText","cnt","RE_CSNAME","jsb","rightContext","mm","lv","ir","RE_BREND","_wrapExpr","tb","JS_VARNAME","mvar","JS_CONTEXT","JS_NOPROPS","clearCache","version","callbacks","defineProperties","fns","arguments$1","arglen","freeze","mkEl","setAttr","getAttr","remAttr","walkAttrs","createFrag","check","misc","objectCreate","tr","th","td","col","core","rawValue","hasExp","old","customParent","tagOrDom","__ref","stub","pristine","current","getTagName","mountTo","selectTags","getTag","initChildTag","moveChildTag","getImmediateCustomParentTag","settings$1","util","vdom","Tag$1","tag$1","tag2$1","mount$2","mixin$1","update$2","unregister$1","observable$1","riot$1"],"mappings":"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","file":"riot/build/riot.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function (t, e) {\n  \"object\" == ( false ? \"undefined\" : _typeof(exports)) && \"object\" == ( false ? \"undefined\" : _typeof(module)) ? module.exports = e(__webpack_require__(9), __webpack_require__(6)) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(9), __webpack_require__(6)], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports[\"bosket-riot\"] = e(require(\"@bosket/core\"), require(\"riot\")) : t[\"bosket-riot\"] = e(t[\"bosket-core\"], t.riot);\n}(\"undefined\" != typeof self ? self : this, function (t, e) {\n  return function (t) {\n    function e(o) {\n      if (n[o]) return n[o].exports;var i = n[o] = { i: o, l: !1, exports: {} };return t[o].call(i.exports, i, i.exports, e), i.l = !0, i.exports;\n    }var n = {};return e.m = t, e.c = n, e.d = function (t, n, o) {\n      e.o(t, n) || Object.defineProperty(t, n, { configurable: !1, enumerable: !0, get: o });\n    }, e.n = function (t) {\n      var n = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };return e.d(n, \"a\", n), n;\n    }, e.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, e.p = \"\", e(e.s = 50);\n  }({ 0: function _(e, n) {\n      e.exports = t;\n    }, 10: function _(t, n) {\n      t.exports = e;\n    }, 50: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });var o = n(6);Object.keys(o).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return o[t];\n          } });\n      }), n(54);\n    }, 51: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });e.optsMixin = function () {\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"opts\";return { init: function init() {\n            this.on(\"update\", this.updateOpts), this._originalOpts = Object.keys(this.opts), this.updateOpts();\n          }, updateOpts: function updateOpts() {\n            if (this.opts) for (var e in this.opts[t]) {\n              ~this._originalOpts.indexOf(e) || (this.opts[e] = this.opts[t][e]);\n            }\n          } };\n      };\n    }, 52: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });e.transitionMixin = function (t) {\n        return { init: function init() {\n            var e = this;if (this.opts.transition) {\n              var n = this.opts.transition.name,\n                  o = this.unmount,\n                  i = function i() {\n                var o = (t || function () {\n                  return e.root;\n                })();o && (o.classList.add(n), o.classList.add(n + \"-mount\"), setTimeout(function () {\n                  o.classList.remove(n + \"-mount\");\n                }, 10));\n              },\n                  r = !1,\n                  s = function s() {\n                if (!r) {\n                  r = !0;var i = (t || function () {\n                    return e.root;\n                  })();if (!i) return o.call(e);i.addEventListener(\"transitionend\", function () {\n                    o.call(e);\n                  }), i.classList.add(n + \"-unmount\");\n                }\n              };this.one(\"mount\", i), Object.defineProperty(this, \"unmount\", { value: s });\n            }\n          } };\n      };\n    }, 53: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });e.listenerMixin = function (t) {\n        var e = t.eventType,\n            n = void 0 === e ? \"click\" : e,\n            o = t.callback,\n            i = t.regulate,\n            r = void 0 !== i && i;return { init: function init() {\n            var t = !1,\n                e = function e(_e) {\n              o && (r ? (t || window.requestAnimationFrame(function () {\n                return o(_e, function () {\n                  return t = !1;\n                });\n              }), t = !0) : o(_e));\n            };this.one(\"mount\", function () {\n              document.addEventListener(n, e);\n            }), this.one(\"unmount\", function () {\n              document.removeEventListener(n, e);\n            });\n          } };\n      };\n    }, 54: function _(t, e, n) {\n      \"use strict\";\n      n(55), n(56), n(57);\n    }, 55: function _(t, e, n) {\n      n(10).tag2(\"treeview\", '<div class=\"{rootNode.mixCss(TreeView)}\"> <input type=\"search\" class=\"{rootNode.mixCss(search)}\" if=\"{inputs.get().search}\" placeholder=\"{inputs.get().labels[search.placeholder]}\" oninput=\"{onSearch}\"> <treeviewnode opts=\"{inputs.get()}\" selection=\"{opts.selection}\" model=\"{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}\" filteredmodel=\"{filtered}\" onselection=\"{rootNode.onSelect}\" dragndrop=\"{rootNode.wrapDragNDrop()}\" ancestors=\"{[]}\" searched=\"{search.trim()}\" depth=\"{0}\"> </TreeViewNode> </div>', \"\", \"\", function (t) {\n        \"use strict\";\n        var e = Object.assign || function (t) {\n          for (var e = 1; e < arguments.length; e++) {\n            var n = arguments[e];for (var o in n) {\n              Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o]);\n            }\n          }return t;\n        },\n            o = this,\n            i = n(0),\n            r = n(6);this.mixin((0, r.optsMixin)()), this.mixin((0, r.listenerMixin)({ eventType: \"keyup\", callback: function callback(t) {\n            return o.rootNode.onKey(t);\n          } })), this.mixin((0, r.listenerMixin)({ eventType: \"keydown\", callback: function callback(t) {\n            return o.rootNode.onKey(t);\n          } })), this.filtered = null, this.search = \"\", this.onSearch = function (t) {\n          var e = t.currentTarget.value;o.search = e, o.filtered = o.rootNode.filterTree(e);\n        }, this.inputs = { get: function get() {\n            return e({}, i.defaults, o.opts, { onSelect: o.opts.onselection });\n          } }, this.outputs = { onSelect: this.inputs.get().onselection, onDrag: this.inputs.get().dragndrop && this.inputs.get().dragndrop.drag, onOver: this.inputs.get().dragndrop && this.inputs.get().dragndrop.over, onEnter: this.inputs.get().dragndrop && this.inputs.get().dragndrop.enter, onLeave: this.inputs.get().dragndrop && this.inputs.get().dragndrop.leave, onDrop: this.inputs.get().dragndrop && this.inputs.get().dragndrop.drop, onCancel: this.inputs.get().dragndrop && this.inputs.get().dragndrop.cancel }, this.state = { get: function get() {\n            return e({}, o);\n          }, set: function set(t) {\n            for (var e in t) {\n              e in o && (o[e] = t[e]);\n            }\n          } }, this.rootNode = new i.RootNode(this.inputs, this.outputs, this.state, this.update);\n      });\n    }, 56: function _(t, e, n) {\n      n(10).tag2(\"treeviewnode\", '<ul if=\"{!opts.folded && !opts.loading}\" data-is=\"with-transition\" transition=\"{opts.transition}\" class=\"{node.ulCss()}\" ondragover=\"{!opts.depth ? rootEvents.onDragOver : null}\" ondragenter=\"{!opts.depth ? rootEvents.onDragEnter : null}\" ondragleave=\"{!opts.depth ? rootEvents.onDragLeave : null}\" ondrop=\"{!opts.depth ? rootEvents.onDrop : null}\"> <li each=\"{item in getModel()}\" class=\"{node.liCss(item)}\" draggable=\"{node.getDragEvents(item).draggable}\" ondragstart=\"{node.getDragEvents(item).onDragStart}\" ondragover=\"{node.getDragEvents(item).onDragOver}\" ondragenter=\"{node.getDragEvents(item).onDragEnter}\" ondragleave=\"{node.getDragEvents(item).onDragLeave}\" ondragend=\"{node.getDragEvents(item).onDragEnd}\" ondrop=\"{node.getDragEvents(item).onDrop}\"> <span class=\"{parent.node.mixCss(item)}\" onclick=\"{parent.node.onClick(item)}\"> <span if=\"{renderOpener(item, left)}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item, parent.opts.openerOpts.callback)}\"></span> <virtual if=\"{!parent.opts.displaytag}\"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if=\"{parent.opts.displaytag}\" data-is=\"{parent.opts.displaytag(item, parent.opts)}\" item=\"{item}\" inputs=\"{inputs.get()}\"></virtual> <span if=\"{renderOpener(item, right)}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item, parent.opts.openerOpts.callback)}\"></span> </span> <treeviewnode if=\"{node.hasChildren(item) || node.isAsync(item)}\" opts=\"{parent.opts}\" selection=\"{parent.opts.selection}\" model=\"{getChildModel(item)}\" filteredmodel=\"{getChildFiltered(item)}\" ancestors=\"{getAncestors(item)}\" depth=\"{parent.opts.depth + 1}\" folded=\"{node.isFolded(item)}\" loading=\"{node.isAsync(item) && !node.isFolded(item)}\"> </TreeViewNode> </li> </ul> <span if=\"{opts.loading}\"></span>', \"\", \"\", function (t) {\n        \"use strict\";\n        var e = this,\n            o = n(0),\n            i = n(6);this.mixin((0, i.optsMixin)()), this.unfolded = [], this.getModel = function () {\n          return e.opts.searched ? e.opts.model.filter(function (t) {\n            return e.opts.filteredmodel.has(t);\n          }) : e.opts.model;\n        }, this.getChildModel = function (t) {\n          var n = t[e.opts.category];return e.node.isAsync(t) && !e.node.isFolded(t) && e.node.pending.indexOf(t) < 0 && e.node.unwrapPromise(t), e.node.isAsync(t) || (n = e.opts.sort ? n.sort(e.opts.sort) : n), n;\n        }, this.getChildFiltered = function (t) {\n          return e.opts.searched ? e.opts.filteredmodel.get(t) : null;\n        }, this.getAncestors = function (t) {\n          return [].concat(e.opts.ancestors, [t]);\n        }, this.renderOpener = function (t, n) {\n          return (e.node.hasChildren(t) || e.node.isAsync(t)) && e.opts.openerOpts.position === n;\n        };var r = function r() {\n          e.opts.onSelect = e.opts.onselection, e.opts.disabled = e.opts.disable;\n        };this.on(\"update\", r), r(), this.inputs = { get: function get() {\n            return e.opts;\n          } }, this.state = { get: function get() {\n            return e;\n          }, set: function set(t) {\n            for (var n in t) {\n              n in e && (e[n] = t[n]);\n            }\n          } }, this.node = new o.TreeNode(this.inputs, null, this.state, this.update), this.rootEvents = this.node.getDragEvents();\n      });\n    }, 57: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });var o = n(10),\n          i = function (t) {\n        return t && t.__esModule ? t : { default: t };\n      }(o),\n          r = n(6);e.default = i.default.tag(\"with-transition\", !1, function (t) {\n        var e = this;this.mixin((0, r.transitionMixin)());var n = function n() {\n          for (var t in e.parent) {\n            e.parent.hasOwnProperty(t) && (e[t] = e.parent[t]);\n          }\n        };n(), this.on(\"update\", n);\n      });\n    }, 6: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });var o = n(51);Object.keys(o).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return o[t];\n          } });\n      });var i = n(52);Object.keys(i).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return i[t];\n          } });\n      });var r = n(53);Object.keys(r).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return r[t];\n          } });\n      });\n    } });\n});\n//# sourceMappingURL=riot.umd.min.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(77)(module)))\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(492);\n\nvar _introduction = __webpack_require__(493);\n\nvar _introduction2 = _interopRequireDefault(_introduction);\n\nvar _usage = __webpack_require__(496);\n\nvar _usage2 = _interopRequireDefault(_usage);\n\nvar _treeview = __webpack_require__(507);\n\nvar _treeview2 = _interopRequireDefault(_treeview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = [_introduction2.default, _usage2.default, _treeview2.default];\n\n/***/ }),\n\n/***/ 489:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _riot = __webpack_require__(6);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n__webpack_require__(66);\n\n__webpack_require__(203);\n\n__webpack_require__(490);\n\n__webpack_require__(204);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.onload = function () {\n    _riot2.default.mount(\"*\");\n};\n\n/***/ }),\n\n/***/ 490:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(491);\n\n__webpack_require__(524);\n\n__webpack_require__(525);\n\n__webpack_require__(526);\n\n/***/ }),\n\n/***/ 491:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('app', '    <div class=\"App\">\\n            <planner plan=\"{plan}\" maxdepth=\"{1}\" sticky=\"{true}\"></planner>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\n__webpack_require__(67);\n\nvar _plan = __webpack_require__(204);\n\nvar _plan2 = _interopRequireDefault(_plan);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.plan = _plan2.default;\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 492:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('planner', '    <div class=\"Planner\">\\n        <div class=\"Planner opener\" ref=\"opener\">\\n            <i class=\"{fa: true,                 fa-bars: !opened,                 fa-times: opened}\"></i>\\n        </div>\\n        <aside ref=\"sidePanel\" class=\"{Planner: true, side-panel: true, opened: opened}\">\\n            <div><h1>Table of contents</h1></div>\\n            <treeview model=\"{opts.plan}\" css=\"{{ TreeView: PlannerTree }}\" category=\"subs\" selection=\"{selection}\" onselection=\"{updateSelection}\" strategies=\"{{ selection: [ancestors], click: [select], fold: [ foldDepth(), not-selected, no-child-selection ]}}\" openeropts=\"{{ position: none }}\" displaytag=\"{display}\">\\n            </TreeView>\\n        </aside>\\n        <div ref=\"content\" class=\"Planner content\">\\n            <div each=\"{p in opts.plan}\">\\n                <planner-content plan=\"{p}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _riot = __webpack_require__(203);\n\n__webpack_require__(68);\n\nthis.mixin((0, _riot.listenerMixin)({ callback: function callback(e) {\n        return _this.onDocumentClick(e);\n    } }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onDocumentScroll.apply(_this, arguments);\n    }, regulate: true }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onStickyScroll.apply(_this, arguments);\n    }, regulate: true }));\n\nthis.selection = [];\nthis.opened = false;\nthis.updateSelection = function (_) {\n    _this.selection = _;\n    _this.update();\n};\nthis.display = function (item) {\n    return \"display-planner-content\";\n};\nthis.foldDepth = function () {\n    var max = _this.opts.maxdepth;\n    return function () {\n        return this.inputs.get().depth >= max;\n    };\n};\nthis.findPosition = function () {\n    var position = [];\n    var loop = function loop(arr) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n        for (var i = 0; i < arr.length; i++) {\n            var elt = arr[i];\n            var domElt = document.getElementById(acc.length > 0 ? acc.join(\"#\") + \"#\" + elt.title : elt.title);\n            if (domElt && domElt.parentElement && domElt.parentElement.getBoundingClientRect().top <= 50 && domElt.parentElement.getBoundingClientRect().bottom > 10) {\n                position.push(elt);\n                if (elt.subs) loop(elt.subs, [].concat(acc, [elt.title]));\n                break;\n            }\n        }\n    };\n    loop(_this.opts.plan);\n    return position;\n};\nthis.one(\"mount\", function () {\n    _this.selection = _this.findPosition();\n    _this.update();\n});\n\nthis.onDocumentClick = function (ev) {\n    if (!(ev.target instanceof HTMLElement)) return;\n    if (_this.refs.opener && _this.refs.opener.contains(ev.target)) {\n        _this.opened = !_this.opened;\n    } else if (_this.opened && _this.refs.sidePanel && !_this.refs.sidePanel.contains(ev.target)) {\n        _this.opened = false;\n    }\n    _this.update();\n};\n\nthis.onDocumentScroll = function (ev, end) {\n    var position = _this.findPosition();\n    var newHash = \"#\" + position.map(function (_) {\n        return _.title;\n    }).join(\"#\");\n    if (newHash !== (window.location.hash || \"#\")) {\n        _this.selection = position;\n        _this.update();\n        window.history && window.history.replaceState({}, document.title, \"#\" + position.map(function (_) {\n            return _.title;\n        }).join(\"#\"));\n    }\n\n    // Prevents safari security exception (SecurityError (DOM Exception 18): Attempt to use history.replaceState() more than 100 times per 30.000000 seconds)\n    setTimeout(function () {\n        return end();\n    }, 100);\n};\n\nthis.onStickyScroll = function (ev, end) {\n    if (!_this.opts.sticky) return;\n    if (_this.refs.content.getBoundingClientRect().top > 0) {\n        _this.refs.sidePanel.style.position = \"absolute\";\n        _this.refs.sidePanel.style.top = \"\";\n        end();\n    } else {\n        _this.refs.sidePanel.style.position = \"fixed\";\n        _this.refs.sidePanel.style.top = \"0px\";\n        end();\n    }\n};\n});\n\nriot.tag2('planner-content', '    <div class=\"{depth === 1 ? chapter : planner-section}\">\\n        <h1 if=\"{depth === 1}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h1>\\n        <h2 if=\"{depth === 2}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h2>\\n        <h3 if=\"{depth === 3}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h3>\\n        <h4 if=\"{depth === 4}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h4>\\n        <h5 if=\"{depth === 5}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h5>\\n        <h6 if=\"{depth === 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h6>\\n        <p if=\"{depth > 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </p>\\n        <div data-is=\"{plan.content}\"></div>\\n        <div if=\"{plan.subs}\">\\n            <div each=\"{s in plan.subs}\">\\n                <planner-content plan=\"{s}\" prefix=\"{prefix ? prefix+\\'#\\'+plan.title : plan.title}\" depth=\"{depth + 1}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.plan = this.opts.plan;\nthis.depth = this.opts.depth || 1;\nthis.prefix = this.opts.prefix || \"\";\nthis.id = function () {\n        return _this.prefix ? _this.prefix + \"#\" + _this.plan.title : _this.plan.title;\n};\n});\n\nriot.tag2('display-planner-content', '    <a href=\"{href()}\">{opts.item.title}</a>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.href = function () {\n    return _this.opts.inputs.ancestors.map(function (a) {\n        return \"#\" + a.title;\n    }).join(\"\") + \"#\" + _this.opts.item.title;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 493:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(494);\n\n__webpack_require__(495);\n\nexports.default = {\n    title: \"Introduction\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/introduction/index.js\",\n    content: \"introduction\"\n};\n\n/***/ }),\n\n/***/ 494:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('introduction', '    <p>\\n        This page covers the <em class=\"highlight\"><a href=\"http://riotjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Riot.js</a></em> implementation of the <em><a href=\"..\">Bosket library</a></em>.<br>\\n        Versatile and flexible, Bosket eases the creation and design of tree view components.<br><br>\\n        As a matter of fact <em><a href=\"https://github.com/elbywan/bosket/tree/master/docs/riot/plan\" target=\"_blank\" rel=\"noopener noreferrer\">this whole documentation</a></em> is built around Bosket using <em><a href=\"https://github.com/elbywan/bosket/blob/master/docs/riot/plan/Planner.tag\" target=\"_blank\" rel=\"noopener noreferrer\">a custom component</a></em> which automatically creates the table of contents and the anchors.<br>\\n        <br>\\n        Multiple use case examples (including the source code and the css stylesheet) are provided alongside the documentation.\\n    </p>\\n    <h4 class=\"center-text\">API views implemented with Bosket</h4>\\n    <introductiondemos></introductiondemos>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 495:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('introductiondemos', '    <div class=\"IntroductionDemos\">\\n       <div class=\"center-text\">\\n           <span class=\"button-row\">\\n               <button each=\"{d in demos}\" onclick=\"{setDemo(d)}\" class=\"{selected: d === demo}\">\\n                   {d}\\n               </button>\\n           </span>\\n       </div>\\n       <componentdemo files=\"{getFiles(demo)}\">\\n            <virtual data-is=\"{parent.demo.toLowerCase()}\"></virtual>\\n       </ComponentDemo>\\n   </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(70);\n\nthis.demos = [\"HackerNews\", \"Pokeapi\", \"ChuckNorris\"];\nthis.demo = this.demos[0];\nthis.setDemo = function (d) {\n    return function (_) {\n        return _this.demo = d;\n    };\n};\nthis.getFiles = function (demo) {\n    return [\"./components/Demos/\" + demo + \"/\" + demo + \".tag\", \"../common/styles/\" + demo + \".css\", \"./components/Demos/\" + demo + \"/models.js\"];\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 496:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(497);\n\nvar _import2 = __webpack_require__(498);\n\nvar _import3 = _interopRequireDefault(_import2);\n\nvar _dataModel = __webpack_require__(500);\n\nvar _dataModel2 = _interopRequireDefault(_dataModel);\n\nvar _style = __webpack_require__(503);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _onlineSnippets = __webpack_require__(505);\n\nvar _onlineSnippets2 = _interopRequireDefault(_onlineSnippets);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/index.js\",\n    content: \"usage\",\n    subs: [_import3.default, _onlineSnippets2.default, _dataModel2.default, _style2.default]\n};\n\n/***/ }),\n\n/***/ 497:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('usage', '    <div>\\n        <p>It is assumed that you followed the installation <em><a href=\"../#Setup\">guidelines</a></em>.</p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 498:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(499);\n\nexports.default = {\n    title: \"Import\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/import/index.js\",\n    content: \"import\"\n};\n\n/***/ }),\n\n/***/ 499:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('import', '    <p>Bosket/riot is bundled in <em><a href=\"http://bob.yexley.net/umd-javascript-that-runs-anywhere/\" target=\"_blank\" ref=\"noopener noreferrer\">UMD</a></em> format.</p>\\n\\n    <syntax-highlight offset=\"{8}\">\\n        /* How to register Bosket tags : */\\n\\n        // ESM imports\\n        import \"@bosket/riot\"\\n\\n        // Commonjs\\n        require(\"@bosket/riot\")\\n    </syntax-highlight>\\n\\n    <p>Or just include a link to the <em>@bosket/riot/bundle/riot.umd.min.js</em> file inside a script tag.</p>\\n\\n    <syntax-highlight language=\"html\" content=\"{htmlCode}\"></syntax-highlight>\\n', '', '', function(opts) {\n\"use strict\";\n\n/* eslint-disable */\nthis.htmlCode = \"\\n            <script src=\\\".../path/to/riot.js\\\"></script>\\n            <script src=\\\".../path/to/riot.umd.min.js\\\"></script>\";\n/* eslint-enable */\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 500:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(501);\n\n__webpack_require__(502);\n\nexports.default = {\n    title: \"Data model\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/data%20model/index.js\",\n    content: \"datamodel\"\n};\n\n/***/ }),\n\n/***/ 501:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('datamodel', '    <span>\\n        <p>To populate the component you need to provide a suitable data model.</p>\\n        <syntax-highlight offset=\"{12}\">\\n            // A model is simply an array of objects.\\n\\n            const model = [\\\\{\\n                a: 1,\\n                b: 2,\\n                /* ... */\\n                // If the object has \\'children\\', it must contain a property value\\n                // being an array of objects that respects the same contract.\\n                // \\'children\\' is just a placeholer name, you can use and specify any\\n                // label as a prop of the component.\\n                children: [\\\\{\\n                    /* ... */,\\n                    // If you would like the children to be loaded asynchronously when\\n                    // the node is unfolded, you may use a function returning a Promise.\\n                    children: () => \\\\{\\n                        return new Promise(resolve =>\\n                            setTimeout(() =>\\n                                // resolves into the children model\\n                                resolve([\\\\{ a: 1, b: 2 \\\\}]), 1000))\\n                    \\\\}\\n                \\\\}],\\n            \\\\},\\n            /* ... */\\n            ]\\n        </syntax-highlight>\\n\\n        <p>The logic is pretty simple as you can see below, a model and its tree representation as a Bosket view :</p>\\n\\n        <syntax-highlight offset=\"{12}\">\\n            [\\n                \\\\{ label: \"Click me, I\\'m a node with two children.\", children: [\\n                    \\\\{ label: \"I am a childless leaf.\" \\\\},\\n                    \\\\{ label: \"I am a also a childless leaf.\" \\\\}\\n                ]\\\\},\\n                \\\\{ label: \"I\\'m a leaf, I do not have children.\" \\\\},\\n                \\\\{ label: \"I am an asynchronous node, click me and wait one second.\", children: () =>\\n                    new Promise(resolve =>\\n                        setTimeout(() =>\\n                            resolve([\\\\{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" \\\\}]), 1000))\\n                \\\\}\\n            ]\\n        </syntax-highlight>\\n\\n        <div style=\"border: 2px solid black; cursor: pointer;\">\\n           <data-model-tree></data-model-tree>\\n        </div>\\n    </span>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 502:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('data-model-tree', '    <treeview model=\"{sampleModel}\" category=\"children\" selection=\"{selection}\" onselection=\"{updateSelection}\" display=\"{display}\">\\n    </TreeView>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.sampleModel = [{ label: \"Click me, I'm a node with two children.\", children: [{ label: \"I am a childless leaf.\" }, { label: \"I am a also a childless leaf.\" }] }, { label: \"I'm a leaf, I do not have children.\" }, { label: \"I am an asynchronous node, click me and wait one second.\", children: function children() {\n        return new Promise(function (resolve) {\n            return setTimeout(function () {\n                return resolve([{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" }]);\n            }, 1000);\n        });\n    }\n}];\n\nthis.updateSelection = function (_) {\n    _this.selection = _;_this.update();\n};\nthis.selection = [];\nthis.display = function (_) {\n    return _.label;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 503:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(504);\n\nexports.default = {\n    title: \"Style\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/style/index.js\",\n    content: \"usage-style\"\n};\n\n/***/ }),\n\n/***/ 504:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('usage-style', '    <div>\\n        <p>\\n            <em>Once the component is included and rendered in your code, you will need to style it using css, otherwise it will look like a good old fashioned html unordered list.</em><br>\\n            <br>\\n            Have a look at <em><a href=\"#TreeView#Css#Empty stylesheet\">the empty stylesheet</a></em> with classes and elements already filled.<br>\\n            Also, feel free to peek at the included <em><a href=\"#TreeView#Demo\">demos css source code</a></em>.\\n        </p>\\n\\n        <syntax-highlight language=\"html\">{parent.htmlCode}</syntax-highlight>\\n\\n        <p>\\n            The css class names can be overrided by changing the <em><a href=\"#TreeView#Optional properties#css\">css property</a></em>.\\n            <br>\\n            You should also check the full <em><a href=\"#TreeView#Css#Layout\">html layout</a></em>.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.htmlCode = \"\\n            <head>\\n                <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"[your bosket stylesheet].css\\\">\\n            </head>\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 505:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(506);\n\nexports.default = {\n    title: \"Online snippets\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/online-snippets/index.js\",\n    content: \"online-snippets\"\n};\n\n/***/ }),\n\n/***/ 506:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('online-snippets', '    <iframe if=\"{!hidden}\" width=\"100%\" height=\"300\" title=\"jsfiddle-react\" src=\"//jsfiddle.net/elbywan/w17o67vw/embedded/js,html,result/dark/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\\n    <div if=\"{hidden}\" class=\"iframe-hide\" onclick=\"{unHide}\"><span>Click to load snippet</span></div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.hidden = true;\nthis.unHide = function () {\n        _this.hidden = false;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 507:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _basicUsage = __webpack_require__(508);\n\nvar _basicUsage2 = _interopRequireDefault(_basicUsage);\n\nvar _demo = __webpack_require__(510);\n\nvar _demo2 = _interopRequireDefault(_demo);\n\nvar _css = __webpack_require__(512);\n\nvar _css2 = _interopRequireDefault(_css);\n\nvar _requiredProperties = __webpack_require__(520);\n\nvar _requiredProperties2 = _interopRequireDefault(_requiredProperties);\n\nvar _optionalProperties = __webpack_require__(522);\n\nvar _optionalProperties2 = _interopRequireDefault(_optionalProperties);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"TreeView\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/index.js\",\n    subs: [_basicUsage2.default, _demo2.default, _requiredProperties2.default, _optionalProperties2.default, _css2.default]\n};\n\n/***/ }),\n\n/***/ 508:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(509);\n\nexports.default = {\n    title: \"Basic Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/basic%20usage/index.js\",\n    content: \"basic-usage\"\n};\n\n/***/ }),\n\n/***/ 509:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('basic-usage', '    <div>\\n        <p>\\n            Just drop the TreeView tag in your templates after <em><a href=\"#Usage#Import\">registering it</a></em>.<br>\\n            <br>\\n            Appearance can be tweaked using <em><a href=\"#TreeView#Css\">css</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView\\n\\n            // Required //\\n\\n            model=         /* [the data model](#TreeView#Required properties#model) */\\n            category=      /* [name of the property containing the children](#TreeView#Required properties#category) */\\n            selection=     /* [the selection array, updated when the user (de)selects items](#TreeView#Required properties#selection) */\\n            onselection=   /* [selection callback](#TreeView#Required properties#onselection) */\\n\\n            // Optional //\\n\\n            display=       /* [customize output for each element in the tree](#TreeView#Optional properties#display) */\\n            displaytag=    /* [wrap output inside a tag of your choice](#TreeView#Optional properties#displaytag) */\\n            strategies=    /* [behaviour on selection, click or fold](#TreeView#Optional properties#strategies) */\\n            sort=          /* [sort items](#TreeView#Optional properties#sort) */\\n            disable=       /* [disable certain items](#TreeView#Optional properties#disabled) */\\n            search=        /* [enables the search bar](#TreeView#Optional properties#search) */\\n            async=         /* [how to perform asynchronous loading](#TreeView#Optional properties#async) */\\n            dragndrop=     /* [drag'n'drop configuration](#TreeView#Optional properties#dragndrop) */\\n            openeropts=    /* [opener 'arrow' options](#TreeView#Optional properties#openeropts) */\\n            labels=        /* [override default labels](#TreeView#Optional properties#labels) */\\n            css=           /* [override default css classes](#TreeView#Optional properties#css) */\\n            transition=    /* [transitions on mount / unmount](#TreeView#Optional properties#transition) */\\n        />\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 510:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(511);\n\nexports.default = {\n    title: \"Demo\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/demo/index.js\",\n    content: \"treeview-demo-section\"\n};\n\n/***/ }),\n\n/***/ 511:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-demo-section', '    <div>\\n        <h4>\\n            <a download=\"BosketTreeView.css\" href=\"./components/Demos/TreeView/TreeViewDemo.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>Download stylesheet\\n            </a>\\n        </h4>\\n        <treeviewsection></treeviewsection>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 512:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(513);\n\nvar _layout = __webpack_require__(514);\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _emptyStylesheet = __webpack_require__(517);\n\nvar _emptyStylesheet2 = _interopRequireDefault(_emptyStylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"Css\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/index.js\",\n    content: \"treeview-css\",\n    subs: [_layout2.default, _emptyStylesheet2.default]\n};\n\n/***/ }),\n\n/***/ 513:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-css', '    <div>\\n        <p>\\n            A TreeView is basically made of multiple nested unordered lists.\\n            The component applies css classes to the lists and their items throughout its lifecycle.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 514:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(515);\n\nexports.default = {\n    title: \"Layout\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/layout/index.js\",\n    content: \"treeview-layout\"\n};\n\n/***/ }),\n\n/***/ 515:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-layout', '    <div>\\n        <p>\\n            Below is the <em>full HTML layout</em> of a TreeView, with the <em><a href=\"#TreeView#Optional properties#css\">default classes</a></em>.<br>\\n        </p>\\n        <syntax-highlight language=\"html\">{parent.htmlLayout}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _html_layout = __webpack_require__(516);\n\nvar _html_layout2 = _interopRequireDefault(_html_layout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.htmlLayout = _html_layout2.default;\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 516:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = \"\\n<!-- Presets override this class with the preset component name. -->\\n<div class=\\\"TreeView\\\">\\n\\n    <!-- If [search](#TreeView#Optional properties#search) is defined, hidden otherwise.-->\\n    <input type=\\\"search\\\" class=\\\"search\\\" />\\n\\n    <!-- 'depth-0'' is the root list, each nested list has the depth incremented by 1 -->\\n    <!-- If [transition](#TreeView#Optional properties#transition) is set, the transition css classes will be set on this element. -->\\n    <ul class=\\\"depth-0\\\">\\n        <li>\\n            <span class=\\\"item\\\">\\n                <!-- Return of the [display](#TreeView#Optional properties#display) or [displaytag](#TreeView#Optional properties#displaytag) function.-->\\n            </span>\\n        </li>\\n\\n        <!-- If the item is selected. -->\\n        <li class=\\\"selected\\\">\\n            <span class=\\\"item\\\"></span>\\n        </li>\\n\\n        <!-- A category is a node having children. This node is folded, its children are hidden. -->\\n        <li class=\\\"folded category\\\">\\n            <span class=\\\"item\\\">\\n                <!-- If [openeropts](#TreeView#Optional properties#openeropts) position is set, hidden otherwise. -->\\n                <span class=\\\"opener\\\"></span>\\n            </span>\\n        </li>\\n\\n        <!-- This category is not folded. -->\\n        <li class=\\\"category\\\">\\n            <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n\\n            <!-- Children. -->\\n            <ul class=\\\"depth-1\\\">\\n\\n                <!-- Asynchronous, folded node. See [async](#TreeView#Optional properties#async). -->\\n                <li class=\\\"category folded async\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- This async is currently fetching its children, waiting for the Promise to resolve. See [async](#TreeView#Optional properties#async). -->\\n                <li class=\\\"category loading\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- Disabled item, cannot be selected. See [disabled](#TreeView#Optional properties#disabled). -->\\n                <li class=\\\"disabled\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- An item is being dragged over. See [dragndrop](#TreeView#Optional properties#dragndrop). -->\\n                <li class=\\\"dragover\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- An invalid drop target. See [dragndrop](#TreeView#Optional properties#dragndrop). -->\\n                <li class=\\\"nodrop\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n            </ul>\\n        </li>\\n    </ul>\\n</div>\";\n\n/***/ }),\n\n/***/ 517:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(518);\n\nexports.default = {\n    title: \"Empty stylesheet\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/empty-stylesheet/index.js\",\n    content: \"treeview-empty-stylesheet\"\n};\n\n/***/ }),\n\n/***/ 518:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-empty-stylesheet', '    <div>\\n        <h4>\\n            <a ref=\"anchor\" download=\"bosket_empty_stylesheet.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>\\n                Download stylesheet\\n            </a>\\n        </h4>\\n\\n        <syntax-highlight language=\"css\">{parent.emptyStylesheet}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _empty_stylesheet = __webpack_require__(519);\n\nvar _empty_stylesheet2 = _interopRequireDefault(_empty_stylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.emptyStylesheet = _empty_stylesheet2.default;\nthis.one(\"mount\", function () {\n    _this.refs.anchor.href = window.URL.createObjectURL(new Blob([_empty_stylesheet2.default], { type: \"text/css\" }));\n});\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 519:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = \"\\n/* Elements */\\n.TreeView ul {}\\n.TreeView ul > li {}\\n.TreeView ul > li > span.item {}\\n.TreeView > input[type=\\\"search\\\"] {}\\n\\n/* Root list */\\n.TreeView ul.depth-0 {}\\n\\n/* Not disabled */\\n.TreeView ul li:not(.disabled) {}\\n.TreeView ul li:not(.disabled) > span.item {}\\n\\n/* Selected */\\n.TreeView ul li.selected {}\\n.TreeView ul li.selected > span.item {}\\n\\n/* Categories : Nodes with children */\\n.TreeView ul li.category {}\\n.TreeView ul li.category > span.item {}\\n/* Folded */\\n.TreeView ul li.category.folded {}\\n.TreeView ul li.category.folded > span.item {}\\n/* Unfolded */\\n.TreeView ul li.category:not(.folded) {}\\n.TreeView ul li.category:not(.folded) > span.item {}\\n/* Opener */\\n.TreeView ul li.category > span.item > .opener {}\\n.TreeView ul li.category > span.item > .opener::after {}\\n/* Folded async */\\n.TreeView li.category.async {}\\n.TreeView li.category.async > span.item {}\\n/* Loading async */\\n.TreeView li.category.loading {}\\n.TreeView li.category.loading > span.item {}\\n\\n/* Animations on tag mount / unmount */\\n.TreeViewTransition {}\\n.TreeViewTransition-mount {}\\n.TreeViewTransition-unmount {}\\n\\n/* Drag'n'drop */\\n.TreeView ul.dragover {}\\n.TreeView li.dragover {}\\n.TreeView li.dragover > span.item {}\\n.TreeView li.nodrop {}\\n.TreeView li.nodrop > span.item {}\";\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(521);\n\nexports.default = {\n    title: \"Required properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n    subs: [{\n        title: \"model\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"model-prop\"\n    }, {\n        title: \"category\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"category-prop\"\n    }, {\n        title: \"selection\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"selection-prop\"\n    }, {\n        title: \"onselection\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"onselection-prop\"\n    }]\n};\n\n/***/ }),\n\n/***/ 521:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('model-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object[]</pre>\\n        <p>\\n            An array of objects which is used to populate the component.<br>\\n            The format is detailed in the <em><a href=\"#Usage#Data model\">data model</a></em> section.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ model={ model } />\\n            <script>\\n                this.model = [\\n                    { label: \\\"One\\\" },\\n                    { label: \\\"Two\\\" },\\n                    { label: \\\"Three\\\", list: [\\n                        { label: \\\"Four\\\" },\\n                        { label: \\\"Five\\\" }\\n                    ] }\\n                ]\\n            </script>\"; // eslint-disable-line no-useless-escape\n});\n\nriot.tag2('category-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">string</pre>\\n        <p>\\n            The name of the property containing the children.<br>\\n            In the example above, it would be \"list\".\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"<TreeView /* ... */ category=\\\"list\\\" />\";\n});\n\nriot.tag2('selection-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object[]</pre>\\n        <p>\\n            An array which references the selected objects.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ selection={ selection } />\\n            <script>\\n                this.selection = []\\n            </script>\";\n});\n\nriot.tag2('onselection-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(newSelection: Object[], item: Object, ancestors: Object[], neighbours: Object[]) => void</pre>\\n        <p>\\n            A callback which is fired when the selection is updated (for instance when the user clicks on an item).<br>\\n            This method should update the <em><a href=\"#TreeView#Required properties#selection\">selection array</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ selection={ selection } onselection={ onselection } />\\n            <script>\\n                this.selection = []\\n                this.onselection = _ => this.update({ selection : _ })\\n            </script>\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 522:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(523);\n\nexports.default = {\n    title: \"Optional properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n    subs: [{\n        title: \"display\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"display-prop\"\n    }, {\n        title: \"displaytag\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"displaytag-prop\"\n    }, {\n        title: \"strategies\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"strategies-prop\"\n    }, {\n        title: \"sort\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"sort-prop\"\n    }, {\n        title: \"disable\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"disable-prop\"\n    }, {\n        title: \"search\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"search-prop\"\n    }, {\n        title: \"async\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"async-prop\"\n    }, {\n        title: \"dragndrop\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"dragndrop-prop\"\n    }, {\n        title: \"openeropts\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"openeropts-prop\"\n    }, {\n        title: \"labels\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"labels-prop\"\n    }, {\n        title: \"css\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"css-prop\"\n    }, {\n        title: \"transition\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"transition-prop\"\n    }]\n};\n\n/***/ }),\n\n/***/ 523:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('display-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\\n        <p>\\n            A custom rendering function. Called for every item, its return value is displayed in the view.<br>\\n            The \"inputs\" argument is an object containing the input properties of the component which is rendering the item.\\n        </p>\\n        <div class=\"emphasis\">\\n            Defaults to the&nbsp;\\n            <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\" target=\"_blank\" rel=\"noopener noreferrer\">toString</a></em>&nbsp;\\n            function.\\n\\n            <syntax-highlight>item => item.toString()</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ display={ display } />\\n            <script>\\n                // The display function is run for every item in the model.\\n                // Here, we choose to display the 'label' property in lower case.\\n                this.display = item => item.display.toLowerCase()\\n            </script>\"; // eslint-disable-line\n});\n\nriot.tag2('displaytag-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\\n        <p>\\n            <em>The display and displaytag properties are mutually exclusive.</em><br>\\n            <br>\\n            Allows more customization than the display property, by wrapping items inside a custom tag.<br>\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView /* ... */ displaytag={ displaytag } />\\n\\n        <script>\\n            // A custom defined tag used to wrap items in an anchor tag\\n            // opts.item is a reference to the displayed item\\n            riot.tag(\\\"customtag\\\", \\\"<a href={\\xA0opts.item.link }>{ opts.item.label }</a>\\\")\\n            this.displaytag = () => \\\"customtag\\\"\\n        </script>\"; // eslint-disable-line\n});\n\nriot.tag2('strategies-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">{strategies}</pre>\\n        <p>\\n            <em>Strategies determine the action(s) to perform on click, fold or selection.</em><br><br>\\n            The <em>strategies prop</em> is an object containing 3 properties (click, fold, selection). Each property value is an array of strategies.<br>\\n            A <em>strategy</em> is either a string (containing a predefined strategy name), or a function (executed in the tree context).<br><br>\\n            In case of multiple strategies, they are chained.\\n        </p>\\n\\n        <syntax-highlight language=\"typescript\">{parent.type}</syntax-highlight>\\n\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n\\n        <p>Check the <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/core/strategies.js\" target=\"_blank\" rel=\"noopener noreferrer\">strategies.js file</a></em> for the list of available strategies and descriptions.</p>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _templateObject = _taggedTemplateLiteralLoose([\"\\n            {\\n                selection: (string | selectionStrategy)[],\\n                click: (string | clickStrategy)[],\\n                fold: (string | foldStrategy)[]\\n            }\\n        \"], [\"\\n            {\\n                selection: (string | selectionStrategy)[],\\n                click: (string | clickStrategy)[],\\n                fold: (string | foldStrategy)[]\\n            }\\n        \"]);\n\nvar _tools = __webpack_require__(16);\n\nfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\nthis.strategies = (0, _tools.indent)(_templateObject);\nthis.type = \"\\n            type selectionStrategy<Item extends Object> = (item: Item, selection: Array<Item>, neighbours: Array<Item>, ancestors: Array<Item>) => Array<Item>\\n            type clickStrategy<Item extends Object> = (item: Item, event: MouseEvent, ancestors: Array<Item>, neighbours: Array<Item>) => void\\n            type foldStrategy<Item extends Object> = (item: Item, folded: boolean) => boolean\";\nthis.default = \"\\n            {\\n                // One item selected at a time\\n                selection: [\\\"single\\\"],\\n                // Select item on click\\n                click: [\\\"select\\\"],\\n                // Folds an item when itself or its children are not selected\\n                fold: [ \\\"not-selected\\\", \\\"no-child-selection\\\" ]\\n            }\";\nthis.code = \"\\n            <TreeView /* ... */ strategies={ strategies } />\\n\\n            <script>\\n                this.strategies = {\\n                    // Select only the items beginning with the letter a\\n                    selection: [ \\\"multiple\\\", (item, selection) => selection.filter(elt => elt.label.charAt(0) === 'a' ) ]\\n                    click: [ \\\"select\\\", unfold-on-selection\\\" ],\\n                    fold: [ \\\"opener-control\\\", \\\"no-child-selection\\\" ]\\n                }\\n            </script> // eslint-disable-line\\n        \";\n});\n\nriot.tag2('sort-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item1, item2) => boolean</pre>\\n        <p>A custom sorting function.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ sort={ sort } />\\n            <script>\\n                this.sort = (a, b) => a.label.localeCompare(b.label)\\n            </script>\";\n});\n\nriot.tag2('disable-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object) => boolean</pre>\\n        <p>Disables elements based on the result of the provided function, which prevents selection and apply the css \\'disabled\\' class.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ disable={\\xA0disable } />\\n            <script>\\n                this.disable = item => !item.children\\n            </script>\";\n});\n\nriot.tag2('search-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(query: string) => (item: Object) => boolean</pre>\\n        <p>If provided, enables the built-in search bar and is called when the user types a search query.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ search={\\xA0search } />\\n            <script>\\n                this.search = input => item => item.label.match(new RegExp(`.*${ input }.*`, \\\"gi\\\"))\\n            </script>\";\n});\n\nriot.tag2('async-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(mixed => Promise&lt;Object[]&gt;) => Promise&lt;Object[]&gt;</pre>\\n        <p>A function used to unwrap <em><a href=\"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise\" target=\"_blank\" rel=\"noopener noreferrer\">Promises</a></em> in case of asynchronous children.</p>\\n\\n        <div class=\"emphasis\">\\n            Defaults to simple method call :\\n            <syntax-highlight>_ => _()</syntax-highlight>\\n        </div>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ async={\\xA0async } model={ model } />\\n\\n            <script>\\n                this.model = [{\\n                    label: \\\"Asynchronous children\\\",\\n                    children: timer =>\\n                         new Promise(resolve =>\\n                            setTimeout(() =>\\n                                resolve([{ label: \\\"timer is provided by the async property\\\" }]), timer))\\n                }]\\n                this.async = _ => _(Math.random() * 1000 + 500)\\n            </script>\";\n});\n\nriot.tag2('dragndrop-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object (details below)</pre>\\n        <p>The drag\\'n\\'drop configuration object.</p>\\n\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n\\n\\n        <p>Tip: for mobile drag\\'n\\'drop, use a <em><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Bernardo-Castilho/dragdroptouch\">polyfill</a></em>.</p>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n\\n        <p>Example of a draggable tree associated with a droppable tree :</p>\\n\\n        <dragtree></dragtree>\\n        <droptree></droptree>\\n\\n        <syntax-highlight>{parent.dragdroptrees}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            dragndrop: {\\n                draggable: false, // make items draggable\\n                droppable: false, // make the tree droppable\\n                drag:      null,  // action to perform on drag\\n                over:      null,  // hook on dragover\\n                enter:     null,  // hook on dragenter\\n                leave:     null,  // hook on dragleave\\n                drop:      null,  // action to perform on drop\\n                cancel:    null,  // action to perform on cancellation\\n                guard:     null   // prevents dragover and drop\\n            }\\n        \";\n\nthis.code = \"\\n            /* [Drag'n'drop presets](https://github.com/elbywan/bosket/blob/master/src/core/dragndrop.js) */\\n\\n            <TreeView /* ... */ dragndrop={\\xA0dragndrop }/>\\n\\n            <script>\\n                this.dragndrop = {\\n                    // To drag or drop on specific items\\n                    // you can use a function : (item) => true/false\\n                    draggable: true,\\n                    droppable: true,\\n\\n                    // target       -> the model item targeted by the event\\n                    // event        -> the dragndrop event\\n                    // inputs       -> props of the component where the event is triggered\\n\\n                    drag: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    over: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    enter: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    leave: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    drop: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    cancel: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    guard: (target, event, inputs) => {\\n                        /* ... */\\n                    }\\n                }\\n            </script>\\n        \";\n\nthis.dragdroptrees = \"\\n            <DragTree>\\n                <div class=\\\"tree-sample\\\">\\n                    <TreeView opts={ conf } />\\n                </div>\\n                <script>\\n                    import { dragndrop } from \\\"@bosket/core\\\"\\n                    this.dragModel = [\\n                        { name: \\\"< Drag these items >\\\" },\\n                        { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }]},\\n                        { name: 2, children: [{ name: 21 }, { name: 22 }]},\\n                        { name: 3 },\\n                        { name: 4 }\\n                    ]\\n                    this.conf = {\\n                        model: this.dragModel,\\n                        category: \\\"children\\\",\\n                        selection: [],\\n                        onselection: _ => this.update({ selection: _ }),\\n                        display: i => i.name,\\n                        strategies: { fold: [() => false]},\\n                        // Pluck preset\\n                        dragndrop: { ...dragndrop.pluck(() => this.conf.model, m => {\\xA0this.conf.model = m; this.update() }) }\\n                    }\\n                </script>\\n            </DragTree>\\n\\n            <DropTree>\\n                <div class=\\\"tree-sample\\\">\\n                    <TreeView opts={ conf } />\\n                </div>\\n                <script>\\n                    import { dragndrop } from \\\"@bosket/core\\\"\\n                    this.conf = {\\n                        model: [{ name: \\\"< Drop items here >\\\", children: []}],\\n                        category: \\\"children\\\",\\n                        selection: [],\\n                        onselection: _ => this.update({ selection: _ }),\\n                        display: i => i.name,\\n                        strategies: { fold: [() => false]},\\n                        // Paste preset + only drop on items with children\\n                        dragndrop: {\\n                            ...dragndrop.paste(() => this.conf.model, m => {\\xA0this.conf.model = m; this.update() }),\\n                            droppable: item => item && item.children\\n                        }\\n                    }\\n                </script>\\n            </DropTree>\\n        \";\n});\n\nriot.tag2('dragtree', '    <div class=\"tree-sample\">\\n        <treeview opts=\"{conf}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nvar _core = __webpack_require__(9);\n\nthis.dragModel = [{ name: \"< Drag these items >\" }, { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }] }, { name: 2, children: [{ name: 21 }, { name: 22 }] }, { name: 3 }, { name: 4 }];\nthis.conf = {\n    model: this.dragModel,\n    category: \"children\",\n    selection: [],\n    onselection: function onselection(_) {\n        return _this.update({ selection: _ });\n    },\n    display: function display(i) {\n        return i.name;\n    },\n    strategies: { fold: [function () {\n            return false;\n        }] },\n    // Pluck preset\n    dragndrop: _extends({}, _core.dragndrop.pluck(function () {\n        return _this.conf.model;\n    }, function (m) {\n        _this.conf.model = m;_this.update();\n    }))\n};\n});\n\nriot.tag2('droptree', '    <div class=\"tree-sample\">\\n        <treeview opts=\"{conf}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nvar _core = __webpack_require__(9);\n\nthis.conf = {\n    model: [{ name: \"< Drop items here >\", children: [] }],\n    category: \"children\",\n    selection: [],\n    onselection: function onselection(_) {\n        return _this.update({ selection: _ });\n    },\n    display: function display(i) {\n        return i.name;\n    },\n    strategies: { fold: [function () {\n            return false;\n        }] },\n    // Paste preset + only drop on items with children\n    dragndrop: _extends({}, _core.dragndrop.paste(function () {\n        return _this.conf.model;\n    }, function (m) {\n        _this.conf.model = m;_this.update();\n    }), {\n        droppable: function droppable(item) {\n            return item && item.children;\n        }\n    })\n};\n});\n\nriot.tag2('openeropts-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">{\\'{ position: none | left | right }, callback: (item, folded) => void }\\'}</pre>\\n        <p>\\n            A collection of options used to configure the opener, which is usually the little arrow or arrow-like icon used to unfold a node..<br>\\n            <br>\\n            <strong>position</strong> : Positions the opener.<br>\\n            <strong>callback</strong> : Perform a callback when an opener is activated.\\n        </p>\\n        <div class=\"emphasis\">Defaults to \"right\"</div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ openeropts={ openeropts } />\\n\\n            <script>\\n                this.openeropts = {\\n                    position: \\\"left\\\",\\n                    callback: (item, folded) => {\\n                        console.log(`${item} is now ${folded ? 'folded' : 'unfolded'}`)\\n                    }\\n                }\\n            </script>\\n        \";\n});\n\nriot.tag2('labels-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>Labels override.</p>\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            labels: {\\n                \\\"search.placeholder\\\": \\\"Search ...\\\"\\n            }\\n        \";\nthis.code = \"\\n            <TreeView /* ... */ labels={\\xA0labels } />\\n\\n            <script>\\n                this.labels = {\\n                    \\\"search.placeholder\\\": \\\"I am the text displayed in the search bar as a placeholder.\\\"\\n                }\\n            </script>\\n        \";\n});\n\nriot.tag2('css-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>Css classnames override.</p>\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            css: {\\n                TreeView:           \\\"TreeView\\\",\\n                opener:             \\\"opener\\\",\\n                depth:              \\\"depth\\\",\\n                selected:           \\\"selected\\\",\\n                category:           \\\"category\\\",\\n                folded:             \\\"folded\\\",\\n                disabled:           \\\"disabled\\\",\\n                async:              \\\"async\\\",\\n                loading:            \\\"loading\\\",\\n                nodrop:             \\\"nodrop\\\",\\n                dragover:           \\\"dragover\\\",\\n                search:             \\\"search\\\",\\n                item:               \\\"item\\\"\\n            }\\n        \";\nthis.code = \"\\n            <TreeView /* ... */ css={ css } />\\n\\n            <script>\\n                this.css = { TreeView: \\\"CustomTree\\\", loading: \\\"customLoading\\\" }\\n            </script>\\n        \";\n});\n\nriot.tag2('transition-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>\\n            Allows transitions by <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/riot/mixins/transition.js\">applying css classes on mount/unmount</a></em>.<br>\\n        </p>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ transition={ transition } />\\n\\n            <style>\\n                .TransitionName {\\n                    transition: opacity .3s;\\n                }\\n                .TransitionName-mount, .TransitionName-unmount {\\n                    opacity: 0;\\n                }\\n            </style>\\n            <script>\\n                /*\\n                    During the whole life of the tree, the \\\"TransitionName\\\" css class\\n                        is set on the element.\\n                    On mount the  \\\"TransitionName-mount\\\" css class is applied,\\n                        then removed next tick.\\n                    On unmount the  \\\"TransitionName-unmount\\\" css class is applied,\\n                        and the node destruction is delayed until the transition completes.\\n                 */\\n                this.transition = {\\n                     name: \\\"TransitionName\\\"\\n                }\\n            </script>\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 524:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('syntax-highlight', '    <pre class=\"{language- + language}\"><code class=\"{language- + language}\" ref=\"ref\"><yield></yield></code></pre>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _tools = __webpack_require__(16);\n\nthis.language = this.opts.language || \"javascript\";\n\nvar makePrefix = function makePrefix(i) {\n    var str = \"\";\n    for (var _ = 0; _ < i; _++) {\n        str += \" \";\n    }\n    return str;\n};\nvar offsetPrefix = this.opts.offset ? makePrefix(this.opts.offset) : \"\";\nthis.one(\"mount\", function () {\n    _this.refs.ref.textContent = (0, _tools.indent)(offsetPrefix + (_this.opts.content || _this.refs.ref.textContent));\n    window.Prism.highlightElement(_this.refs.ref);\n});\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 525:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('componentdemo', '    <div class=\"ComponentDemo section\">\\n        <h3 if=\"{componentname}\">{componentname}</h3>\\n        <p if=\"{description}\">{description}</p>\\n        <div class=\"{ComponentDemo: true, flex-container: true, expanded: expand}\">\\n            <div class=\"{ComponentDemo: true, demo-area: true, expand: expand === demo}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(demo)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === demo,                         fa-expand:    expand !== demo}\"></i>\\n                </div>\\n\\n                <div class=\"ComponentDemo padded\">\\n                    <yield></yield>\\n                </div>\\n            </div>\\n            <div class=\"{ComponentDemo: true, code: true, expand: expand === code}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(code)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === code,                         fa-expand:    expand !== code}\"></i>\\n                </div>\\n\\n                <div class=\"tabs\">\\n                    <div each=\"{file in files}\" onclick=\"{setTab(file)}\" class=\"{selected: parent.tab === file}\">\\n                        {getFileName(file)}\\n                    </div>\\n                </div>\\n\\n                <pre class=\"{language- + getPrismExtension(tab)}\"><code class=\"{language- + getPrismExtension(tab)}\" ref=\"tabContents\"></code></pre>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(71);\n\nvar _tools = __webpack_require__(16);\n\nObject.assign(this, this.opts);\nif (!this.files) this.files = [];\n\nthis.expand = \"demo\";\nthis.doExpand = function (target) {\n    return function (_) {\n        return _this.expand = _this.expand === target ? \"\" : target;\n    };\n};\n\nthis._tab = null;\nthis.setTab = function (file) {\n    return function (e) {\n        return _this.tab = file;\n    };\n};\nObject.defineProperty(this, \"tab\", {\n    configurable: true,\n    get: function get() {\n        return _this._tab || (_this.files.length > 0 ? _this.files[0] : null);\n    },\n    set: function set(file) {\n        _this._tab = file;\n        (0, _tools.loadFile)(file, function (code) {\n            _this.refs.tabContents.innerHTML = window[\"Prism\"].highlight(code, window[\"Prism\"].languages[_this.getPrismExtension(file)]);\n        });\n    }\n});\nthis.tab = this.files.length > 0 ? this.files[0] : null;\n\nthis.getFileName = function (file) {\n    return file.split(\"/\").splice(-1);\n};\nthis.getPrismExtension = function (file) {\n    var split = file.split(\".\");\n    var extension = \"javascript\";\n    if (split[split.length - 1] === \"css\") extension = \"css\";else if (split[split.length - 1] === \"ts\") extension = \"typescript\";\n    return extension;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 526:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(527);\n\n__webpack_require__(531);\n\n__webpack_require__(534);\n\n__webpack_require__(537);\n\n/***/ }),\n\n/***/ 527:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(528);\n\n__webpack_require__(530);\n\n/***/ }),\n\n/***/ 528:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeviewdemo', '\\n    <treeview opts=\"{options}\" selection=\"{opts.selection}\" onselection=\"{opts.onselection}\"></treeview>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Model\n\n// Style\n\nvar _tools = __webpack_require__(10);\n\nvar _core = __webpack_require__(9);\n\nvar _riot = __webpack_require__(6);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _TreeViewModel = __webpack_require__(81);\n\nvar _TreeViewModel2 = _interopRequireDefault(_TreeViewModel);\n\n__webpack_require__(529);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.dragImage = new Image();\nthis.dragImage.src = \"../assets/drag-image.png\";\n\n// A custom defined tag used to wrap items on display\n_riot2.default.tag(\"wrappedlabel\", \"<a>{ opts.item.label }</a>\");\n\nthis.options = {\n    // Data model\n    model: _TreeViewModel2.default,\n    // Property of the model containing children\n    category: \"items\",\n    // Wrapper tag\n    displaytag: function displaytag(item) {\n        return \"wrappedlabel\";\n    },\n    // Alphabetical sort\n    sort: function sort(a, b) {\n        return a.label.localeCompare(b.label);\n    },\n    // Search by regex\n    search: function search(input) {\n        return function (i) {\n            return (0, _tools.string)(i.label).contains(input);\n        };\n    },\n    strategies: {\n        // Select on click\n        click: [\"select\"],\n        // Use keyboard modifiers\n        selection: [\"modifiers\"],\n        // Use the opener to control element folding\n        fold: [\"opener-control\"]\n    },\n    // Custom css root class name\n    css: { TreeView: \"TreeViewDemo\" },\n    dragndrop: _extends({}, _core.dragndrop.selection(function () {\n        return _this.options.model;\n    }, function (m) {\n        _this.options.model = m;_this.update();\n    }), {\n        // Add a custom image on drag\n        drag: function drag(_, event) {\n            event.dataTransfer.setDragImage(_this.dragImage, 0, 0);\n            event.dataTransfer.setData(\"application/json\", JSON.stringify(_this.options.selection));\n        },\n        // Drop only on categories or root (excluding asynchronous promises)\n        droppable: function droppable(_) {\n            return !_ || _.items && _.items instanceof Array;\n        }\n    }),\n    // Allow css transitions on mount/unmount\n    transition: {\n        name: \"TreeViewDemoTransition\"\n    }\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 529:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 530:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeviewsection', '    <div>\\n        <p>\\n            <span>Demonstrates a basic usage of the TreeView component </span>\\n            <span>and how to override and use most of its </span>\\n            <em><a href=\"#TreeView#Required properties\">component props</a></em>, and&nbsp;\\n            <em><a href=\"#TreeView#Css\">css styles</a></em>.\\n        </p>\\n        <span>Featuring :</span>\\n        <ul>\\n            <li>Drag and drop, with a custom drag image.</li>\\n            <li>Asynchronous children loading</li>\\n            <li>Multiselection using keyboard modifiers (shift / ctrl or cmd)</li>\\n            <li>Transitions on fold / unfold</li>\\n            <li>Alphabetical sort</li>\\n            <li>Search bar</li>\\n        </ul>\\n    </div>\\n    <componentdemo componentname=\"Nested items\" files=\"{files}\">\\n        <div class=\"TreeViewWindow\">\\n            <div style=\"display: inline-block; text-align: left\">\\n                <treeviewdemo selection=\"{parent.selection}\" onselection=\"{parent.onselection}\"></TreeViewDemo>\\n            </div>\\n\\n            <p>\\n                <span if=\"{parent.selection.length === 0}\">No elements are</span>\\n                <span if=\"{parent.selection.length === 1}\">One element is</span>\\n                <span if=\"{parent.selection.length > 1}\">{parent.selection.length} elements are</span>\\n                selected.\\n            </p>\\n\\n            <div class=\"select-blocks\">\\n                <button each=\"{item in parent.selection}\" onclick=\"{parent.parent.deselect(item)}\">\\n                    {item.label}\\n                </button>\\n            </div>\\n        </div>\\n    </ComponentDemo>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(82);\n\nthis.files = [\"./components/Demos/TreeView/TreeViewDemo.tag\", \"./components/Demos/TreeView/TreeViewDemo.css\", \"../common/models/TreeViewModel.js\"];\n\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.deselect = function (item) {\n    return function (_) {\n        return _this.selection = _this.selection.filter(function (i) {\n            return i !== item;\n        });\n    };\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 531:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(532);\n\n/***/ }),\n\n/***/ 532:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('chucknorriscategory', '    <span class=\"value\">{item.value}\\n        <i class=\"{fa fa-refresh + (item.children.length === 0 ?  loading : )}\" onclick=\"{onClick}\">\\n        </i>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nthis.onClick = function (e) {\n    _this.item.children = [];\n    _this.item.loadJoke().then(function (joke) {\n        _this.item.children = joke;\n        _this.parent.update();\n    });\n};\n});\n\nriot.tag2('chucknorrisjoke', '    <div class=\"value\">\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.value}</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('chucknorris', '    <div>\\n       <div style=\"text-align: center; margin: 10px;\">\\n           <div>\\n               <a href=\"https://api.chucknorris.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                   <img src=\"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png\" alt=\"Chuck Norris api logo\" style=\"width: 100px; filter: drop-shadow(0 0 2px #444);\">\\n               </a>\\n           </div>\\n           <h5>A curated list of Chuck Norris jokes.</h5>\\n           <div>\\n               <button onclick=\"{init}\" class=\"ChuckNorrisButton\">Reset</button>\\n           </div>\\n            <i if=\"{categories.length === 0}\" class=\"ChuckNorrisSpinner fa fa-spinner fa-3x\"></i>\\n       </div>\\n       <treeview if=\"{categories.length > 0}\" model=\"{categories}\" category=\"children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(72);\n\nvar _models = __webpack_require__(533);\n\nthis.categories = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"], click: [\"unfold-on-selection\"] },\n    css: { TreeView: \"ChuckNorrisDemo\" }\n};\nthis.init = function () {\n    fetch(\"https://api.chucknorris.io/jokes/categories\").then(function (response) {\n        return response.json();\n    }).then(function (categories) {\n        _this.categories = categories.map(function (cat) {\n            return new _models.Category(cat);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\nthis.display = function (item) {\n    return item.display();\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 533:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Category = exports.Category = function Category(category) {\n    var _this = this;\n\n    _classCallCheck(this, Category);\n\n    this.loadJoke = function () {\n        return fetch(\"https://api.chucknorris.io/jokes/random?category=\" + _this.value).then(function (response) {\n            return response.json();\n        }).then(function (joke) {\n            return [new Joke(joke)];\n        });\n    };\n\n    this.display = function () {\n        return \"chucknorriscategory\";\n    };\n\n    this.value = category;\n    this.children = this.loadJoke;\n}\n\n// Riotjs tags are lowercased by the compiler\n;\n\nvar Joke = exports.Joke = function Joke(joke) {\n    _classCallCheck(this, Joke);\n\n    this.display = function () {\n        return \"chucknorrisjoke\";\n    };\n\n    Object.assign(this, joke);\n}\n// Riotjs tags are lowercased by the compiler\n;\n\n/***/ }),\n\n/***/ 534:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(535);\n\n/***/ }),\n\n/***/ 535:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('hackernewsfetchmore', '    <div class=\"fetchMore\" onclick=\"{more}\">\\n        <a>Load more comments</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.more = function (e) {\n    _this.opts.item.fetchKids().then(_this.parent.parent.update);\n};\n});\n\nriot.tag2('hackernewstopstories', '    <span class=\"story\">\\n        <span class=\"commentCount\"><span if=\"{item.descendants}\">({item.descendants}) </span>({item.score} points) - by <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a></span>\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">\\n            {item.title}\\n        </a>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('hackernewscomment', '    <div class=\"comment\">\\n        <div class=\"infobar\">\\n            <span class=\"commentCount\" if=\"{item.kids && item.kids.length > 0}\">({item.kids.length})</span>\\n            <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a> {item.date}\\n        </div>\\n        <div class=\"text\" if=\"{item.deleted}\"><em>Deleted.</em></div>\\n        <div class=\"text\" if=\"{!item.deleted}\" ref=\"content\"></div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nvar refreshContent = function refreshContent() {\n        return _this.refs.content.innerHTML = _this.item.text;\n};\nthis.on(\"update\", refreshContent);\nthis.one(\"mount\", refreshContent);\n});\n\nriot.tag2('hackernews', '    <div>\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://news.ycombinator.com\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"http://www.ycombinator.com/images/ycombinator-logo-fb889e2e.png\" alt=\"HackerNews logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>The top 10 stories from HackerNews.</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"HackerNewsButton\">Reset</button>\\n            </div>\\n            <i if=\"{stories.length === 0}\" class=\"HackerNewsSpinner fa fa-spinner fa-3x\"></i>\\n        </div>\\n        <treeview if=\"{stories.length > 0}\" model=\"{stories}\" category=\"children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></TreeView>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(73);\n\nvar _models = __webpack_require__(536);\n\nthis.stories = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"] },\n    css: { TreeView: \"HackerNewsDemo\" }\n};\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    fetch(\"https://hacker-news.firebaseio.com/v0/beststories.json\").then(function (response) {\n        return response.json();\n    }).then(function (topStories) {\n        return (0, _models.fetchLast)(topStories, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        });\n    }).then(function (topStories) {\n        _this.stories = topStories.map(function (story) {\n            return new _models.TopStory(story);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 536:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Comment = exports.TopStory = exports.fetchLast = undefined;\n\nvar _sanitizeHtml = __webpack_require__(74);\n\nvar _sanitizeHtml2 = _interopRequireDefault(_sanitizeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar fetchLast = exports.fetchLast = function fetchLast(arr, getUrl) {\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n    var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    return Promise.all(arr.slice(offset, offset + limit).map(function (_) {\n        return fetch(getUrl(_)).then(function (response) {\n            return response.json();\n        });\n    }));\n};\n\nvar Item = function () {\n    function Item(data) {\n        var _this = this;\n\n        _classCallCheck(this, Item);\n\n        this.offset = 0;\n        this.fetchLimit = 5;\n\n        Object.assign(this, data);\n        if (this.kids) {\n            this.children = function () {\n                return _this.fetchKids();\n            };\n        }\n    }\n\n    Item.prototype.fetchKids = function fetchKids() {\n        var _this2 = this;\n\n        if (this.children instanceof Array && this.children[this.children.length - 1].id === -1) this.children = this.children.slice(0, this.children.length - 1);\n        return fetchLast(this.kids, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        }, this.fetchLimit, this.offset).then(function (kids) {\n            var result = kids.map(function (k) {\n                return new Comment(k);\n            });\n            _this2.offset += _this2.fetchLimit;\n            if (_this2.offset < _this2.kids.length) {\n                result.push({\n                    id: -1,\n                    fetchKids: function fetchKids() {\n                        return _this2.fetchKids().then(function (_) {\n                            if (_this2.children instanceof Array) _this2.children = [].concat(_this2.children, _);\n                        });\n                    },\n                    // Riotjs tags are lowercased by the compiler\n                    display: function display() {\n                        return \"hackernewsfetchmore\";\n                    }\n                });\n            }\n            return result;\n        });\n    };\n\n    return Item;\n}();\n\nvar TopStory = exports.TopStory = function (_Item) {\n    _inherits(TopStory, _Item);\n\n    function TopStory() {\n        var _temp, _this3, _ret;\n\n        _classCallCheck(this, TopStory);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, _Item.call.apply(_Item, [this].concat(args))), _this3), _this3.display = function () {\n            return \"hackernewstopstories\";\n        }, _temp), _possibleConstructorReturn(_this3, _ret);\n    }\n    // Riotjs tags are lowercased by the compiler\n\n\n    return TopStory;\n}(Item);\n\nvar Comment = exports.Comment = function (_Item2) {\n    _inherits(Comment, _Item2);\n\n    function Comment(data) {\n        _classCallCheck(this, Comment);\n\n        var _this4 = _possibleConstructorReturn(this, _Item2.call(this, data));\n\n        _this4.display = function () {\n            return \"hackernewscomment\";\n        };\n\n        _this4.text = (0, _sanitizeHtml2.default)(_this4.text);\n        _this4.date = new Date(_this4.time * 1000).toLocaleDateString();\n        return _this4;\n    }\n\n    // Riotjs tags are lowercased by the compiler\n\n\n    return Comment;\n}(Item);\n\n/***/ }),\n\n/***/ 537:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(538);\n\n/***/ }),\n\n/***/ 538:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('pokeapisubcategory', '    <span class=\"subcategory\">{opts.item.name}</span>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapiitem', '    <div class=\"{subsection : opts.item.__subsection}\">\\n        <img if=\"{opts.item.__image}\" riot-src=\"{opts.item.__image}\" alt=\"sprite\">\\n        <div class=\"property-row\" each=\"{prop in filterProps()}\">\\n            <label>{prop}</label><span>{ + parent.opts.item[prop]}</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _this = this;\n\nthis.filterProps = function () {\n    var props = Object.getOwnPropertyNames(_this.opts.item);\n    return props.filter(function (prop) {\n        return !prop.startsWith(\"__\") && !(_typeof(_this[prop]) === \"object\") && !(typeof _this[prop] === \"function\");\n    });\n};\n});\n\nriot.tag2('pokemondisplay', '    <virtual>{opts.item.name} </virtual>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapi', '    <div style=\"position: relative;\">\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://pokeapi.co/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"https://avatars3.githubusercontent.com/u/19692032?v=4&s=200\" alt=\"Pokapi logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>Pokmon API crawler</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"PokeapiButton\">Reset</button>\\n            </div>\\n        </div>\\n        <treeview model=\"{data}\" category=\"__children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\" disable=\"{conf.disable}\" search=\"{conf.search}\"></treeview>\\n        <div class=\"{PokeapiLoadMore: true, center-text: true, loading: loading}\" riot-style=\"{display: + loadUrl ? block : none}\" onclick=\"{loadMorePokemons}\">\\n            <i class=\"fa fa-spinner fa-2x\" if=\"{loading}\"></i>\\n            <span if=\"{!loading}\">Show more pokmons</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\n__webpack_require__(80);\n\nvar _models = __webpack_require__(539);\n\nthis.conf = {\n    strategies: { fold: [\"opener-control\", function (_) {\n            return !_.__subsection;\n        }], click: [\"toggle-fold\"] },\n    css: { TreeView: \"PokeapiDemo\" },\n    disable: function disable(_) {\n        return _.__children && _.__children instanceof Array && _.__children.length === 0;\n    },\n    search: function search(input) {\n        return function (item) {\n            return item.name && item.name.startsWith(input);\n        };\n    }\n};\nthis.data = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.loading = false;\nthis.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    _this.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: _ });\n    });\n};\nthis.one(\"mount\", this.init);\n\nthis.loadPokemons = function () {\n    if (!_this.loadUrl) return;\n    _this.loading = true;\n    return (0, _models.cachedFetch)(_this.loadUrl).then(function (json) {\n        _this.loadUrl = json.next;\n        _this.loading = false;\n        return json.results.map(function (i) {\n            return _extends({}, i, {\n                display: function display() {\n                    return \"pokemondisplay\";\n                },\n                __children: function __children() {\n                    return (0, _models.cachedFetch)(i.url).then(function (json) {\n                        return [new _models.Item(json)];\n                    });\n                }\n            });\n        });\n    }).catch(function (err) {\n        return _this.loading = false;\n    });\n};\nthis.loadMorePokemons = function () {\n    if (_this.loading) return;\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: [].concat(_this.data, _) });\n    });\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 539:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Item = exports.Item = function () {\n    function Item(data) {\n        _classCallCheck(this, Item);\n\n        Object.assign(this, formatData(data));\n    }\n\n    Item.prototype.display = function display() {\n        return this.name && this.url ? \"pokeapisubcategory\" : \"pokeapiitem\";\n    };\n\n    return Item;\n}();\n\nvar cache = new Map();\nvar cachedFetch = exports.cachedFetch = function cachedFetch(url) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    if (cache.has(url)) return Promise.resolve(cache.get(url));\n    return fetch.apply(undefined, [url].concat(args)).then(function (response) {\n        return response.json();\n    }).then(function (json) {\n        cache.set(url, json);\n        return json;\n    });\n};\n\nvar imageMatch = function imageMatch(name, val) {\n    return name === \"sprites\" && val.front_default;\n};\n\nvar formatData = function formatData(d) {\n    var data = _extends({}, d);\n    if (data.url) {\n        var url = data.url;\n        data.__children = function () {\n            return cachedFetch(url).then(function (json) {\n                return [new Item(json)];\n            });\n        };\n        return data;\n    }\n    data.__subsection = true;\n    for (var prop in data) {\n        if (prop.startsWith(\"__\")) continue;\n\n        if (data[prop] instanceof Array) {\n            if (!data.__children) data.__children = [];\n            data.__children.push({\n                name: \"\" + prop,\n                display: function display() {\n                    return \"pokeapisubcategory\";\n                },\n                __children: data[prop].map(function (_) {\n                    return new Item(_);\n                })\n            });\n            delete data[prop];\n        } else if (data[prop] && _typeof(data[prop]) === \"object\") {\n            if (!data.__children) data.__children = [];\n            if (data[prop].url && data[prop].name) {\n                (function () {\n                    var name = data[prop].name;\n                    var url = data[prop].url;\n                    data.__children.push({\n                        name: name,\n                        display: function display() {\n                            return \"pokeapisubcategory\";\n                        },\n                        __children: function __children() {\n                            return cachedFetch(url).then(function (json) {\n                                return [new Item(json)];\n                            });\n                        }\n                    });\n                })();\n            } else {\n                data.__children.push({\n                    name: \"\" + prop,\n                    display: function display() {\n                        return \"pokeapisubcategory\";\n                    },\n                    __children: [new Item(data[prop])]\n                });\n            }\n            var img = imageMatch(prop, data[prop]);\n            if (img) data.__image = img;\n            delete data[prop];\n        }\n    }\n    return data;\n};\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* Riot v3.9.1, @license MIT */\n(function (global, factory) {\n   true ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.riot = {})));\n}(this, (function (exports) { 'use strict';\n\n  /**\n   * Shorter and fast way to select a single node in the DOM\n   * @param   { String } selector - unique dom selector\n   * @param   { Object } ctx - DOM node where the target of our search will is located\n   * @returns { Object } dom node found\n   */\n  function $(selector, ctx) {\n    return (ctx || document).querySelector(selector)\n  }\n\n  var\n    // be aware, internal usage\n    // ATTENTION: prefix the global dynamic variables with `__`\n    // tags instances cache\n    __TAGS_CACHE = [],\n    // tags implementation cache\n    __TAG_IMPL = {},\n    YIELD_TAG = 'yield',\n\n    /**\n     * Const\n     */\n    GLOBAL_MIXIN = '__global_mixin',\n\n    // riot specific prefixes or attributes\n    ATTRS_PREFIX = 'riot-',\n\n    // Riot Directives\n    REF_DIRECTIVES = ['ref', 'data-ref'],\n    IS_DIRECTIVE = 'data-is',\n    CONDITIONAL_DIRECTIVE = 'if',\n    LOOP_DIRECTIVE = 'each',\n    LOOP_NO_REORDER_DIRECTIVE = 'no-reorder',\n    SHOW_DIRECTIVE = 'show',\n    HIDE_DIRECTIVE = 'hide',\n    KEY_DIRECTIVE = 'key',\n    RIOT_EVENTS_KEY = '__riot-events__',\n\n    // for typeof == '' comparisons\n    T_STRING = 'string',\n    T_OBJECT = 'object',\n    T_UNDEF  = 'undefined',\n    T_FUNCTION = 'function',\n\n    XLINK_NS = 'http://www.w3.org/1999/xlink',\n    SVG_NS = 'http://www.w3.org/2000/svg',\n    XLINK_REGEX = /^xlink:(\\w+)/,\n\n    WIN = typeof window === T_UNDEF ? undefined : window,\n\n    // special native tags that cannot be treated like the others\n    RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n    RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,\n    RE_EVENTS_PREFIX = /^on/,\n    RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g,\n    // some DOM attributes must be normalized\n    CASE_SENSITIVE_ATTRIBUTES = {\n      'viewbox': 'viewBox',\n      'preserveaspectratio': 'preserveAspectRatio'\n    },\n    /**\n     * Matches boolean HTML attributes in the riot tag definition.\n     * With a long list like this, a regex is faster than `[].indexOf` in most browsers.\n     * @const {RegExp}\n     * @see [attributes.md](https://github.com/riot/compiler/blob/dev/doc/attributes.md)\n     */\n    RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,\n    // version# for IE 8-11, 0 for others\n    IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n  /**\n   * Create a generic DOM node\n   * @param   { String } name - name of the DOM node we want to create\n   * @returns { Object } DOM node just created\n   */\n  function makeElement(name) {\n    return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n  }\n\n  /**\n   * Set any DOM attribute\n   * @param { Object } dom - DOM node we want to update\n   * @param { String } name - name of the property we want to set\n   * @param { String } val - value of the property we want to set\n   */\n  function setAttribute(dom, name, val) {\n    var xlink = XLINK_REGEX.exec(name);\n    if (xlink && xlink[1])\n      { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n    else\n      { dom.setAttribute(name, val); }\n  }\n\n  var styleNode;\n  // Create cache and shortcut to the correct property\n  var cssTextProp;\n  var byName = {};\n  var remainder = [];\n  var needsInject = false;\n\n  // skip the following code on the server\n  if (WIN) {\n    styleNode = ((function () {\n      // create a new style element with the correct type\n      var newNode = makeElement('style');\n      // replace any user node or insert the new one into the head\n      var userNode = $('style[type=riot]');\n\n      setAttribute(newNode, 'type', 'text/css');\n      /* istanbul ignore next */\n      if (userNode) {\n        if (userNode.id) { newNode.id = userNode.id; }\n        userNode.parentNode.replaceChild(newNode, userNode);\n      } else { document.head.appendChild(newNode); }\n\n      return newNode\n    }))();\n    cssTextProp = styleNode.styleSheet;\n  }\n\n  /**\n   * Object that will be used to inject and manage the css of every tag instance\n   */\n  var styleManager = {\n    styleNode: styleNode,\n    /**\n     * Save a tag style to be later injected into DOM\n     * @param { String } css - css string\n     * @param { String } name - if it's passed we will map the css to a tagname\n     */\n    add: function add(css, name) {\n      if (name) { byName[name] = css; }\n      else { remainder.push(css); }\n      needsInject = true;\n    },\n    /**\n     * Inject all previously saved tag styles into DOM\n     * innerHTML seems slow: http://jsperf.com/riot-insert-style\n     */\n    inject: function inject() {\n      if (!WIN || !needsInject) { return }\n      needsInject = false;\n      var style = Object.keys(byName)\n        .map(function (k) { return byName[k]; })\n        .concat(remainder).join('\\n');\n      /* istanbul ignore next */\n      if (cssTextProp) { cssTextProp.cssText = style; }\n      else { styleNode.innerHTML = style; }\n    }\n  }\n\n  /**\n   * The riot template engine\n   * @version v3.0.8\n   */\n\n  var skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n    var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n    var beforeReWords = [\n      'case',\n      'default',\n      'do',\n      'else',\n      'in',\n      'instanceof',\n      'prefix',\n      'return',\n      'typeof',\n      'void',\n      'yield'\n    ];\n\n    var wordsLastChar = beforeReWords.reduce(function (s, w) {\n      return s + w.slice(-1)\n    }, '');\n\n    var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n    var RE_VN_CHAR = /[$\\w]/;\n\n    function prev (code, pos) {\n      while (--pos >= 0 && /\\s/.test(code[pos])){ }\n      return pos\n    }\n\n    function _skipRegex (code, start) {\n\n      var re = /.*/g;\n      var pos = re.lastIndex = start++;\n      var match = re.exec(code)[0].match(RE_REGEX);\n\n      if (match) {\n        var next = pos + match[0].length;\n\n        pos = prev(code, pos);\n        var c = code[pos];\n\n        if (pos < 0 || ~beforeReChars.indexOf(c)) {\n          return next\n        }\n\n        if (c === '.') {\n\n          if (code[pos - 1] === '.') {\n            start = next;\n          }\n\n        } else if (c === '+' || c === '-') {\n\n          if (code[--pos] !== c ||\n              (pos = prev(code, pos)) < 0 ||\n              !RE_VN_CHAR.test(code[pos])) {\n            start = next;\n          }\n\n        } else if (~wordsLastChar.indexOf(c)) {\n\n          var end = pos + 1;\n\n          while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){ }\n          if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n            start = next;\n          }\n        }\n      }\n\n      return start\n    }\n\n    return _skipRegex\n\n  })();\n\n  /**\n   * riot.util.brackets\n   *\n   * - `brackets    ` - Returns a string or regex based on its parameter\n   * - `brackets.set` - Change the current riot brackets\n   *\n   * @module\n   */\n\n  /* global riot */\n\n  /* istanbul ignore next */\n  var brackets = (function (UNDEF) {\n\n    var\n      REGLOB = 'g',\n\n      R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n      R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n      S_QBLOCKS = R_STRINGS.source + '|' +\n        /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n        /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n      UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n      NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n      S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n      FINDBRACES = {\n        '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n        '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n        '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n      },\n\n      DEFAULT = '{ }';\n\n    var _pairs = [\n      '{', '}',\n      '{', '}',\n      /{[^}]*}/,\n      /\\\\([{}])/g,\n      /\\\\({)|{/g,\n      RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n      DEFAULT,\n      /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n      /(^|[^\\\\]){=[\\S\\s]*?}/\n    ];\n\n    var\n      cachedBrackets = UNDEF,\n      _regex,\n      _cache = [],\n      _settings;\n\n    function _loopback (re) { return re }\n\n    function _rewrite (re, bp) {\n      if (!bp) { bp = _cache; }\n      return new RegExp(\n        re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n      )\n    }\n\n    function _create (pair) {\n      if (pair === DEFAULT) { return _pairs }\n\n      var arr = pair.split(' ');\n\n      if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n        throw new Error('Unsupported brackets \"' + pair + '\"')\n      }\n      arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n      arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n      arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n      arr[6] = _rewrite(_pairs[6], arr);\n      arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n      arr[8] = pair;\n      return arr\n    }\n\n    function _brackets (reOrIdx) {\n      return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n    }\n\n    _brackets.split = function split (str, tmpl, _bp) {\n      // istanbul ignore next: _bp is for the compiler\n      if (!_bp) { _bp = _cache; }\n\n      var\n        parts = [],\n        match,\n        isexpr,\n        start,\n        pos,\n        re = _bp[6];\n\n      var qblocks = [];\n      var prevStr = '';\n      var mark, lastIndex;\n\n      isexpr = start = re.lastIndex = 0;\n\n      while ((match = re.exec(str))) {\n\n        lastIndex = re.lastIndex;\n        pos = match.index;\n\n        if (isexpr) {\n\n          if (match[2]) {\n\n            var ch = match[2];\n            var rech = FINDBRACES[ch];\n            var ix = 1;\n\n            rech.lastIndex = lastIndex;\n            while ((match = rech.exec(str))) {\n              if (match[1]) {\n                if (match[1] === ch) { ++ix; }\n                else if (!--ix) { break }\n              } else {\n                rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n              }\n            }\n            re.lastIndex = ix ? str.length : rech.lastIndex;\n            continue\n          }\n\n          if (!match[3]) {\n            re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n            continue\n          }\n        }\n\n        if (!match[1]) {\n          unescapeStr(str.slice(start, pos));\n          start = re.lastIndex;\n          re = _bp[6 + (isexpr ^= 1)];\n          re.lastIndex = start;\n        }\n      }\n\n      if (str && start < str.length) {\n        unescapeStr(str.slice(start));\n      }\n\n      parts.qblocks = qblocks;\n\n      return parts\n\n      function unescapeStr (s) {\n        if (prevStr) {\n          s = prevStr + s;\n          prevStr = '';\n        }\n        if (tmpl || isexpr) {\n          parts.push(s && s.replace(_bp[5], '$1'));\n        } else {\n          parts.push(s);\n        }\n      }\n\n      function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n        if (slash) {\n          _lastIndex = skipRegex(str, _pos);\n        }\n\n        if (tmpl && _lastIndex > _pos + 2) {\n          mark = '\\u2057' + qblocks.length + '~';\n          qblocks.push(str.slice(_pos, _lastIndex));\n          prevStr += str.slice(start, _pos) + mark;\n          start = _lastIndex;\n        }\n        return _lastIndex\n      }\n    };\n\n    _brackets.hasExpr = function hasExpr (str) {\n      return _cache[4].test(str)\n    };\n\n    _brackets.loopKeys = function loopKeys (expr) {\n      var m = expr.match(_cache[9]);\n\n      return m\n        ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n        : { val: expr.trim() }\n    };\n\n    _brackets.array = function array (pair) {\n      return pair ? _create(pair) : _cache\n    };\n\n    function _reset (pair) {\n      if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n        _cache = _create(pair);\n        _regex = pair === DEFAULT ? _loopback : _rewrite;\n        _cache[9] = _regex(_pairs[9]);\n      }\n      cachedBrackets = pair;\n    }\n\n    function _setSettings (o) {\n      var b;\n\n      o = o || {};\n      b = o.brackets;\n      Object.defineProperty(o, 'brackets', {\n        set: _reset,\n        get: function () { return cachedBrackets },\n        enumerable: true\n      });\n      _settings = o;\n      _reset(b);\n    }\n\n    Object.defineProperty(_brackets, 'settings', {\n      set: _setSettings,\n      get: function () { return _settings }\n    });\n\n    /* istanbul ignore next: in the browser riot is always in the scope */\n    _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n    _brackets.set = _reset;\n    _brackets.skipRegex = skipRegex;\n\n    _brackets.R_STRINGS = R_STRINGS;\n    _brackets.R_MLCOMMS = R_MLCOMMS;\n    _brackets.S_QBLOCKS = S_QBLOCKS;\n    _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n    return _brackets\n\n  })();\n\n  /**\n   * @module tmpl\n   *\n   * tmpl          - Root function, returns the template value, render with data\n   * tmpl.hasExpr  - Test the existence of a expression inside a string\n   * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n   */\n\n  /* istanbul ignore next */\n  var tmpl = (function () {\n\n    var _cache = {};\n\n    function _tmpl (str, data) {\n      if (!str) { return str }\n\n      return (_cache[str] || (_cache[str] = _create(str))).call(\n        data, _logErr.bind({\n          data: data,\n          tmpl: str\n        })\n      )\n    }\n\n    _tmpl.hasExpr = brackets.hasExpr;\n\n    _tmpl.loopKeys = brackets.loopKeys;\n\n    // istanbul ignore next\n    _tmpl.clearCache = function () { _cache = {}; };\n\n    _tmpl.errorHandler = null;\n\n    function _logErr (err, ctx) {\n\n      err.riotData = {\n        tagName: ctx && ctx.__ && ctx.__.tagName,\n        _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n      };\n\n      if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n      else if (\n        typeof console !== 'undefined' &&\n        typeof console.error === 'function'\n      ) {\n        console.error(err.message);\n        console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n        console.log(this.data); // eslint-disable-line\n      }\n    }\n\n    function _create (str) {\n      var expr = _getTmpl(str);\n\n      if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n      return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n    }\n\n    var RE_DQUOTE = /\\u2057/g;\n    var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n    function _getTmpl (str) {\n      var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n      var qstr = parts.qblocks;\n      var expr;\n\n      if (parts.length > 2 || parts[0]) {\n        var i, j, list = [];\n\n        for (i = j = 0; i < parts.length; ++i) {\n\n          expr = parts[i];\n\n          if (expr && (expr = i & 1\n\n              ? _parseExpr(expr, 1, qstr)\n\n              : '\"' + expr\n                  .replace(/\\\\/g, '\\\\\\\\')\n                  .replace(/\\r\\n?|\\n/g, '\\\\n')\n                  .replace(/\"/g, '\\\\\"') +\n                '\"'\n\n            )) { list[j++] = expr; }\n\n        }\n\n        expr = j < 2 ? list[0]\n             : '[' + list.join(',') + '].join(\"\")';\n\n      } else {\n\n        expr = _parseExpr(parts[1], 0, qstr);\n      }\n\n      if (qstr.length) {\n        expr = expr.replace(RE_QBMARK, function (_, pos) {\n          return qstr[pos]\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\n/g, '\\\\n')\n        });\n      }\n      return expr\n    }\n\n    var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n    var\n      RE_BREND = {\n        '(': /[()]/g,\n        '[': /[[\\]]/g,\n        '{': /[{}]/g\n      };\n\n    function _parseExpr (expr, asText, qstr) {\n\n      expr = expr\n        .replace(/\\s+/g, ' ').trim()\n        .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n      if (expr) {\n        var\n          list = [],\n          cnt = 0,\n          match;\n\n        while (expr &&\n              (match = expr.match(RE_CSNAME)) &&\n              !match.index\n          ) {\n          var\n            key,\n            jsb,\n            re = /,|([[{(])|$/g;\n\n          expr = RegExp.rightContext;\n          key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n          while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n          jsb  = expr.slice(0, match.index);\n          expr = RegExp.rightContext;\n\n          list[cnt++] = _wrapExpr(jsb, 1, key);\n        }\n\n        expr = !cnt ? _wrapExpr(expr, asText)\n             : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n      }\n      return expr\n\n      function skipBraces (ch, re) {\n        var\n          mm,\n          lv = 1,\n          ir = RE_BREND[ch];\n\n        ir.lastIndex = re.lastIndex;\n        while (mm = ir.exec(expr)) {\n          if (mm[0] === ch) { ++lv; }\n          else if (!--lv) { break }\n        }\n        re.lastIndex = lv ? expr.length : ir.lastIndex;\n      }\n    }\n\n    // istanbul ignore next: not both\n    var // eslint-disable-next-line max-len\n      JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n      JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n      JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n    function _wrapExpr (expr, asText, key) {\n      var tb;\n\n      expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n        if (mvar) {\n          pos = tb ? 0 : pos + match.length;\n\n          if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n            match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n            if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n          } else if (pos) {\n            tb = !JS_NOPROPS.test(s.slice(pos));\n          }\n        }\n        return match\n      });\n\n      if (tb) {\n        expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n      }\n\n      if (key) {\n\n        expr = (tb\n            ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n          ) + '?\"' + key + '\":\"\"';\n\n      } else if (asText) {\n\n        expr = 'function(v){' + (tb\n            ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n          ) + ';return v||v===0?v:\"\"}.call(this)';\n      }\n\n      return expr\n    }\n\n    _tmpl.version = brackets.version = 'v3.0.8';\n\n    return _tmpl\n\n  })();\n\n  /* istanbul ignore next */\n  var observable = function(el) {\n\n    /**\n     * Extend the original object or create a new empty one\n     * @type { Object }\n     */\n\n    el = el || {};\n\n    /**\n     * Private variables\n     */\n    var callbacks = {},\n      slice = Array.prototype.slice;\n\n    /**\n     * Public Api\n     */\n\n    // extend the el object adding the observable methods\n    Object.defineProperties(el, {\n      /**\n       * Listen to the given `event` ands\n       * execute the `callback` each time an event is triggered.\n       * @param  { String } event - event id\n       * @param  { Function } fn - callback function\n       * @returns { Object } el\n       */\n      on: {\n        value: function(event, fn) {\n          if (typeof fn == 'function')\n            { (callbacks[event] = callbacks[event] || []).push(fn); }\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Removes the given `event` listeners\n       * @param   { String } event - event id\n       * @param   { Function } fn - callback function\n       * @returns { Object } el\n       */\n      off: {\n        value: function(event, fn) {\n          if (event == '*' && !fn) { callbacks = {}; }\n          else {\n            if (fn) {\n              var arr = callbacks[event];\n              for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n                if (cb == fn) { arr.splice(i--, 1); }\n              }\n            } else { delete callbacks[event]; }\n          }\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Listen to the given `event` and\n       * execute the `callback` at most once\n       * @param   { String } event - event id\n       * @param   { Function } fn - callback function\n       * @returns { Object } el\n       */\n      one: {\n        value: function(event, fn) {\n          function on() {\n            el.off(event, on);\n            fn.apply(el, arguments);\n          }\n          return el.on(event, on)\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Execute all callback functions that listen to\n       * the given `event`\n       * @param   { String } event - event id\n       * @returns { Object } el\n       */\n      trigger: {\n        value: function(event) {\n          var arguments$1 = arguments;\n\n\n          // getting the arguments\n          var arglen = arguments.length - 1,\n            args = new Array(arglen),\n            fns,\n            fn,\n            i;\n\n          for (i = 0; i < arglen; i++) {\n            args[i] = arguments$1[i + 1]; // skip first argument\n          }\n\n          fns = slice.call(callbacks[event] || [], 0);\n\n          for (i = 0; fn = fns[i]; ++i) {\n            fn.apply(el, args);\n          }\n\n          if (callbacks['*'] && event != '*')\n            { el.trigger.apply(el, ['*', event].concat(args)); }\n\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      }\n    });\n\n    return el\n\n  };\n\n  /**\n   * Short alias for Object.getOwnPropertyDescriptor\n   */\n  function getPropDescriptor (o, k) {\n    return Object.getOwnPropertyDescriptor(o, k)\n  }\n\n  /**\n   * Check if passed argument is undefined\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isUndefined(value) {\n    return typeof value === T_UNDEF\n  }\n\n  /**\n   * Check whether object's property could be overridden\n   * @param   { Object }  obj - source object\n   * @param   { String }  key - object property\n   * @returns { Boolean } true if writable\n   */\n  function isWritable(obj, key) {\n    var descriptor = getPropDescriptor(obj, key);\n    return isUndefined(obj[key]) || descriptor && descriptor.writable\n  }\n\n  /**\n   * Extend any object with other properties\n   * @param   { Object } src - source object\n   * @returns { Object } the resulting extended object\n   *\n   * var obj = { foo: 'baz' }\n   * extend(obj, {bar: 'bar', foo: 'bar'})\n   * console.log(obj) => {bar: 'bar', foo: 'bar'}\n   *\n   */\n  function extend(src) {\n    var obj;\n    var i = 1;\n    var args = arguments;\n    var l = args.length;\n\n    for (; i < l; i++) {\n      if (obj = args[i]) {\n        for (var key in obj) {\n          // check if this property of the source object could be overridden\n          if (isWritable(src, key))\n            { src[key] = obj[key]; }\n        }\n      }\n    }\n    return src\n  }\n\n  /**\n   * Alias for Object.create\n   */\n  function create(src) {\n    return Object.create(src)\n  }\n\n  var settings = extend(create(brackets.settings), {\n    skipAnonymousTags: true,\n    // handle the auto updates on any DOM event\n    autoUpdate: true\n  })\n\n  /**\n   * Shorter and fast way to select multiple nodes in the DOM\n   * @param   { String } selector - DOM selector\n   * @param   { Object } ctx - DOM node where the targets of our search will is located\n   * @returns { Object } dom nodes found\n   */\n  function $$(selector, ctx) {\n    return [].slice.call((ctx || document).querySelectorAll(selector))\n  }\n\n  /**\n   * Create a document text node\n   * @returns { Object } create a text node to use as placeholder\n   */\n  function createDOMPlaceholder() {\n    return document.createTextNode('')\n  }\n\n  /**\n   * Toggle the visibility of any DOM node\n   * @param   { Object }  dom - DOM node we want to hide\n   * @param   { Boolean } show - do we want to show it?\n   */\n\n  function toggleVisibility(dom, show) {\n    dom.style.display = show ? '' : 'none';\n    dom.hidden = show ? false : true;\n  }\n\n  /**\n   * Get the value of any DOM attribute on a node\n   * @param   { Object } dom - DOM node we want to parse\n   * @param   { String } name - name of the attribute we want to get\n   * @returns { String | undefined } name of the node attribute whether it exists\n   */\n  function getAttribute(dom, name) {\n    return dom.getAttribute(name)\n  }\n\n  /**\n   * Remove any DOM attribute from a node\n   * @param   { Object } dom - DOM node we want to update\n   * @param   { String } name - name of the property we want to remove\n   */\n  function removeAttribute(dom, name) {\n    dom.removeAttribute(name);\n  }\n\n  /**\n   * Set the inner html of any DOM node SVGs included\n   * @param { Object } container - DOM node where we'll inject new html\n   * @param { String } html - html to inject\n   * @param { Boolean } isSvg - svg tags should be treated a bit differently\n   */\n  /* istanbul ignore next */\n  function setInnerHTML(container, html, isSvg) {\n    // innerHTML is not supported on svg tags so we neet to treat them differently\n    if (isSvg) {\n      var node = container.ownerDocument.importNode(\n        new DOMParser()\n          .parseFromString((\"<svg xmlns=\\\"\" + SVG_NS + \"\\\">\" + html + \"</svg>\"), 'application/xml')\n          .documentElement,\n        true\n      );\n\n      container.appendChild(node);\n    } else {\n      container.innerHTML = html;\n    }\n  }\n\n  /**\n   * Minimize risk: only zero or one _space_ between attr & value\n   * @param   { String }   html - html string we want to parse\n   * @param   { Function } fn - callback function to apply on any attribute found\n   */\n  function walkAttributes(html, fn) {\n    if (!html) { return }\n    var m;\n    while (m = RE_HTML_ATTRS.exec(html))\n      { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n  }\n\n  /**\n   * Create a document fragment\n   * @returns { Object } document fragment\n   */\n  function createFragment() {\n    return document.createDocumentFragment()\n  }\n\n  /**\n   * Insert safely a tag to fix #1962 #1649\n   * @param   { HTMLElement } root - children container\n   * @param   { HTMLElement } curr - node to insert\n   * @param   { HTMLElement } next - node that should preceed the current node inserted\n   */\n  function safeInsert(root, curr, next) {\n    root.insertBefore(curr, next.parentNode && next);\n  }\n\n  /**\n   * Convert a style object to a string\n   * @param   { Object } style - style object we need to parse\n   * @returns { String } resulting css string\n   * @example\n   * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n   */\n  function styleObjectToString(style) {\n    return Object.keys(style).reduce(function (acc, prop) {\n      return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n    }, '')\n  }\n\n  /**\n   * Walk down recursively all the children tags starting dom node\n   * @param   { Object }   dom - starting node where we will start the recursion\n   * @param   { Function } fn - callback to transform the child node just found\n   * @param   { Object }   context - fn can optionally return an object, which is passed to children\n   */\n  function walkNodes(dom, fn, context) {\n    if (dom) {\n      var res = fn(dom, context);\n      var next;\n      // stop the recursion\n      if (res === false) { return }\n\n      dom = dom.firstChild;\n\n      while (dom) {\n        next = dom.nextSibling;\n        walkNodes(dom, fn, res);\n        dom = next;\n      }\n    }\n  }\n\n\n\n  var dom = /*#__PURE__*/Object.freeze({\n    $$: $$,\n    $: $,\n    createDOMPlaceholder: createDOMPlaceholder,\n    mkEl: makeElement,\n    setAttr: setAttribute,\n    toggleVisibility: toggleVisibility,\n    getAttr: getAttribute,\n    remAttr: removeAttribute,\n    setInnerHTML: setInnerHTML,\n    walkAttrs: walkAttributes,\n    createFrag: createFragment,\n    safeInsert: safeInsert,\n    styleObjectToString: styleObjectToString,\n    walkNodes: walkNodes\n  });\n\n  /**\n   * Check against the null and undefined values\n   * @param   { * }  value -\n   * @returns {Boolean} -\n   */\n  function isNil(value) {\n    return isUndefined(value) || value === null\n  }\n\n  /**\n   * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n   * @param { * } value -\n   * @returns { Boolean } -\n   */\n  function isBlank(value) {\n    return isNil(value) || value === ''\n  }\n\n  /**\n   * Check if passed argument is a function\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isFunction(value) {\n    return typeof value === T_FUNCTION\n  }\n\n  /**\n   * Check if passed argument is an object, exclude null\n   * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isObject(value) {\n    return value && typeof value === T_OBJECT // typeof null is 'object'\n  }\n\n  /**\n   * Check if a DOM node is an svg tag or part of an svg\n   * @param   { HTMLElement }  el - node we want to test\n   * @returns {Boolean} true if it's an svg node\n   */\n  function isSvg(el) {\n    var owner = el.ownerSVGElement;\n    return !!owner || owner === null\n  }\n\n  /**\n   * Check if passed argument is a kind of array\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isArray(value) {\n    return Array.isArray(value) || value instanceof Array\n  }\n\n  /**\n   * Check if the passed argument is a boolean attribute\n   * @param   { String } value -\n   * @returns { Boolean } -\n   */\n  function isBoolAttr(value) {\n    return RE_BOOL_ATTRS.test(value)\n  }\n\n  /**\n   * Check if passed argument is a string\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isString(value) {\n    return typeof value === T_STRING\n  }\n\n\n\n  var check = /*#__PURE__*/Object.freeze({\n    isBlank: isBlank,\n    isFunction: isFunction,\n    isObject: isObject,\n    isSvg: isSvg,\n    isWritable: isWritable,\n    isArray: isArray,\n    isBoolAttr: isBoolAttr,\n    isNil: isNil,\n    isString: isString,\n    isUndefined: isUndefined\n  });\n\n  /**\n   * Check whether an array contains an item\n   * @param   { Array } array - target array\n   * @param   { * } item - item to test\n   * @returns { Boolean } -\n   */\n  function contains(array, item) {\n    return array.indexOf(item) !== -1\n  }\n\n  /**\n   * Specialized function for looping an array-like collection with `each={}`\n   * @param   { Array } list - collection of items\n   * @param   {Function} fn - callback function\n   * @returns { Array } the array looped\n   */\n  function each(list, fn) {\n    var len = list ? list.length : 0;\n    var i = 0;\n    for (; i < len; i++) { fn(list[i], i); }\n    return list\n  }\n\n  /**\n   * Faster String startsWith alternative\n   * @param   { String } str - source string\n   * @param   { String } value - test string\n   * @returns { Boolean } -\n   */\n  function startsWith(str, value) {\n    return str.slice(0, value.length) === value\n  }\n\n  /**\n   * Function returning always a unique identifier\n   * @returns { Number } - number from 0...n\n   */\n  var uid = (function uid() {\n    var i = -1;\n    return function () { return ++i; }\n  })()\n\n  /**\n   * Helper function to set an immutable property\n   * @param   { Object } el - object where the new property will be set\n   * @param   { String } key - object key where the new property will be stored\n   * @param   { * } value - value of the new property\n   * @param   { Object } options - set the propery overriding the default options\n   * @returns { Object } - the initial object\n   */\n  function define(el, key, value, options) {\n    Object.defineProperty(el, key, extend({\n      value: value,\n      enumerable: false,\n      writable: false,\n      configurable: true\n    }, options));\n    return el\n  }\n\n  /**\n   * Convert a string containing dashes to camel case\n   * @param   { String } str - input string\n   * @returns { String } my-string -> myString\n   */\n  function toCamel(str) {\n    return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n  }\n\n  /**\n   * Warn a message via console\n   * @param   {String} message - warning message\n   */\n  function warn(message) {\n    if (console && console.warn) { console.warn(message); }\n  }\n\n\n\n  var misc = /*#__PURE__*/Object.freeze({\n    contains: contains,\n    each: each,\n    getPropDescriptor: getPropDescriptor,\n    startsWith: startsWith,\n    uid: uid,\n    defineProperty: define,\n    objectCreate: create,\n    extend: extend,\n    toCamel: toCamel,\n    warn: warn\n  });\n\n  /**\n   * Set the property of an object for a given key. If something already\n   * exists there, then it becomes an array containing both the old and new value.\n   * @param { Object } obj - object on which to set the property\n   * @param { String } key - property name\n   * @param { Object } value - the value of the property to be set\n   * @param { Boolean } ensureArray - ensure that the property remains an array\n   * @param { Number } index - add the new item in a certain array position\n   */\n  function arrayishAdd(obj, key, value, ensureArray, index) {\n    var dest = obj[key];\n    var isArr = isArray(dest);\n    var hasIndex = !isUndefined(index);\n\n    if (dest && dest === value) { return }\n\n    // if the key was never set, set it once\n    if (!dest && ensureArray) { obj[key] = [value]; }\n    else if (!dest) { obj[key] = value; }\n    // if it was an array and not yet set\n    else {\n      if (isArr) {\n        var oldIndex = dest.indexOf(value);\n        // this item never changed its position\n        if (oldIndex === index) { return }\n        // remove the item from its old position\n        if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n        // move or add the item\n        if (hasIndex) {\n          dest.splice(index, 0, value);\n        } else {\n          dest.push(value);\n        }\n      } else { obj[key] = [dest, value]; }\n    }\n  }\n\n  /**\n   * Detect the tag implementation by a DOM node\n   * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n   * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n   */\n  function get(dom) {\n    return dom.tagName && __TAG_IMPL[getAttribute(dom, IS_DIRECTIVE) ||\n      getAttribute(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n  }\n\n  /**\n   * Get the tag name of any DOM node\n   * @param   { Object } dom - DOM node we want to parse\n   * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n   * @returns { String } name to identify this dom node in riot\n   */\n  function getName(dom, skipDataIs) {\n    var child = get(dom);\n    var namedTag = !skipDataIs && getAttribute(dom, IS_DIRECTIVE);\n    return namedTag && !tmpl.hasExpr(namedTag) ?\n      namedTag : child ? child.name : dom.tagName.toLowerCase()\n  }\n\n  /**\n   * Return a temporary context containing also the parent properties\n   * @this Tag\n   * @param { Tag } - temporary tag context containing all the parent properties\n   */\n  function inheritParentProps() {\n    if (this.parent) { return extend(create(this), this.parent) }\n    return this\n  }\n\n  /*\n    Includes hacks needed for the Internet Explorer version 9 and below\n    See: http://kangax.github.io/compat-table/es5/#ie8\n         http://codeplanet.io/dropping-ie8/\n  */\n\n  var\n    reHasYield  = /<yield\\b/i,\n    reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n    reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n    reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n    rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n    tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION,\n    GENERIC = 'div',\n    SVG = 'svg';\n\n\n  /*\n    Creates the root element for table or select child elements:\n    tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n  */\n  function specialTags(el, tmpl, tagName) {\n\n    var\n      select = tagName[0] === 'o',\n      parent = select ? 'select>' : 'table>';\n\n    // trim() is important here, this ensures we don't have artifacts,\n    // so we can check if we have only one element inside the parent\n    el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n    parent = el.firstChild;\n\n    // returns the immediate parent if tr/th/td/col is the only element, if not\n    // returns the whole tree, as this can include additional elements\n    /* istanbul ignore next */\n    if (select) {\n      parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n    } else {\n      // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n      var tname = rootEls[tagName];\n      if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n    }\n    return parent\n  }\n\n  /*\n    Replace the yield tag from any tag template with the innerHTML of the\n    original tag in the page\n  */\n  function replaceYield(tmpl, html) {\n    // do nothing if no yield\n    if (!reHasYield.test(tmpl)) { return tmpl }\n\n    // be careful with #1343 - string on the source having `$1`\n    var src = {};\n\n    html = html && html.replace(reYieldSrc, function (_, ref, text) {\n      src[ref] = src[ref] || text;   // preserve first definition\n      return ''\n    }).trim();\n\n    return tmpl\n      .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n        return src[ref] || def || ''\n      })\n      .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n        return html || def || ''\n      })\n  }\n\n  /**\n   * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n   * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n   *\n   * @param   { String } tmpl  - The template coming from the custom tag definition\n   * @param   { String } html - HTML content that comes from the DOM element where you\n   *           will mount the tag, mostly the original tag in the page\n   * @param   { Boolean } isSvg - true if the root node is an svg\n   * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n   */\n  function mkdom(tmpl, html, isSvg) {\n    var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/);\n    var  tagName = match && match[1].toLowerCase();\n    var el = makeElement(isSvg ? SVG : GENERIC);\n\n    // replace all the yield tags with the tag inner html\n    tmpl = replaceYield(tmpl, html);\n\n    /* istanbul ignore next */\n    if (tblTags.test(tagName))\n      { el = specialTags(el, tmpl, tagName); }\n    else\n      { setInnerHTML(el, tmpl, isSvg); }\n\n    return el\n  }\n\n  /**\n   * Loop backward all the parents tree to detect the first custom parent tag\n   * @param   { Object } tag - a Tag instance\n   * @returns { Object } the instance of the first custom parent tag found\n   */\n  function getImmediateCustomParent(tag) {\n    var ptag = tag;\n    while (ptag.__.isAnonymous) {\n      if (!ptag.parent) { break }\n      ptag = ptag.parent;\n    }\n    return ptag\n  }\n\n  /**\n   * Trigger DOM events\n   * @param   { HTMLElement } dom - dom element target of the event\n   * @param   { Function } handler - user function\n   * @param   { Object } e - event object\n   */\n  function handleEvent(dom, handler, e) {\n    var ptag = this.__.parent;\n    var item = this.__.item;\n\n    if (!item)\n      { while (ptag && !item) {\n        item = ptag.__.item;\n        ptag = ptag.__.parent;\n      } }\n\n    // override the event properties\n    /* istanbul ignore next */\n    if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n    /* istanbul ignore next */\n    if (isWritable(e, 'target')) { e.target = e.srcElement; }\n    /* istanbul ignore next */\n    if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n    e.item = item;\n\n    handler.call(this, e);\n\n    // avoid auto updates\n    if (!settings.autoUpdate) { return }\n\n    if (!e.preventUpdate) {\n      var p = getImmediateCustomParent(this);\n      // fixes #2083\n      if (p.isMounted) { p.update(); }\n    }\n  }\n\n  /**\n   * Attach an event to a DOM node\n   * @param { String } name - event name\n   * @param { Function } handler - event callback\n   * @param { Object } dom - dom node\n   * @param { Tag } tag - tag instance\n   */\n  function setEventHandler(name, handler, dom, tag) {\n    var eventName;\n    var cb = handleEvent.bind(tag, dom, handler);\n\n    // avoid to bind twice the same event\n    // possible fix for #2332\n    dom[name] = null;\n\n    // normalize event name\n    eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n    // cache the listener into the listeners array\n    if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n    if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n    if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n    dom[RIOT_EVENTS_KEY][name] = cb;\n    dom.addEventListener(eventName, cb, false);\n  }\n\n  /**\n   * Create a new child tag including it correctly into its parent\n   * @param   { Object } child - child tag implementation\n   * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n   * @param   { String } innerHTML - inner html of the child node\n   * @param   { Object } parent - instance of the parent tag including the child custom tag\n   * @returns { Object } instance of the new child tag just created\n   */\n  function initChild(child, opts, innerHTML, parent) {\n    var tag = createTag(child, opts, innerHTML);\n    var tagName = opts.tagName || getName(opts.root, true);\n    var ptag = getImmediateCustomParent(parent);\n    // fix for the parent attribute in the looped elements\n    define(tag, 'parent', ptag);\n    // store the real parent tag\n    // in some cases this could be different from the custom parent tag\n    // for example in nested loops\n    tag.__.parent = parent;\n\n    // add this tag to the custom parent tag\n    arrayishAdd(ptag.tags, tagName, tag);\n\n    // and also to the real parent tag\n    if (ptag !== parent)\n      { arrayishAdd(parent.tags, tagName, tag); }\n\n    return tag\n  }\n\n  /**\n   * Removes an item from an object at a given key. If the key points to an array,\n   * then the item is just removed from the array.\n   * @param { Object } obj - object on which to remove the property\n   * @param { String } key - property name\n   * @param { Object } value - the value of the property to be removed\n   * @param { Boolean } ensureArray - ensure that the property remains an array\n  */\n  function arrayishRemove(obj, key, value, ensureArray) {\n    if (isArray(obj[key])) {\n      var index = obj[key].indexOf(value);\n      if (index !== -1) { obj[key].splice(index, 1); }\n      if (!obj[key].length) { delete obj[key]; }\n      else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n    } else if (obj[key] === value)\n      { delete obj[key]; } // otherwise just delete the key\n  }\n\n  /**\n   * Adds the elements for a virtual tag\n   * @this Tag\n   * @param { Node } src - the node that will do the inserting or appending\n   * @param { Tag } target - only if inserting, insert before this tag's first child\n   */\n  function makeVirtual(src, target) {\n    var this$1 = this;\n\n    var head = createDOMPlaceholder();\n    var tail = createDOMPlaceholder();\n    var frag = createFragment();\n    var sib;\n    var el;\n\n    this.root.insertBefore(head, this.root.firstChild);\n    this.root.appendChild(tail);\n\n    this.__.head = el = head;\n    this.__.tail = tail;\n\n    while (el) {\n      sib = el.nextSibling;\n      frag.appendChild(el);\n      this$1.__.virts.push(el); // hold for unmounting\n      el = sib;\n    }\n\n    if (target)\n      { src.insertBefore(frag, target.__.head); }\n    else\n      { src.appendChild(frag); }\n  }\n\n  /**\n   * makes a tag virtual and replaces a reference in the dom\n   * @this Tag\n   * @param { tag } the tag to make virtual\n   * @param { ref } the dom reference location\n   */\n  function makeReplaceVirtual(tag, ref) {\n    var frag = createFragment();\n    makeVirtual.call(tag, frag);\n    ref.parentNode.replaceChild(frag, ref);\n  }\n\n  /**\n   * Update dynamically created data-is tags with changing expressions\n   * @param { Object } expr - expression tag and expression info\n   * @param { Tag }    parent - parent for tag creation\n   * @param { String } tagName - tag implementation we want to use\n   */\n  function updateDataIs(expr, parent, tagName) {\n    var tag = expr.tag || expr.dom._tag;\n    var ref;\n\n    var ref$1 = tag ? tag.__ : {};\n    var head = ref$1.head;\n    var isVirtual = expr.dom.tagName === 'VIRTUAL';\n\n    if (tag && expr.tagName === tagName) {\n      tag.update();\n      return\n    }\n\n    // sync _parent to accommodate changing tagnames\n    if (tag) {\n      // need placeholder before unmount\n      if(isVirtual) {\n        ref = createDOMPlaceholder();\n        head.parentNode.insertBefore(ref, head);\n      }\n\n      tag.unmount(true);\n    }\n\n    // unable to get the tag name\n    if (!isString(tagName)) { return }\n\n    expr.impl = __TAG_IMPL[tagName];\n\n    // unknown implementation\n    if (!expr.impl) { return }\n\n    expr.tag = tag = initChild(\n      expr.impl, {\n        root: expr.dom,\n        parent: parent,\n        tagName: tagName\n      },\n      expr.dom.innerHTML,\n      parent\n    );\n\n    each(expr.attrs, function (a) { return setAttribute(tag.root, a.name, a.value); });\n    expr.tagName = tagName;\n    tag.mount();\n\n    // root exist first time, after use placeholder\n    if (isVirtual) { makeReplaceVirtual(tag, ref || tag.root); }\n\n    // parent is the placeholder tag, not the dynamic tag so clean up\n    parent.__.onUnmount = function () {\n      var delName = tag.opts.dataIs;\n      arrayishRemove(tag.parent.tags, delName, tag);\n      arrayishRemove(tag.__.parent.tags, delName, tag);\n      tag.unmount();\n    };\n  }\n\n  /**\n   * Nomalize any attribute removing the \"riot-\" prefix\n   * @param   { String } attrName - original attribute name\n   * @returns { String } valid html attribute name\n   */\n  function normalizeAttrName(attrName) {\n    if (!attrName) { return null }\n    attrName = attrName.replace(ATTRS_PREFIX, '');\n    if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n    return attrName\n  }\n\n  /**\n   * Update on single tag expression\n   * @this Tag\n   * @param { Object } expr - expression logic\n   * @returns { undefined }\n   */\n  function updateExpression(expr) {\n    if (this.root && getAttribute(this.root,'virtualized')) { return }\n\n    var dom = expr.dom;\n    // remove the riot- prefix\n    var attrName = normalizeAttrName(expr.attr);\n    var isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName);\n    var isVirtual = expr.root && expr.root.tagName === 'VIRTUAL';\n    var ref = this.__;\n    var isAnonymous = ref.isAnonymous;\n    var parent = dom && (expr.parent || dom.parentNode);\n    // detect the style attributes\n    var isStyleAttr = attrName === 'style';\n    var isClassAttr = attrName === 'class';\n\n    var value;\n\n    // if it's a tag we could totally skip the rest\n    if (expr._riot_id) {\n      if (expr.__.wasCreated) {\n        expr.update();\n      // if it hasn't been mounted yet, do that now.\n      } else {\n        expr.mount();\n        if (isVirtual) {\n          makeReplaceVirtual(expr, expr.root);\n        }\n      }\n      return\n    }\n\n    // if this expression has the update method it means it can handle the DOM changes by itself\n    if (expr.update) { return expr.update() }\n\n    var context = isToggle && !isAnonymous ? inheritParentProps.call(this) : this;\n\n    // ...it seems to be a simple expression so we try to calculate its value\n    value = tmpl(expr.expr, context);\n\n    var hasValue = !isBlank(value);\n    var isObj = isObject(value);\n\n    // convert the style/class objects to strings\n    if (isObj) {\n      if (isClassAttr) {\n        value = tmpl(JSON.stringify(value), this);\n      } else if (isStyleAttr) {\n        value = styleObjectToString(value);\n      }\n    }\n\n    // remove original attribute\n    if (expr.attr && (!expr.wasParsedOnce || !hasValue || value === false)) {\n      // remove either riot-* attributes or just the attribute name\n      removeAttribute(dom, getAttribute(dom, expr.attr) ? expr.attr : attrName);\n    }\n\n    // for the boolean attributes we don't need the value\n    // we can convert it to checked=true to checked=checked\n    if (expr.bool) { value = value ? attrName : false; }\n    if (expr.isRtag) { return updateDataIs(expr, this, value) }\n    if (expr.wasParsedOnce && expr.value === value) { return }\n\n    // update the expression value\n    expr.value = value;\n    expr.wasParsedOnce = true;\n\n    // if the value is an object (and it's not a style or class attribute) we can not do much more with it\n    if (isObj && !isClassAttr && !isStyleAttr && !isToggle) { return }\n    // avoid to render undefined/null values\n    if (!hasValue) { value = ''; }\n\n    // textarea and text nodes have no attribute name\n    if (!attrName) {\n      // about #815 w/o replace: the browser converts the value to a string,\n      // the comparison by \"==\" does too, but not in the server\n      value += '';\n      // test for parent avoids error with invalid assignment to nodeValue\n      if (parent) {\n        // cache the parent node because somehow it will become null on IE\n        // on the next iteration\n        expr.parent = parent;\n        if (parent.tagName === 'TEXTAREA') {\n          parent.value = value;                    // #1113\n          if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n        }                                         // will be available on 'updated'\n        else { dom.nodeValue = value; }\n      }\n      return\n    }\n\n\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, this);\n    // show / hide\n    } else if (isToggle) {\n      toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n    // handle attributes\n    } else {\n      if (expr.bool) {\n        dom[attrName] = value;\n      }\n\n      if (attrName === 'value' && dom.value !== value) {\n        dom.value = value;\n      } else if (hasValue && value !== false) {\n        setAttribute(dom, attrName, value);\n      }\n\n      // make sure that in case of style changes\n      // the element stays hidden\n      if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n    }\n  }\n\n  /**\n   * Update all the expressions in a Tag instance\n   * @this Tag\n   * @param { Array } expressions - expression that must be re evaluated\n   */\n  function update(expressions) {\n    each(expressions, updateExpression.bind(this));\n  }\n\n  /**\n   * We need to update opts for this tag. That requires updating the expressions\n   * in any attributes on the tag, and then copying the result onto opts.\n   * @this Tag\n   * @param   {Boolean} isLoop - is it a loop tag?\n   * @param   { Tag }  parent - parent tag node\n   * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n   * @param   { Object }  opts - tag options\n   * @param   { Array }  instAttrs - tag attributes array\n   */\n  function updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n    // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n    // (and only this case) we don't need to do updateOpts, because the regular parse\n    // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n    if (isLoop && isAnonymous) { return }\n    var ctx = isLoop ? inheritParentProps.call(this) : parent || this;\n\n    each(instAttrs, function (attr) {\n      if (attr.expr) { updateExpression.call(ctx, attr.expr); }\n      // normalize the attribute names\n      opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n    });\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param { Tag } tag - tag object\n   * @param { * } data - data we want to use to extend the tag properties\n   * @param { Array } expressions - component expressions array\n   * @returns { Tag } the current tag instance\n   */\n  function componentUpdate(tag, data, expressions) {\n    var __ = tag.__;\n    var nextOpts = {};\n    var canTrigger = tag.isMounted && !__.skipAnonymous;\n\n    // inherit properties from the parent tag\n    if (__.isAnonymous && __.parent) { extend(tag, __.parent); }\n    extend(tag, data);\n\n    updateOpts.apply(tag, [__.isLoop, __.parent, __.isAnonymous, nextOpts, __.instAttrs]);\n\n    if (\n      canTrigger &&\n      tag.isMounted &&\n      isFunction(tag.shouldUpdate) && !tag.shouldUpdate(data, nextOpts)\n    ) {\n      return tag\n    }\n\n    extend(tag.opts, nextOpts);\n\n    if (canTrigger) { tag.trigger('update', data); }\n    update.call(tag, expressions);\n    if (canTrigger) { tag.trigger('updated'); }\n\n    return tag\n  }\n\n  /**\n   * Get selectors for tags\n   * @param   { Array } tags - tag names to select\n   * @returns { String } selector\n   */\n  function query(tags) {\n    // select all tags\n    if (!tags) {\n      var keys = Object.keys(__TAG_IMPL);\n      return keys + query(keys)\n    }\n\n    return tags\n      .filter(function (t) { return !/[^-\\w]/.test(t); })\n      .reduce(function (list, t) {\n        var name = t.trim().toLowerCase();\n        return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n      }, '')\n  }\n\n  /**\n   * Another way to create a riot tag a bit more es6 friendly\n   * @param { HTMLElement } el - tag DOM selector or DOM node/s\n   * @param { Object } opts - tag logic\n   * @returns { Tag } new riot tag instance\n   */\n  function Tag(el, opts) {\n    // get the tag properties from the class constructor\n    var ref = this;\n    var name = ref.name;\n    var tmpl = ref.tmpl;\n    var css = ref.css;\n    var attrs = ref.attrs;\n    var onCreate = ref.onCreate;\n    // register a new tag and cache the class prototype\n    if (!__TAG_IMPL[name]) {\n      tag(name, tmpl, css, attrs, onCreate);\n      // cache the class constructor\n      __TAG_IMPL[name].class = this.constructor;\n    }\n\n    // mount the tag using the class instance\n    mount$1(el, name, opts, this);\n    // inject the component css\n    if (css) { styleManager.inject(); }\n\n    return this\n  }\n\n  /**\n   * Create a new riot tag implementation\n   * @param   { String }   name - name/id of the new riot tag\n   * @param   { String }   tmpl - tag template\n   * @param   { String }   css - custom tag css\n   * @param   { String }   attrs - root tag attributes\n   * @param   { Function } fn - user function\n   * @returns { String } name/id of the tag just created\n   */\n  function tag(name, tmpl, css, attrs, fn) {\n    if (isFunction(attrs)) {\n      fn = attrs;\n\n      if (/^[\\w-]+\\s?=/.test(css)) {\n        attrs = css;\n        css = '';\n      } else\n        { attrs = ''; }\n    }\n\n    if (css) {\n      if (isFunction(css))\n        { fn = css; }\n      else\n        { styleManager.add(css); }\n    }\n\n    name = name.toLowerCase();\n    __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n    return name\n  }\n\n  /**\n   * Create a new riot tag implementation (for use by the compiler)\n   * @param   { String }   name - name/id of the new riot tag\n   * @param   { String }   tmpl - tag template\n   * @param   { String }   css - custom tag css\n   * @param   { String }   attrs - root tag attributes\n   * @param   { Function } fn - user function\n   * @returns { String } name/id of the tag just created\n   */\n  function tag2(name, tmpl, css, attrs, fn) {\n    if (css) { styleManager.add(css, name); }\n\n    __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n    return name\n  }\n\n  /**\n   * Mount a tag using a specific tag implementation\n   * @param   { * } selector - tag DOM selector or DOM node/s\n   * @param   { String } tagName - tag implementation name\n   * @param   { Object } opts - tag logic\n   * @returns { Array } new tags instances\n   */\n  function mount(selector, tagName, opts) {\n    var tags = [];\n    var elem, allTags;\n\n    function pushTagsTo(root) {\n      if (root.tagName) {\n        var riotTag = getAttribute(root, IS_DIRECTIVE), tag;\n\n        // have tagName? force riot-tag to be the same\n        if (tagName && riotTag !== tagName) {\n          riotTag = tagName;\n          setAttribute(root, IS_DIRECTIVE, tagName);\n        }\n\n        tag = mount$1(root, riotTag || root.tagName.toLowerCase(), opts);\n\n        if (tag)\n          { tags.push(tag); }\n      } else if (root.length)\n        { each(root, pushTagsTo); } // assume nodeList\n    }\n\n    // inject styles into DOM\n    styleManager.inject();\n\n    if (isObject(tagName)) {\n      opts = tagName;\n      tagName = 0;\n    }\n\n    // crawl the DOM to find the tag\n    if (isString(selector)) {\n      selector = selector === '*' ?\n        // select all registered tags\n        // & tags found with the riot-tag attribute set\n        allTags = query() :\n        // or just the ones named like the selector\n        selector + query(selector.split(/, */));\n\n      // make sure to pass always a selector\n      // to the querySelectorAll function\n      elem = selector ? $$(selector) : [];\n    }\n    else\n      // probably you have passed already a tag or a NodeList\n      { elem = selector; }\n\n    // select all the registered and mount them inside their root elements\n    if (tagName === '*') {\n      // get all custom tags\n      tagName = allTags || query();\n      // if the root els it's just a single tag\n      if (elem.tagName)\n        { elem = $$(tagName, elem); }\n      else {\n        // select all the children for all the different root elements\n        var nodeList = [];\n\n        each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n        elem = nodeList;\n      }\n      // get rid of the tagName\n      tagName = 0;\n    }\n\n    pushTagsTo(elem);\n\n    return tags\n  }\n\n  // Create a mixin that could be globally shared across all the tags\n  var mixins = {};\n  var globals = mixins[GLOBAL_MIXIN] = {};\n  var mixins_id = 0;\n\n  /**\n   * Create/Return a mixin by its name\n   * @param   { String }  name - mixin name (global mixin if object)\n   * @param   { Object }  mix - mixin logic\n   * @param   { Boolean } g - is global?\n   * @returns { Object }  the mixin logic\n   */\n  function mixin(name, mix, g) {\n    // Unnamed global\n    if (isObject(name)) {\n      mixin((\"__\" + (mixins_id++) + \"__\"), name, true);\n      return\n    }\n\n    var store = g ? globals : mixins;\n\n    // Getter\n    if (!mix) {\n      if (isUndefined(store[name]))\n        { throw new Error((\"Unregistered mixin: \" + name)) }\n\n      return store[name]\n    }\n\n    // Setter\n    store[name] = isFunction(mix) ?\n      extend(mix.prototype, store[name] || {}) && mix :\n      extend(store[name] || {}, mix);\n  }\n\n  /**\n   * Update all the tags instances created\n   * @returns { Array } all the tags instances\n   */\n  function update$1() {\n    return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n  }\n\n  function unregister(name) {\n    __TAG_IMPL[name] = null;\n  }\n\n  var version = 'v3.9.1';\n\n  var core = /*#__PURE__*/Object.freeze({\n    Tag: Tag,\n    tag: tag,\n    tag2: tag2,\n    mount: mount,\n    mixin: mixin,\n    update: update$1,\n    unregister: unregister,\n    version: version\n  });\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  function componentMixin(tag$$1) {\n    var mixins = [], len = arguments.length - 1;\n    while ( len-- > 0 ) mixins[ len ] = arguments[ len + 1 ];\n\n    each(mixins, function (mix) {\n      var instance;\n      var obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to tag\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = getPropDescriptor(instance, key) || getPropDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!tag$$1.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(tag$$1, key, descriptor);\n          } else {\n            tag$$1[key] = isFunction(instance[key]) ?\n              instance[key].bind(tag$$1) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(tag$$1)(tag$$1.opts); }\n    });\n\n    return tag$$1\n  }\n\n  /**\n   * Move the position of a custom tag in its parent tag\n   * @this Tag\n   * @param   { String } tagName - key where the tag was stored\n   * @param   { Number } newPos - index where the new tag will be stored\n   */\n  function moveChild(tagName, newPos) {\n    var parent = this.parent;\n    var tags;\n    // no parent no move\n    if (!parent) { return }\n\n    tags = parent.tags[tagName];\n\n    if (isArray(tags))\n      { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n    else { arrayishAdd(parent.tags, tagName, this); }\n  }\n\n  /**\n   * Move virtual tag and all child nodes\n   * @this Tag\n   * @param { Node } src  - the node that will do the inserting\n   * @param { Tag } target - insert before this tag's first child\n   */\n  function moveVirtual(src, target) {\n    var this$1 = this;\n\n    var el = this.__.head;\n    var sib;\n    var frag = createFragment();\n\n    while (el) {\n      sib = el.nextSibling;\n      frag.appendChild(el);\n      el = sib;\n      if (el === this$1.__.tail) {\n        frag.appendChild(el);\n        src.insertBefore(frag, target.__.head);\n        break\n      }\n    }\n  }\n\n  /**\n   * Convert the item looped into an object used to extend the child tag properties\n   * @param   { Object } expr - object containing the keys used to extend the children tags\n   * @param   { * } key - value to assign to the new object returned\n   * @param   { * } val - value containing the position of the item in the array\n   * @param   { Object } base - prototype object for the new item\n   * @returns { Object } - new object containing the values of the original item\n   *\n   * The variables 'key' and 'val' are arbitrary.\n   * They depend on the collection type looped (Array, Object)\n   * and on the expression used on the each tag\n   *\n   */\n  function mkitem(expr, key, val, base) {\n    var item = base ? create(base) : {};\n    item[expr.key] = key;\n    if (expr.pos) { item[expr.pos] = val; }\n    return item\n  }\n\n  /**\n   * Unmount the redundant tags\n   * @param   { Array } items - array containing the current items to loop\n   * @param   { Array } tags - array containing all the children tags\n   */\n  function unmountRedundant(items, tags) {\n    var i = tags.length;\n    var j = items.length;\n\n    while (i > j) {\n      i--;\n      remove.apply(tags[i], [tags, i]);\n    }\n  }\n\n\n  /**\n   * Remove a child tag\n   * @this Tag\n   * @param   { Array } tags - tags collection\n   * @param   { Number } i - index of the tag to remove\n   */\n  function remove(tags, i) {\n    tags.splice(i, 1);\n    this.unmount();\n    arrayishRemove(this.parent, this, this.__.tagName, true);\n  }\n\n  /**\n   * Move the nested custom tags in non custom loop tags\n   * @this Tag\n   * @param   { Number } i - current position of the loop tag\n   */\n  function moveNestedTags(i) {\n    var this$1 = this;\n\n    each(Object.keys(this.tags), function (tagName) {\n      moveChild.apply(this$1.tags[tagName], [tagName, i]);\n    });\n  }\n\n  /**\n   * Move a child tag\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function move(root, nextTag, isVirtual) {\n    if (isVirtual)\n      { moveVirtual.apply(this, [root, nextTag]); }\n    else\n      { safeInsert(root, this.root, nextTag.root); }\n  }\n\n  /**\n   * Insert and mount a child tag\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function insert(root, nextTag, isVirtual) {\n    if (isVirtual)\n      { makeVirtual.apply(this, [root, nextTag]); }\n    else\n      { safeInsert(root, this.root, nextTag.root); }\n  }\n\n  /**\n   * Append a new tag into the DOM\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function append(root, isVirtual) {\n    if (isVirtual)\n      { makeVirtual.call(this, root); }\n    else\n      { root.appendChild(this.root); }\n  }\n\n  /**\n   * Return the value we want to use to lookup the postion of our items in the collection\n   * @param   { String }  keyAttr         - lookup string or expression\n   * @param   { * }       originalItem    - original item from the collection\n   * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n   * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n   * @returns { * } value that we will use to figure out the item position via collection.indexOf\n   */\n  function getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n    if (keyAttr) {\n      return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n    }\n\n    return originalItem\n  }\n\n  /**\n   * Manage tags having the 'each'\n   * @param   { HTMLElement } dom - DOM node we need to loop\n   * @param   { Tag } parent - parent tag instance where the dom node is contained\n   * @param   { String } expr - string contained in the 'each' attribute\n   * @returns { Object } expression object for this each loop\n   */\n  function _each(dom, parent, expr) {\n    var mustReorder = typeof getAttribute(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || removeAttribute(dom, LOOP_NO_REORDER_DIRECTIVE);\n    var keyAttr = getAttribute(dom, KEY_DIRECTIVE);\n    var hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false;\n    var tagName = getName(dom);\n    var impl = __TAG_IMPL[tagName];\n    var parentNode = dom.parentNode;\n    var placeholder = createDOMPlaceholder();\n    var child = get(dom);\n    var ifExpr = getAttribute(dom, CONDITIONAL_DIRECTIVE);\n    var tags = [];\n    var isLoop = true;\n    var innerHTML = dom.innerHTML;\n    var isAnonymous = !__TAG_IMPL[tagName];\n    var isVirtual = dom.tagName === 'VIRTUAL';\n    var oldItems = [];\n    var hasKeys;\n\n    // remove the each property from the original tag\n    removeAttribute(dom, LOOP_DIRECTIVE);\n    removeAttribute(dom, KEY_DIRECTIVE);\n\n    // parse the each expression\n    expr = tmpl.loopKeys(expr);\n    expr.isLoop = true;\n\n    if (ifExpr) { removeAttribute(dom, CONDITIONAL_DIRECTIVE); }\n\n    // insert a marked where the loop tags will be injected\n    parentNode.insertBefore(placeholder, dom);\n    parentNode.removeChild(dom);\n\n    expr.update = function updateEach() {\n      // get the new items collection\n      expr.value = tmpl(expr.val, parent);\n\n      var items = expr.value;\n      var frag = createFragment();\n      var isObject = !isArray(items) && !isString(items);\n      var root = placeholder.parentNode;\n      var tmpItems = [];\n\n      // if this DOM was removed the update here is useless\n      // this condition fixes also a weird async issue on IE in our unit test\n      if (!root) { return }\n\n      // object loop. any changes cause full redraw\n      if (isObject) {\n        hasKeys = items || false;\n        items = hasKeys ?\n          Object.keys(items).map(function (key) { return mkitem(expr, items[key], key); }) : [];\n      } else {\n        hasKeys = false;\n      }\n\n      if (ifExpr) {\n        items = items.filter(function (item, i) {\n          if (expr.key && !isObject)\n            { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n          return !!tmpl(ifExpr, extend(create(parent), item))\n        });\n      }\n\n      // loop all the new items\n      each(items, function (_item, i) {\n        var item = !hasKeys && expr.key ? mkitem(expr, _item, i) : _item;\n        var itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr);\n        // reorder only if the items are objects\n        var doReorder = mustReorder && typeof _item === T_OBJECT && !hasKeys;\n        var oldPos = oldItems.indexOf(itemId);\n        var isNew = oldPos === -1;\n        var pos = !isNew && doReorder ? oldPos : i;\n        // does a tag exist in this position?\n        var tag = tags[pos];\n        var mustAppend = i >= oldItems.length;\n        var mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n        // new tag\n        if (mustCreate) {\n          tag = createTag(impl, {\n            parent: parent,\n            isLoop: isLoop,\n            isAnonymous: isAnonymous,\n            tagName: tagName,\n            root: dom.cloneNode(isAnonymous),\n            item: item,\n            index: i,\n          }, innerHTML);\n\n          // mount the tag\n          tag.mount();\n\n          if (mustAppend)\n            { append.apply(tag, [frag || root, isVirtual]); }\n          else\n            { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n          if (!mustAppend) { oldItems.splice(i, 0, item); }\n          tags.splice(i, 0, tag);\n          if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n        } else if (pos !== i && doReorder) {\n          // move\n          if (keyAttr || contains(items, oldItems[pos])) {\n            move.apply(tag, [root, tags[i], isVirtual]);\n            // move the old tag instance\n            tags.splice(i, 0, tags.splice(pos, 1)[0]);\n            // move the old item\n            oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n          }\n\n          // update the position attribute if it exists\n          if (expr.pos) { tag[expr.pos] = i; }\n\n          // if the loop tags are not custom\n          // we need to move all their custom tags into the right position\n          if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n        }\n\n        // cache the original item to use it in the events bound to this node\n        // and its children\n        extend(tag.__, {\n          item: item,\n          index: i,\n          parent: parent\n        });\n\n        tmpItems[i] = itemId;\n\n        if (!mustCreate) { tag.update(item); }\n      });\n\n      // remove the redundant tags\n      unmountRedundant(items, tags);\n\n      // clone the items array\n      oldItems = tmpItems.slice();\n\n      root.insertBefore(frag, placeholder);\n    };\n\n    expr.unmount = function () {\n      each(tags, function (t) { t.unmount(); });\n    };\n\n    return expr\n  }\n\n  var RefExpr = {\n    init: function init(dom, parent, attrName, attrValue) {\n      this.dom = dom;\n      this.attr = attrName;\n      this.rawValue = attrValue;\n      this.parent = parent;\n      this.hasExp = tmpl.hasExpr(attrValue);\n      return this\n    },\n    update: function update() {\n      var old = this.value;\n      var customParent = this.parent && getImmediateCustomParent(this.parent);\n      // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n      var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n      this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n      // the name changed, so we need to remove it from the old key (if present)\n      if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n      if (!isBlank(this.value) && isString(this.value)) {\n        // add it to the refs of parent tag (this behavior was changed >=3.0)\n        if (customParent) { arrayishAdd(\n          customParent.refs,\n          this.value,\n          tagOrDom,\n          // use an array if it's a looped node and the ref is not an expression\n          null,\n          this.parent.__.index\n        ); }\n\n        if (this.value !== old) {\n          setAttribute(this.dom, this.attr, this.value);\n        }\n      } else {\n        removeAttribute(this.dom, this.attr);\n      }\n\n      // cache the ref bound to this dom node\n      // to reuse it in future (see also #2329)\n      if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n    },\n    unmount: function unmount() {\n      var tagOrDom = this.tag || this.dom;\n      var customParent = this.parent && getImmediateCustomParent(this.parent);\n      if (!isBlank(this.value) && customParent)\n        { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n    }\n  }\n\n  /**\n   * Create a new ref directive\n   * @param   { HTMLElement } dom - dom node having the ref attribute\n   * @param   { Tag } context - tag instance where the DOM node is located\n   * @param   { String } attrName - either 'ref' or 'data-ref'\n   * @param   { String } attrValue - value of the ref attribute\n   * @returns { RefExpr } a new RefExpr object\n   */\n  function createRefDirective(dom, tag, attrName, attrValue) {\n    return create(RefExpr).init(dom, tag, attrName, attrValue)\n  }\n\n  /**\n   * Trigger the unmount method on all the expressions\n   * @param   { Array } expressions - DOM expressions\n   */\n  function unmountAll(expressions) {\n    each(expressions, function (expr) {\n      if (expr.unmount) { expr.unmount(true); }\n      else if (expr.tagName) { expr.tag.unmount(true); }\n      else if (expr.unmount) { expr.unmount(); }\n    });\n  }\n\n  var IfExpr = {\n    init: function init(dom, tag, expr) {\n      removeAttribute(dom, CONDITIONAL_DIRECTIVE);\n      extend(this, { tag: tag, expr: expr, stub: createDOMPlaceholder(), pristine: dom });\n      var p = dom.parentNode;\n      p.insertBefore(this.stub, dom);\n      p.removeChild(dom);\n\n      return this\n    },\n    update: function update$$1() {\n      this.value = tmpl(this.expr, this.tag);\n\n      if (this.value && !this.current) { // insert\n        this.current = this.pristine.cloneNode(true);\n        this.stub.parentNode.insertBefore(this.current, this.stub);\n        this.expressions = parseExpressions.apply(this.tag, [this.current, true]);\n      } else if (!this.value && this.current) { // remove\n        unmountAll(this.expressions);\n        if (this.current._tag) {\n          this.current._tag.unmount();\n        } else if (this.current.parentNode) {\n          this.current.parentNode.removeChild(this.current);\n        }\n        this.current = null;\n        this.expressions = [];\n      }\n\n      if (this.value) { update.call(this.tag, this.expressions); }\n    },\n    unmount: function unmount() {\n      unmountAll(this.expressions || []);\n    }\n  }\n\n  /**\n   * Create a new if directive\n   * @param   { HTMLElement } dom - if root dom node\n   * @param   { Tag } context - tag instance where the DOM node is located\n   * @param   { String } attr - if expression\n   * @returns { IFExpr } a new IfExpr object\n   */\n  function createIfDirective(dom, tag, attr) {\n    return create(IfExpr).init(dom, tag, attr)\n  }\n\n  /**\n   * Walk the tag DOM to detect the expressions to evaluate\n   * @this Tag\n   * @param   { HTMLElement } root - root tag where we will start digging the expressions\n   * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n   * @returns { Array } all the expressions found\n   */\n  function parseExpressions(root, mustIncludeRoot) {\n    var this$1 = this;\n\n    var expressions = [];\n\n    walkNodes(root, function (dom) {\n      var type = dom.nodeType;\n      var attr;\n      var tagImpl;\n\n      if (!mustIncludeRoot && dom === root) { return }\n\n      // text node\n      if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n        { expressions.push({dom: dom, expr: dom.nodeValue}); }\n\n      if (type !== 1) { return }\n\n      var isVirtual = dom.tagName === 'VIRTUAL';\n\n      // loop. each does it's own thing (for now)\n      if (attr = getAttribute(dom, LOOP_DIRECTIVE)) {\n        if(isVirtual) { setAttribute(dom, 'loopVirtual', true); } // ignore here, handled in _each\n        expressions.push(_each(dom, this$1, attr));\n        return false\n      }\n\n      // if-attrs become the new parent. Any following expressions (either on the current\n      // element, or below it) become children of this expression.\n      if (attr = getAttribute(dom, CONDITIONAL_DIRECTIVE)) {\n        expressions.push(createIfDirective(dom, this$1, attr));\n        return false\n      }\n\n      if (attr = getAttribute(dom, IS_DIRECTIVE)) {\n        if (tmpl.hasExpr(attr)) {\n          expressions.push({\n            isRtag: true,\n            expr: attr,\n            dom: dom,\n            attrs: [].slice.call(dom.attributes)\n          });\n\n          return false\n        }\n      }\n\n      // if this is a tag, stop traversing here.\n      // we ignore the root, since parseExpressions is called while we're mounting that root\n      tagImpl = get(dom);\n\n      if(isVirtual) {\n        if(getAttribute(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n        if(!tagImpl && !getAttribute(dom, 'virtualized') && !getAttribute(dom, 'loopVirtual'))  // ok to create virtual tag\n          { tagImpl = { tmpl: dom.outerHTML }; }\n      }\n\n      if (tagImpl && (dom !== root || mustIncludeRoot)) {\n        var hasIsDirective = getAttribute(dom, IS_DIRECTIVE);\n        if(isVirtual && !hasIsDirective) { // handled in update\n          // can not remove attribute like directives\n          // so flag for removal after creation to prevent maximum stack error\n          setAttribute(dom, 'virtualized', true);\n          var tag = createTag(\n            {tmpl: dom.outerHTML},\n            {root: dom, parent: this$1},\n            dom.innerHTML\n          );\n\n          expressions.push(tag); // no return, anonymous tag, keep parsing\n        } else {\n          if (hasIsDirective && isVirtual)\n            { warn((\"Virtual tags shouldn't be used together with the \\\"\" + IS_DIRECTIVE + \"\\\" attribute - https://github.com/riot/riot/issues/2511\")); }\n\n          expressions.push(\n            initChild(\n              tagImpl,\n              {\n                root: dom,\n                parent: this$1\n              },\n              dom.innerHTML,\n              this$1\n            )\n          );\n          return false\n        }\n      }\n\n      // attribute expressions\n      parseAttributes.apply(this$1, [dom, dom.attributes, function (attr, expr) {\n        if (!expr) { return }\n        expressions.push(expr);\n      }]);\n    });\n\n    return expressions\n  }\n\n  /**\n   * Calls `fn` for every attribute on an element. If that attr has an expression,\n   * it is also passed to fn.\n   * @this Tag\n   * @param   { HTMLElement } dom - dom node to parse\n   * @param   { Array } attrs - array of attributes\n   * @param   { Function } fn - callback to exec on any iteration\n   */\n  function parseAttributes(dom, attrs, fn) {\n    var this$1 = this;\n\n    each(attrs, function (attr) {\n      if (!attr) { return false }\n\n      var name = attr.name;\n      var bool = isBoolAttr(name);\n      var expr;\n\n      if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n        expr =  createRefDirective(dom, this$1, name, attr.value);\n      } else if (tmpl.hasExpr(attr.value)) {\n        expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n      }\n\n      fn(attr, expr);\n    });\n  }\n\n  /**\n   * Manage the mount state of a tag triggering also the observable events\n   * @this Tag\n   * @param { Boolean } value - ..of the isMounted flag\n   */\n  function setMountState(value) {\n    var ref = this.__;\n    var isAnonymous = ref.isAnonymous;\n\n    define(this, 'isMounted', value);\n\n    if (!isAnonymous) {\n      if (value) { this.trigger('mount'); }\n      else {\n        this.trigger('unmount');\n        this.off('*');\n        this.__.wasCreated = false;\n      }\n    }\n  }\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  function componentMount(tag$$1, dom, expressions, opts) {\n    var __ = tag$$1.__;\n    var root = __.root;\n    root._tag = tag$$1; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(__.parent, [root, root.attributes, function (attr, expr) {\n      if (!__.isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = tag$$1; }\n      attr.expr = expr;\n      __.instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    walkAttributes(__.impl.attrs, function (k, v) { __.implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(tag$$1, [root, __.implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttribute(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(tag$$1, [__.isLoop, __.parent, __.isAnonymous, opts, __.instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin(GLOBAL_MIXIN);\n\n    if (globalMixin && !__.skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          tag$$1.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (__.impl.fn) { __.impl.fn.call(tag$$1, opts); }\n\n    if (!__.skipAnonymous) { tag$$1.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    each(parseExpressions.apply(tag$$1, [dom, __.isAnonymous]), function (e) { return expressions.push(e); });\n\n    tag$$1.update(__.item);\n\n    if (!__.isAnonymous && !__.isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    define(tag$$1, 'root', root);\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!__.skipAnonymous && tag$$1.parent) {\n      var p = getImmediateCustomParent(tag$$1.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        setMountState.call(tag$$1, true);\n      });\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setMountState.call(tag$$1, true);\n    }\n\n    tag$$1.__.wasCreated = true;\n\n    return tag$$1\n  }\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  function tagUnmount(tag, mustKeepRoot, expressions) {\n    var __ = tag.__;\n    var root = __.root;\n    var tagIndex = __TAGS_CACHE.indexOf(tag);\n    var p = root.parentNode;\n\n    if (!__.skipAnonymous) { tag.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttributes(__.impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      removeAttribute(root, name);\n    });\n\n    // remove all the event listeners\n    tag.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove tag instance from the global tags cache collection\n    if (tagIndex !== -1) { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    // clean up the parent tags object\n    if (__.parent && !__.isAnonymous) {\n      var ptag = getImmediateCustomParent(__.parent);\n\n      if (__.isVirtual) {\n        Object\n          .keys(tag.tags)\n          .forEach(function (tagName) { return arrayishRemove(ptag.tags, tagName, tag.tags[tagName]); });\n      } else {\n        arrayishRemove(ptag.tags, __.tagName, tag);\n      }\n    }\n\n    // unmount all the virtual directives\n    if (tag.__.virts) {\n      each(tag.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(__.instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // clear the tag html if it's necessary\n    if (mustKeepRoot) { setInnerHTML(root, ''); }\n    // otherwise detach the root tag from the DOM\n    else if (p) { p.removeChild(root); }\n\n    // custom internal unmount function to avoid relying on the observable\n    if (__.onUnmount) { __.onUnmount(); }\n\n    // weird fix for a weird edge case #2409 and #2436\n    // some users might use your software not as you've expected\n    // so I need to add these dirty hacks to mitigate unexpected issues\n    if (!tag.isMounted) { setMountState.call(tag, true); }\n\n    setMountState.call(tag, false);\n\n    delete root._tag;\n\n    return tag\n  }\n\n  /**\n   * Tag creation factory function\n   * @constructor\n   * @param { Object } impl - it contains the tag template, and logic\n   * @param { Object } conf - tag options\n   * @param { String } innerHTML - html that eventually we need to inject in the tag\n   */\n  function createTag(impl, conf, innerHTML) {\n    if ( impl === void 0 ) impl = {};\n    if ( conf === void 0 ) conf = {};\n\n    var tag = conf.context || {};\n    var opts = extend({}, conf.opts);\n    var parent = conf.parent;\n    var isLoop = conf.isLoop;\n    var isAnonymous = !!conf.isAnonymous;\n    var skipAnonymous = settings.skipAnonymousTags && isAnonymous;\n    var item = conf.item;\n    // available only for the looped nodes\n    var index = conf.index;\n    // All attributes on the Tag when it's first parsed\n    var instAttrs = [];\n    // expressions on this type of Tag\n    var implAttrs = [];\n    var expressions = [];\n    var root = conf.root;\n    var tagName = conf.tagName || getName(root);\n    var isVirtual = tagName === 'virtual';\n    var isInline = !isVirtual && !impl.tmpl;\n    var dom;\n\n    // make this tag observable\n    if (!skipAnonymous) { observable(tag); }\n    // only call unmount if we have a valid __TAG_IMPL (has name property)\n    if (impl.name && root._tag) { root._tag.unmount(true); }\n\n    // not yet mounted\n    define(tag, 'isMounted', false);\n\n    define(tag, '__', {\n      impl: impl,\n      root: root,\n      skipAnonymous: skipAnonymous,\n      implAttrs: implAttrs,\n      isAnonymous: isAnonymous,\n      instAttrs: instAttrs,\n      innerHTML: innerHTML,\n      tagName: tagName,\n      index: index,\n      isLoop: isLoop,\n      isInline: isInline,\n      item: item,\n      parent: parent,\n      // tags having event listeners\n      // it would be better to use weak maps here but we can not introduce breaking changes now\n      listeners: [],\n      // these vars will be needed only for the virtual tags\n      virts: [],\n      wasCreated: false,\n      tail: null,\n      head: null\n    });\n\n    // create a unique id to this tag\n    // it could be handy to use it also to improve the virtual dom rendering speed\n    define(tag, '_riot_id', uid()); // base 1 allows test !t._riot_id\n    define(tag, 'root', root);\n    extend(tag, { opts: opts }, item);\n    // protect the \"tags\" and \"refs\" property from being overridden\n    define(tag, 'parent', parent || null);\n    define(tag, 'tags', {});\n    define(tag, 'refs', {});\n\n    if (isInline || isLoop && isAnonymous) {\n      dom = root;\n    } else {\n      if (!isVirtual) { root.innerHTML = ''; }\n      dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n    }\n\n    define(tag, 'update', function (data) { return componentUpdate(tag, data, expressions); });\n    define(tag, 'mixin', function () {\n      var mixins = [], len = arguments.length;\n      while ( len-- ) mixins[ len ] = arguments[ len ];\n\n      return componentMixin.apply(void 0, [ tag ].concat( mixins ));\n    });\n    define(tag, 'mount', function () { return componentMount(tag, dom, expressions, opts); });\n    define(tag, 'unmount', function (mustKeepRoot) { return tagUnmount(tag, mustKeepRoot, expressions); });\n\n    return tag\n  }\n\n  /**\n   * Mount a tag creating new Tag instance\n   * @param   { Object } root - dom node where the tag will be mounted\n   * @param   { String } tagName - name of the riot tag we want to mount\n   * @param   { Object } opts - options to pass to the Tag instance\n   * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n   * @returns { Tag } a new Tag instance\n   */\n  function mount$1(root, tagName, opts, ctx) {\n    var impl = __TAG_IMPL[tagName];\n    var implClass = __TAG_IMPL[tagName].class;\n    var context = ctx || (implClass ? create(implClass.prototype) : {});\n    // cache the inner HTML to fix #855\n    var innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n    var conf = extend({ root: root, opts: opts, context: context }, { parent: opts ? opts.parent : null });\n    var tag;\n\n    if (impl && root) { tag = createTag(impl, conf, innerHTML); }\n\n    if (tag && tag.mount) {\n      tag.mount(true);\n      // add this tag to the virtualDom variable\n      if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n    }\n\n    return tag\n  }\n\n\n\n  var tags = /*#__PURE__*/Object.freeze({\n    arrayishAdd: arrayishAdd,\n    getTagName: getName,\n    inheritParentProps: inheritParentProps,\n    mountTo: mount$1,\n    selectTags: query,\n    arrayishRemove: arrayishRemove,\n    getTag: get,\n    initChildTag: initChild,\n    moveChildTag: moveChild,\n    makeReplaceVirtual: makeReplaceVirtual,\n    getImmediateCustomParentTag: getImmediateCustomParent,\n    makeVirtual: makeVirtual,\n    moveVirtual: moveVirtual,\n    unmountAll: unmountAll,\n    createIfDirective: createIfDirective,\n    createRefDirective: createRefDirective\n  });\n\n  /**\n   * Riot public api\n   */\n  var settings$1 = settings;\n  var util = {\n    tmpl: tmpl,\n    brackets: brackets,\n    styleManager: styleManager,\n    vdom: __TAGS_CACHE,\n    styleNode: styleManager.styleNode,\n    // export the riot internal utils as well\n    dom: dom,\n    check: check,\n    misc: misc,\n    tags: tags\n  };\n\n  // export the core props/methods\n  var Tag$1 = Tag;\n  var tag$1 = tag;\n  var tag2$1 = tag2;\n  var mount$2 = mount;\n  var mixin$1 = mixin;\n  var update$2 = update$1;\n  var unregister$1 = unregister;\n  var version$1 = version;\n  var observable$1 = observable;\n\n  var riot$1 = extend({}, core, {\n    observable: observable,\n    settings: settings$1,\n    util: util,\n  })\n\n  exports.settings = settings$1;\n  exports.util = util;\n  exports.Tag = Tag$1;\n  exports.tag = tag$1;\n  exports.tag2 = tag2$1;\n  exports.mount = mount$2;\n  exports.mixin = mixin$1;\n  exports.update = update$2;\n  exports.unregister = unregister$1;\n  exports.version = version$1;\n  exports.observable = observable$1;\n  exports.default = riot$1;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n/***/ })\n\n},[489]);\n\n\n// WEBPACK FOOTER //\n// riot/build/riot.js","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"@bosket/core\"),require(\"riot\")):\"function\"==typeof define&&define.amd?define([\"@bosket/core\",\"riot\"],e):\"object\"==typeof exports?exports[\"bosket-riot\"]=e(require(\"@bosket/core\"),require(\"riot\")):t[\"bosket-riot\"]=e(t[\"bosket-core\"],t.riot)}(\"undefined\"!=typeof self?self:this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=50)}({0:function(e,n){e.exports=t},10:function(t,n){t.exports=e},50:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(6);Object.keys(o).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),n(54)},51:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.optsMixin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"opts\";return{init:function(){this.on(\"update\",this.updateOpts),this._originalOpts=Object.keys(this.opts),this.updateOpts()},updateOpts:function(){if(this.opts)for(var e in this.opts[t])~this._originalOpts.indexOf(e)||(this.opts[e]=this.opts[t][e])}}}},52:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.transitionMixin=function(t){return{init:function(){var e=this;if(this.opts.transition){var n=this.opts.transition.name,o=this.unmount,i=function(){var o=(t||function(){return e.root})();o&&(o.classList.add(n),o.classList.add(n+\"-mount\"),setTimeout(function(){o.classList.remove(n+\"-mount\")},10))},r=!1,s=function(){if(!r){r=!0;var i=(t||function(){return e.root})();if(!i)return o.call(e);i.addEventListener(\"transitionend\",function(){o.call(e)}),i.classList.add(n+\"-unmount\")}};this.one(\"mount\",i),Object.defineProperty(this,\"unmount\",{value:s})}}}}},53:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.listenerMixin=function(t){var e=t.eventType,n=void 0===e?\"click\":e,o=t.callback,i=t.regulate,r=void 0!==i&&i;return{init:function(){var t=!1,e=function(e){o&&(r?(t||window.requestAnimationFrame(function(){return o(e,function(){return t=!1})}),t=!0):o(e))};this.one(\"mount\",function(){document.addEventListener(n,e)}),this.one(\"unmount\",function(){document.removeEventListener(n,e)})}}}},54:function(t,e,n){\"use strict\";n(55),n(56),n(57)},55:function(t,e,n){n(10).tag2(\"treeview\",'<div class=\"{rootNode.mixCss(TreeView)}\"> <input type=\"search\" class=\"{rootNode.mixCss(search)}\" if=\"{inputs.get().search}\" placeholder=\"{inputs.get().labels[search.placeholder]}\" oninput=\"{onSearch}\"> <treeviewnode opts=\"{inputs.get()}\" selection=\"{opts.selection}\" model=\"{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}\" filteredmodel=\"{filtered}\" onselection=\"{rootNode.onSelect}\" dragndrop=\"{rootNode.wrapDragNDrop()}\" ancestors=\"{[]}\" searched=\"{search.trim()}\" depth=\"{0}\"> </TreeViewNode> </div>',\"\",\"\",function(t){\"use strict\";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o=this,i=n(0),r=n(6);this.mixin((0,r.optsMixin)()),this.mixin((0,r.listenerMixin)({eventType:\"keyup\",callback:function(t){return o.rootNode.onKey(t)}})),this.mixin((0,r.listenerMixin)({eventType:\"keydown\",callback:function(t){return o.rootNode.onKey(t)}})),this.filtered=null,this.search=\"\",this.onSearch=function(t){var e=t.currentTarget.value;o.search=e,o.filtered=o.rootNode.filterTree(e)},this.inputs={get:function(){return e({},i.defaults,o.opts,{onSelect:o.opts.onselection})}},this.outputs={onSelect:this.inputs.get().onselection,onDrag:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drag,onOver:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.over,onEnter:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.enter,onLeave:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.leave,onDrop:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drop,onCancel:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.cancel},this.state={get:function(){return e({},o)},set:function(t){for(var e in t)e in o&&(o[e]=t[e])}},this.rootNode=new i.RootNode(this.inputs,this.outputs,this.state,this.update)})},56:function(t,e,n){n(10).tag2(\"treeviewnode\",'<ul if=\"{!opts.folded && !opts.loading}\" data-is=\"with-transition\" transition=\"{opts.transition}\" class=\"{node.ulCss()}\" ondragover=\"{!opts.depth ? rootEvents.onDragOver : null}\" ondragenter=\"{!opts.depth ? rootEvents.onDragEnter : null}\" ondragleave=\"{!opts.depth ? rootEvents.onDragLeave : null}\" ondrop=\"{!opts.depth ? rootEvents.onDrop : null}\"> <li each=\"{item in getModel()}\" class=\"{node.liCss(item)}\" draggable=\"{node.getDragEvents(item).draggable}\" ondragstart=\"{node.getDragEvents(item).onDragStart}\" ondragover=\"{node.getDragEvents(item).onDragOver}\" ondragenter=\"{node.getDragEvents(item).onDragEnter}\" ondragleave=\"{node.getDragEvents(item).onDragLeave}\" ondragend=\"{node.getDragEvents(item).onDragEnd}\" ondrop=\"{node.getDragEvents(item).onDrop}\"> <span class=\"{parent.node.mixCss(item)}\" onclick=\"{parent.node.onClick(item)}\"> <span if=\"{renderOpener(item, left)}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item, parent.opts.openerOpts.callback)}\"></span> <virtual if=\"{!parent.opts.displaytag}\"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if=\"{parent.opts.displaytag}\" data-is=\"{parent.opts.displaytag(item, parent.opts)}\" item=\"{item}\" inputs=\"{inputs.get()}\"></virtual> <span if=\"{renderOpener(item, right)}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item, parent.opts.openerOpts.callback)}\"></span> </span> <treeviewnode if=\"{node.hasChildren(item) || node.isAsync(item)}\" opts=\"{parent.opts}\" selection=\"{parent.opts.selection}\" model=\"{getChildModel(item)}\" filteredmodel=\"{getChildFiltered(item)}\" ancestors=\"{getAncestors(item)}\" depth=\"{parent.opts.depth + 1}\" folded=\"{node.isFolded(item)}\" loading=\"{node.isAsync(item) && !node.isFolded(item)}\"> </TreeViewNode> </li> </ul> <span if=\"{opts.loading}\"></span>',\"\",\"\",function(t){\"use strict\";var e=this,o=n(0),i=n(6);this.mixin((0,i.optsMixin)()),this.unfolded=[],this.getModel=function(){return e.opts.searched?e.opts.model.filter(function(t){return e.opts.filteredmodel.has(t)}):e.opts.model},this.getChildModel=function(t){var n=t[e.opts.category];return e.node.isAsync(t)&&!e.node.isFolded(t)&&e.node.pending.indexOf(t)<0&&e.node.unwrapPromise(t),e.node.isAsync(t)||(n=e.opts.sort?n.sort(e.opts.sort):n),n},this.getChildFiltered=function(t){return e.opts.searched?e.opts.filteredmodel.get(t):null},this.getAncestors=function(t){return[].concat(e.opts.ancestors,[t])},this.renderOpener=function(t,n){return(e.node.hasChildren(t)||e.node.isAsync(t))&&e.opts.openerOpts.position===n};var r=function(){e.opts.onSelect=e.opts.onselection,e.opts.disabled=e.opts.disable};this.on(\"update\",r),r(),this.inputs={get:function(){return e.opts}},this.state={get:function(){return e},set:function(t){for(var n in t)n in e&&(e[n]=t[n])}},this.node=new o.TreeNode(this.inputs,null,this.state,this.update),this.rootEvents=this.node.getDragEvents()})},57:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(10),i=function(t){return t&&t.__esModule?t:{default:t}}(o),r=n(6);e.default=i.default.tag(\"with-transition\",!1,function(t){var e=this;this.mixin((0,r.transitionMixin)());var n=function(){for(var t in e.parent)e.parent.hasOwnProperty(t)&&(e[t]=e.parent[t])};n(),this.on(\"update\",n)})},6:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(51);Object.keys(o).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(52);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=n(53);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})}})});\n//# sourceMappingURL=riot.umd.min.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/riot/bundle/riot.umd.min.js","import \"./Planner.tag\"\n\nimport introduction from \"./introduction\"\nimport usage from \"./usage\"\nimport treeview from \"./treeview\"\n\nexport default [\n    introduction,\n    usage,\n    treeview\n]\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/index.js","import riot from \"riot\"\nimport \"self/common/libs/prismjs/prism\"\nimport \"@bosket/riot\"\nimport \"./components\"\nimport \"./plan\"\n\nwindow.onload = () => {\n    riot.mount(\"*\")\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/index.js","import \"./App.tag\"\nimport \"./Syntax.tag\"\nimport \"./ComponentDemo.tag\"\nimport \"./Demos\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/index.js","<App>\n    <div class=\"App\">\n            <planner plan={ plan } maxdepth={ 1 } sticky={ true }></planner>\n        </div>\n    </div>\n\n    <script type=\"es6\">\n        import \"self/common/styles/App.css\"\n        import plan from \"../plan\"\n        this.plan = plan\n    </script>\n</App>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/App.tag","<planner>\n    <div class=\"Planner\">\n        <div class=\"Planner opener\" ref=\"opener\">\n            <i class={\n                \"fa\": true,\n                \"fa-bars\": !opened,\n                \"fa-times\": opened\n            }></i>\n        </div>\n        <aside ref=\"sidePanel\" class={ \"Planner\": true, \"side-panel\": true, opened: opened }>\n            <div><h1>Table of contents</h1></div>\n            <TreeView\n                model={ opts.plan }\n                css={{ TreeView: \"PlannerTree\" }}\n                category=\"subs\"\n                selection={ selection }\n                onselection={ updateSelection }\n                strategies={{ selection: [\"ancestors\"], click: [\"select\"], fold: [ foldDepth(), \"not-selected\", \"no-child-selection\" ]}}\n                openeropts={{ position: \"none\" }}\n                displaytag={ display }>\n            </TreeView>\n        </aside>\n        <div ref=\"content\" class=\"Planner content\">\n            <div each={ p in opts.plan }>\n                <planner-content plan={ p }></planner-content>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        import { listenerMixin } from \"@bosket/riot\"\n        import \"self/common/styles/Planner.css\"\n\n        this.mixin(listenerMixin({ callback: e => this.onDocumentClick(e) }))\n        this.mixin(listenerMixin({ eventType: \"scroll\", callback: (..._) => this.onDocumentScroll(..._), regulate: true }))\n        this.mixin(listenerMixin({ eventType: \"scroll\", callback: (..._) => this.onStickyScroll(..._), regulate: true }))\n\n        this.selection = []\n        this.opened = false\n        this.updateSelection = _ => {\n            this.selection = _\n            this.update()\n        }\n        this.display = item => \"display-planner-content\"\n        this.foldDepth = () => {\n            const max = this.opts.maxdepth\n            return function() {\n                return this.inputs.get().depth >= max\n            }\n        }\n        this.findPosition = () => {\n            const position = []\n            const loop = (arr, acc = []) => {\n                for(let i = 0; i < arr.length; i++) {\n                    const elt = arr[i]\n                    const domElt = document.getElementById(acc.length > 0 ? acc.join(\"#\") + \"#\" + elt.title : elt.title)\n                    if(domElt && domElt.parentElement &&\n                            domElt.parentElement.getBoundingClientRect().top <= 50 &&\n                            domElt.parentElement.getBoundingClientRect().bottom > 10) {\n                        position.push(elt)\n                        if(elt.subs)\n                            loop(elt.subs, [ ...acc, elt.title ])\n                        break\n                    }\n                }\n            }\n            loop(this.opts.plan)\n            return position\n        }\n        this.one(\"mount\", () => {\n            this.selection = this.findPosition()\n            this.update()\n        })\n\n        this.onDocumentClick = ev => {\n            if(!(ev.target instanceof HTMLElement)) return\n            if(this.refs.opener && this.refs.opener.contains(ev.target)) {\n                this.opened = !this.opened\n            } else if(this.opened && this.refs.sidePanel && !this.refs.sidePanel.contains(ev.target)) {\n                this.opened = false\n            }\n            this.update()\n        }\n\n        this.onDocumentScroll = (ev, end) => {\n            const position = this.findPosition()\n            const newHash = \"#\" + position.map(_ => _.title).join(\"#\")\n            if(newHash !== (window.location.hash || \"#\")) {\n                this.selection = position\n                this.update()\n                window.history && window.history.replaceState(\n                    {},\n                    document.title,\n                    \"#\" + position.map(_ => _.title).join(\"#\"))\n            }\n\n            // Prevents safari security exception (SecurityError (DOM Exception 18): Attempt to use history.replaceState() more than 100 times per 30.000000 seconds)\n            setTimeout(() => end(), 100)\n        }\n\n        this.onStickyScroll = (ev, end) => {\n            if(!this.opts.sticky) return\n            if(this.refs.content.getBoundingClientRect().top > 0) {\n                this.refs.sidePanel.style.position = \"absolute\"\n                this.refs.sidePanel.style.top = \"\"\n                end()\n            } else {\n                this.refs.sidePanel.style.position = \"fixed\"\n                this.refs.sidePanel.style.top = \"0px\"\n                end()\n            }\n        }\n\n    </script>\n</planner>\n\n<planner-content>\n    <div class={ depth === 1 ? \"chapter\" : \"planner-section\" }>\n        <h1 if={depth === 1 } id={ id() } class=\"Planner heading\">\n            <span>{ plan.title }</span>\n            <span class=\"icons\">\n                <a href={ \"#\" + id() }><i class=\"fa fa-link\"></i></a>\n                <a if={ plan.editLink } href={ plan.editLink } target=\"_blank\" rel=\" noopener noreferrer\">\n                    <i class=\"fa fa-pencil\"></i>\n                </a>\n            </span>\n        </h1>\n        <h2 if={depth === 2 } id={ id() } class=\"Planner heading\">\n            <span>{ plan.title }</span>\n            <span class=\"icons\">\n                <a href={ \"#\" + id() }><i class=\"fa fa-link\"></i></a>\n                <a if={ plan.editLink } href={ plan.editLink } target=\"_blank\" rel=\" noopener noreferrer\">\n                    <i class=\"fa fa-pencil\"></i>\n                </a>\n            </span>\n        </h2>\n        <h3 if={depth === 3 } id={ id() } class=\"Planner heading\">\n            <span>{ plan.title }</span>\n            <span class=\"icons\">\n                <a href={ \"#\" + id() }><i class=\"fa fa-link\"></i></a>\n                <a if={ plan.editLink } href={ plan.editLink } target=\"_blank\" rel=\" noopener noreferrer\">\n                    <i class=\"fa fa-pencil\"></i>\n                </a>\n            </span>\n        </h3>\n        <h4 if={depth === 4 } id={ id() } class=\"Planner heading\">\n            <span>{ plan.title }</span>\n            <span class=\"icons\">\n                <a href={ \"#\" + id() }><i class=\"fa fa-link\"></i></a>\n                <a if={ plan.editLink } href={ plan.editLink } target=\"_blank\" rel=\" noopener noreferrer\">\n                    <i class=\"fa fa-pencil\"></i>\n                </a>\n            </span>\n        </h4>\n        <h5 if={depth === 5 } id={ id() } class=\"Planner heading\">\n            <span>{ plan.title }</span>\n            <span class=\"icons\">\n                <a href={ \"#\" + id() }><i class=\"fa fa-link\"></i></a>\n                <a if={ plan.editLink } href={ plan.editLink } target=\"_blank\" rel=\" noopener noreferrer\">\n                    <i class=\"fa fa-pencil\"></i>\n                </a>\n            </span>\n        </h5>\n        <h6 if={depth === 6 } id={ id() } class=\"Planner heading\">\n            <span>{ plan.title }</span>\n            <span class=\"icons\">\n                <a href={ \"#\" + id() }><i class=\"fa fa-link\"></i></a>\n                <a if={ plan.editLink } href={ plan.editLink } target=\"_blank\" rel=\" noopener noreferrer\">\n                    <i class=\"fa fa-pencil\"></i>\n                </a>\n            </span>\n        </h6>\n        <p if={depth > 6 } id={ id() } class=\"Planner heading\">\n            <span>{ plan.title }</span>\n            <span class=\"icons\">\n                <a href={ \"#\" + id() }><i class=\"fa fa-link\"></i></a>\n                <a if={ plan.editLink } href={ plan.editLink } target=\"_blank\" rel=\" noopener noreferrer\">\n                    <i class=\"fa fa-pencil\"></i>\n                </a>\n            </span>\n        </p>\n        <div data-is={ plan.content }></div>\n        <div if={ plan.subs }>\n            <div each={ s in plan.subs }>\n                <planner-content plan={ s } prefix={ prefix ? prefix+'#'+plan.title : plan.title } depth={ depth + 1 }></planner-content>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        this.plan = this.opts.plan\n        this.depth = this.opts.depth || 1\n        this.prefix = this.opts.prefix || \"\"\n        this.id = () =>\n            this.prefix ? `${this.prefix}#${this.plan.title}` : this.plan.title\n    </script>\n</planner-content>\n\n<display-planner-content>\n    <a href={ href() }>{ opts.item.title }</a>\n\n    <script>\n        this.href = () => {\n            return `${this.opts.inputs.ancestors.map(a => \"#\" + a.title).join(\"\")}#${this.opts.item.title}`\n        }\n    </script>\n</display-planner-content>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/Planner.tag","import \"./component.tag\"\nimport \"./IntroductionDemos.tag\"\n\nexport default {\n    title: \"Introduction\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/introduction/index.js\",\n    content: \"introduction\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/introduction/index.js","<IntroductionDemos>\n    <div class=\"IntroductionDemos\">\n       <div class=\"center-text\">\n           <span class=\"button-row\">\n               <button each={ d in demos} onclick={ setDemo(d) } class={ selected: d === demo }>\n                   { d }\n               </button>\n           </span>\n       </div>\n       <ComponentDemo files={getFiles(demo) }>\n            <virtual data-is={ parent.demo.toLowerCase() }/>\n       </ComponentDemo>\n   </div>\n    <script>\n        import \"self/common/styles/IntroductionDemos.css\"\n\n        this.demos = [ \"HackerNews\", \"Pokeapi\", \"ChuckNorris\" ]\n        this.demo = this.demos[0]\n        this.setDemo = d => _ => this.demo = d\n        this.getFiles = demo =>\n            [\n                `./components/Demos/${demo}/${demo}.tag`,\n                `../common/styles/${demo}.css`,\n                `./components/Demos/${demo}/models.js`\n            ]\n    </script>\n</IntroductionDemos>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/introduction/IntroductionDemos.tag","import \"./component.tag\"\nimport _import from \"./import\"\nimport datamodel from \"./data model\"\nimport style from \"./style\"\nimport snippets from \"./online-snippets\"\n\nexport default {\n    title: \"Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/index.js\",\n    content: \"usage\",\n    subs: [\n        _import,\n        snippets,\n        datamodel,\n        style\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/index.js","import \"./component.tag\"\n\nexport default {\n    title: \"Import\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/import/index.js\",\n    content: \"import\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/import/index.js","<import>\n    <p>Bosket/riot is bundled in <em><a href=\"http://bob.yexley.net/umd-javascript-that-runs-anywhere/\" target=\"_blank\" ref=\"noopener noreferrer\">UMD</a></em> format.</p>\n\n    <syntax-highlight offset={ 8 }>\n        /* How to register Bosket tags : */\n\n        // ESM imports\n        import \"@bosket/riot\"\n\n        // Commonjs\n        require(\"@bosket/riot\")\n    </syntax-highlight>\n\n    <p>Or just include a link to the <em>@bosket/riot/bundle/riot.umd.min.js</em> file inside a script tag.</p>\n\n    <syntax-highlight language=\"html\" content={ htmlCode }></syntax-highlight>\n\n    <script>\n        /* eslint-disable */\n        this.htmlCode = `\n            <script src=\".../path/to/riot.js\"><\\/script>\n            <script src=\".../path/to/riot.umd.min.js\"><\\/script>`\n        /* eslint-enable */\n    </script>\n</import>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/import/component.tag","import \"./component.tag\"\nimport \"./dataModelTree.tag\"\n\nexport default {\n    title: \"Data model\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/data%20model/index.js\",\n    content: \"datamodel\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/data model/index.js","<data-model-tree>\n    <TreeView\n        model={ sampleModel }\n        category=\"children\"\n        selection={ selection }\n        onselection={ updateSelection }\n        display={ display}>\n    </TreeView>\n\n    <script>\n        this.sampleModel = [\n            { label: \"Click me, I'm a node with two children.\", children: [\n                { label: \"I am a childless leaf.\" },\n                { label: \"I am a also a childless leaf.\" }\n            ]},\n            { label: \"I'm a leaf, I do not have children.\" },\n            { label: \"I am an asynchronous node, click me and wait one second.\", children: () =>\n                new Promise(resolve =>\n                    setTimeout(() =>\n                        resolve([{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" }]), 1000))\n            }\n        ]\n\n        this.updateSelection = _ => { this.selection = _; this.update() }\n        this.selection = []\n        this.display = _ => _.label\n    </script>\n</data-model-tree>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/data model/dataModelTree.tag","import \"./component.tag\"\n\nexport default {\n    title: \"Style\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/style/index.js\",\n    content: \"usage-style\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/style/index.js","<usage-style>\n    <div>\n        <p>\n            <em>Once the component is included and rendered in your code, you will need to style it using css, otherwise it will look like a good old fashioned html unordered list.</em><br/>\n            <br/>\n            Have a look at <em><a href=\"#TreeView#Css#Empty stylesheet\">the empty stylesheet</a></em> with classes and elements already filled.<br/>\n            Also, feel free to peek at the included <em><a href=\"#TreeView#Demo\">demos css source code</a></em>.\n        </p>\n\n        <syntax-highlight language=\"html\">{ parent.htmlCode }</syntax-highlight>\n\n        <p>\n            The css class names can be overrided by changing the <em><a href=\"#TreeView#Optional properties#css\">css property</a></em>.\n            <br/>\n            You should also check the full <em><a href=\"#TreeView#Css#Layout\">html layout</a></em>.\n        </p>\n    </div>\n\n    <script>\n        this.htmlCode = `\n            <head>\n                <link rel=\"stylesheet\" type=\"text/css\" href=\"[your bosket stylesheet].css\">\n            </head>\n        `\n    </script>\n</usage-style>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/style/component.tag","import \"./component.tag\"\n\nexport default {\n    title: \"Online snippets\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/online-snippets/index.js\",\n    content: \"online-snippets\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/online-snippets/index.js","<online-snippets>\n    <iframe if={ !hidden } width=\"100%\" height=\"300\" title=\"jsfiddle-react\" src=\"//jsfiddle.net/elbywan/w17o67vw/embedded/js,html,result/dark/\" allowFullScreen=\"allowfullscreen\" frameBorder=\"0\"></iframe>\n    <div if={ hidden } class=\"iframe-hide\" onclick={ unHide }><span>Click to load snippet</span></div>\n\n    <script>\n        this.hidden = true\n        this.unHide = () => { this.hidden = false }\n    </script>\n</online-snippets>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/online-snippets/component.tag","import basicUsage from \"./basic usage\"\nimport demo from \"./demo\"\nimport css from \"./css\"\nimport requiredProperties from \"./required-properties\"\nimport optionalProperties from \"./optional-properties\"\n\nexport default {\n    title: \"TreeView\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/index.js\",\n    subs: [\n        basicUsage,\n        demo,\n        requiredProperties,\n        optionalProperties,\n        css\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/index.js","import \"./component.tag\"\n\nexport default {\n    title: \"Basic Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/basic%20usage/index.js\",\n    content: \"basic-usage\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/basic usage/index.js","<basic-usage>\n    <div>\n        <p>\n            Just drop the TreeView tag in your templates after <em><a href=\"#Usage#Import\">registering it</a></em>.<br/>\n            <br/>\n            Appearance can be tweaked using <em><a href=\"#TreeView#Css\">css</a></em>.\n        </p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n        <TreeView\n\n            // Required //\n\n            model=         /* [the data model](#TreeView#Required properties#model) */\n            category=      /* [name of the property containing the children](#TreeView#Required properties#category) */\n            selection=     /* [the selection array, updated when the user (de)selects items](#TreeView#Required properties#selection) */\n            onselection=   /* [selection callback](#TreeView#Required properties#onselection) */\n\n            // Optional //\n\n            display=       /* [customize output for each element in the tree](#TreeView#Optional properties#display) */\n            displaytag=    /* [wrap output inside a tag of your choice](#TreeView#Optional properties#displaytag) */\n            strategies=    /* [behaviour on selection, click or fold](#TreeView#Optional properties#strategies) */\n            sort=          /* [sort items](#TreeView#Optional properties#sort) */\n            disable=       /* [disable certain items](#TreeView#Optional properties#disabled) */\n            search=        /* [enables the search bar](#TreeView#Optional properties#search) */\n            async=         /* [how to perform asynchronous loading](#TreeView#Optional properties#async) */\n            dragndrop=     /* [drag'n'drop configuration](#TreeView#Optional properties#dragndrop) */\n            openeropts=    /* [opener 'arrow' options](#TreeView#Optional properties#openeropts) */\n            labels=        /* [override default labels](#TreeView#Optional properties#labels) */\n            css=           /* [override default css classes](#TreeView#Optional properties#css) */\n            transition=    /* [transitions on mount / unmount](#TreeView#Optional properties#transition) */\n        />\n        `\n    </script>\n</basic-usage>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/basic usage/component.tag","import \"./component.tag\"\n\nexport default {\n    title: \"Demo\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/demo/index.js\",\n    content: \"treeview-demo-section\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/demo/index.js","import \"./component.tag\"\nimport layout from \"./layout\"\nimport emptyStylesheet from \"./empty-stylesheet\"\n\nexport default {\n    title: \"Css\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/index.js\",\n    content: \"treeview-css\",\n    subs: [\n        layout,\n        emptyStylesheet\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/index.js","import \"./component.tag\"\n\nexport default {\n    title: \"Layout\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/layout/index.js\",\n    content: \"treeview-layout\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/layout/index.js","<treeview-layout>\n    <div>\n        <p>\n            Below is the <em>full HTML layout</em> of a TreeView, with the <em><a href=\"#TreeView#Optional properties#css\">default classes</a></em>.<br/>\n        </p>\n        <syntax-highlight language=\"html\">{ parent.htmlLayout }</syntax-highlight>\n    </div>\n\n    <script>\n        import htmlLayout from \"./html_layout\"\n\n        this.htmlLayout = htmlLayout\n    </script>\n</treeview-layout>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/layout/component.tag","import \"./component.tag\"\n\nexport default {\n    title: \"Empty stylesheet\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/empty-stylesheet/index.js\",\n    content: \"treeview-empty-stylesheet\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/empty-stylesheet/index.js","<treeview-empty-stylesheet>\n    <div>\n        <h4>\n            <a  ref=\"anchor\"\n                download=\"bosket_empty_stylesheet.css\"\n                class=\"anchor-button basic-button\">\n                <i class=\"fa fa-download\"></i>\n                Download stylesheet\n            </a>\n        </h4>\n\n        <syntax-highlight language=\"css\">{ parent.emptyStylesheet }</syntax-highlight>\n    </div>\n\n    <script>\n        import emptyStylesheet from \"./empty_stylesheet\"\n\n        this.emptyStylesheet = emptyStylesheet\n        this.one(\"mount\", () => {\n            this.refs.anchor.href = window.URL.createObjectURL(new Blob([emptyStylesheet], { type: \"text/css\" }))\n        })\n    </script>\n</treeview-empty-stylesheet>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/empty-stylesheet/component.tag","import \"./component.tag\"\n\nexport default {\n    title: \"Required properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n    subs: [\n        {\n            title: \"model\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"model-prop\"\n        },\n        {\n            title: \"category\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"category-prop\"\n        },\n        {\n            title: \"selection\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"selection-prop\"\n        },\n        {\n            title: \"onselection\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"onselection-prop\"\n        }\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/required-properties/index.js","<model-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">Object[]</pre>\n        <p>\n            An array of objects which is used to populate the component.<br/>\n            The format is detailed in the <em><a href=\"#Usage#Data model\">data model</a></em> section.\n        </p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n            <TreeView /* ... */ model={ model } />\n            <script>\n                this.model = [\n                    { label: \"One\" },\n                    { label: \"Two\" },\n                    { label: \"Three\", list: [\n                        { label: \"Four\" },\n                        { label: \"Five\" }\n                    ] }\n                ]\n            <\\/script>` // eslint-disable-line no-useless-escape\n    </script>\n</model-prop>\n\n<category-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">string</pre>\n        <p>\n            The name of the property containing the children.<br/>\n            In the example above, it would be \"list\".\n        </p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `<TreeView /* ... */ category=\"list\" />`\n    </script>\n</category-prop>\n\n<selection-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">Object[]</pre>\n        <p>\n            An array which references the selected objects.\n        </p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n    <script>\n        this.code = `\n            <TreeView /* ... */ selection={ selection } />\n            <script>\n                this.selection = []\n            <\\/script>`\n    </script>\n</selection-prop>\n\n<onselection-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">(newSelection: Object[], item: Object, ancestors: Object[], neighbours: Object[]) => void</pre>\n        <p>\n            A callback which is fired when the selection is updated (for instance when the user clicks on an item).<br/>\n            This method should update the <em><a href=\"#TreeView#Required properties#selection\">selection array</a></em>.\n        </p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n    <script>\n        this.code = `\n            <TreeView /* ... */ selection={ selection } onselection={ onselection } />\n            <script>\n                this.selection = []\n                this.onselection = _ => this.update({ selection : _ })\n            <\\/script>\n        `\n    </script>\n</onselection-prop>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/required-properties/component.tag","import \"./component.tag\"\n\nexport default {\n    title: \"Optional properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n    subs: [\n        {\n            title: \"display\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"display-prop\"\n        },\n        {\n            title: \"displaytag\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"displaytag-prop\"\n        },\n        {\n            title: \"strategies\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"strategies-prop\"\n        },\n        {\n            title: \"sort\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"sort-prop\"\n        },\n        {\n            title: \"disable\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"disable-prop\"\n        },\n        {\n            title: \"search\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"search-prop\"\n        },\n        {\n            title: \"async\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"async-prop\"\n        },\n        {\n            title: \"dragndrop\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"dragndrop-prop\"\n        },\n        {\n            title: \"openeropts\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"openeropts-prop\"\n        },\n        {\n            title: \"labels\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"labels-prop\"\n        },\n        {\n            title: \"css\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"css-prop\"\n        },\n        {\n            title: \"transition\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"transition-prop\"\n        }\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/optional-properties/index.js","<display-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\n        <p>\n            A custom rendering function. Called for every item, its return value is displayed in the view.<br>\n            The \"inputs\" argument is an object containing the input properties of the component which is rendering the item.\n        </p>\n        <div class=\"emphasis\">\n            Defaults to the&nbsp;\n            <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\" target=\"_blank\" rel=\"noopener noreferrer\">toString</a></em>&nbsp;\n            function.\n\n            <syntax-highlight>item => item.toString()</syntax-highlight>\n        </div>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n            <TreeView /* ... */ display={ display } />\n            <script>\n                // The display function is run for every item in the model.\n                // Here, we choose to display the 'label' property in lower case.\n                this.display = item => item.display.toLowerCase()\n            <\\/script>` // eslint-disable-line\n    </script>\n</display-prop>\n\n<displaytag-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\n        <p>\n            <em>The display and displaytag properties are mutually exclusive.</em><br>\n            <br>\n            Allows more customization than the display property, by wrapping items inside a custom tag.<br>\n        </p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n        <TreeView /* ... */ displaytag={ displaytag } />\n\n        <script>\n            // A custom defined tag used to wrap items in an anchor tag\n            // opts.item is a reference to the displayed item\n            riot.tag(\"customtag\", \"<a href={opts.item.link }>{ opts.item.label }</a>\")\n            this.displaytag = () => \"customtag\"\n        <\\/script>` // eslint-disable-line\n    </script>\n</displaytag-prop>\n\n<strategies-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">{ strategies }</pre>\n        <p>\n            <em>Strategies determine the action(s) to perform on click, fold or selection.</em><br/><br/>\n            The <em>strategies prop</em> is an object containing 3 properties (click, fold, selection). Each property value is an array of strategies.<br/>\n            A <em>strategy</em> is either a string (containing a predefined strategy name), or a function (executed in the tree context).<br/><br/>\n            In case of multiple strategies, they are chained.\n        </p>\n\n        <syntax-highlight language=\"typescript\">{ parent.type }</syntax-highlight>\n\n        <div class=\"emphasis\">\n            Defaults to :\n            <syntax-highlight>{ parent.default }</syntax-highlight>\n        </div>\n\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n\n        <p>Check the <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/core/strategies.js\" target=\"_blank\" rel=\"noopener noreferrer\">strategies.js file</a></em> for the list of available strategies and descriptions.</p>\n    </div>\n\n    <script>\n    import { indent } from \"self/common/tools\"\n\n        this.strategies = indent`\n            {\n                selection: (string | selectionStrategy)[],\n                click: (string | clickStrategy)[],\n                fold: (string | foldStrategy)[]\n            }\n        `\n        this.type = `\n            type selectionStrategy<Item extends Object> = (item: Item, selection: Array<Item>, neighbours: Array<Item>, ancestors: Array<Item>) => Array<Item>\n            type clickStrategy<Item extends Object> = (item: Item, event: MouseEvent, ancestors: Array<Item>, neighbours: Array<Item>) => void\n            type foldStrategy<Item extends Object> = (item: Item, folded: boolean) => boolean`\n        this.default = `\n            {\n                // One item selected at a time\n                selection: [\"single\"],\n                // Select item on click\n                click: [\"select\"],\n                // Folds an item when itself or its children are not selected\n                fold: [ \"not-selected\", \"no-child-selection\" ]\n            }`\n        this.code =`\n            <TreeView /* ... */ strategies={ strategies } />\n\n            <script>\n                this.strategies = {\n                    // Select only the items beginning with the letter a\n                    selection: [ \"multiple\", (item, selection) => selection.filter(elt => elt.label.charAt(0) === 'a' ) ]\n                    click: [ \"select\", unfold-on-selection\" ],\n                    fold: [ \"opener-control\", \"no-child-selection\" ]\n                }\n            <\\/script> // eslint-disable-line\n        `\n\n    </script>\n</strategies-prop>\n\n<sort-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">(item1, item2) => boolean</pre>\n        <p>A custom sorting function.</p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n    <script>\n\n        this.code = `\n            <TreeView /* ... */ sort={ sort } />\n            <script>\n                this.sort = (a, b) => a.label.localeCompare(b.label)\n            <\\/script>`\n    </script>\n</sort-prop>\n\n<disable-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">(item: Object) => boolean</pre>\n        <p>Disables elements based on the result of the provided function, which prevents selection and apply the css 'disabled' class.</p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n            <TreeView /* ... */ disable={disable } />\n            <script>\n                this.disable = item => !item.children\n            <\\/script>`\n    </script>\n</disable-prop>\n\n<search-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">(query: string) => (item: Object) => boolean</pre>\n        <p>If provided, enables the built-in search bar and is called when the user types a search query.</p>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n            <TreeView /* ... */ search={search } />\n            <script>\n                this.search = input => item => item.label.match(new RegExp(\\`.*\\${ input }.*\\`, \"gi\"))\n            <\\/script>`\n    </script>\n</search-prop>\n\n<async-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">(mixed => Promise&lt;Object[]&gt;) => Promise&lt;Object[]&gt;</pre>\n        <p>A function used to unwrap <em><a href=\"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise\" target=\"_blank\" rel=\"noopener noreferrer\">Promises</a></em> in case of asynchronous children.</p>\n\n        <div class=\"emphasis\">\n            Defaults to simple method call :\n            <syntax-highlight>_ => _()</syntax-highlight>\n        </div>\n\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n            <TreeView /* ... */ async={async } model={ model } />\n\n            <script>\n                this.model = [{\n                    label: \"Asynchronous children\",\n                    children: timer =>\n                         new Promise(resolve =>\n                            setTimeout(() =>\n                                resolve([{ label: \"timer is provided by the async property\" }]), timer))\n                }]\n                this.async = _ => _(Math.random() * 1000 + 500)\n            <\\/script>`\n    </script>\n</async-prop>\n\n<dragndrop-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">Object (details below)</pre>\n        <p>The drag'n'drop configuration object.</p>\n\n        <div class=\"emphasis\">\n            Defaults to :\n            <syntax-highlight>{ parent.default }</syntax-highlight>\n        </div>\n\n\n        <p>Tip: for mobile drag'n'drop, use a <em><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Bernardo-Castilho/dragdroptouch\">polyfill</a></em>.</p>\n\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n\n        <p>Example of a draggable tree associated with a droppable tree :</p>\n\n        <DragTree />\n        <DropTree />\n\n        <syntax-highlight>{ parent.dragdroptrees }</syntax-highlight>\n    </div>\n\n    <script>\n        this.default = `\n            dragndrop: {\n                draggable: false, // make items draggable\n                droppable: false, // make the tree droppable\n                drag:      null,  // action to perform on drag\n                over:      null,  // hook on dragover\n                enter:     null,  // hook on dragenter\n                leave:     null,  // hook on dragleave\n                drop:      null,  // action to perform on drop\n                cancel:    null,  // action to perform on cancellation\n                guard:     null   // prevents dragover and drop\n            }\n        `\n\n        this.code = `\n            /* [Drag'n'drop presets](https://github.com/elbywan/bosket/blob/master/src/core/dragndrop.js) */\n\n            <TreeView /* ... */ dragndrop={dragndrop }/>\n\n            <script>\n                this.dragndrop = {\n                    // To drag or drop on specific items\n                    // you can use a function : (item) => true/false\n                    draggable: true,\n                    droppable: true,\n\n                    // target       -> the model item targeted by the event\n                    // event        -> the dragndrop event\n                    // inputs       -> props of the component where the event is triggered\n\n                    drag: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    over: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    enter: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    leave: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    drop: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    cancel: (target, event, inputs) => {\n                        /* ... */\n                    },\n                    guard: (target, event, inputs) => {\n                        /* ... */\n                    }\n                }\n            <\\/script>\n        `\n\n        this.dragdroptrees = `\n            <DragTree>\n                <div class=\"tree-sample\">\n                    <TreeView opts={ conf } />\n                </div>\n                <script>\n                    import { dragndrop } from \"@bosket/core\"\n                    this.dragModel = [\n                        { name: \"< Drag these items >\" },\n                        { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }]},\n                        { name: 2, children: [{ name: 21 }, { name: 22 }]},\n                        { name: 3 },\n                        { name: 4 }\n                    ]\n                    this.conf = {\n                        model: this.dragModel,\n                        category: \"children\",\n                        selection: [],\n                        onselection: _ => this.update({ selection: _ }),\n                        display: i => i.name,\n                        strategies: { fold: [() => false]},\n                        // Pluck preset\n                        dragndrop: { ...dragndrop.pluck(() => this.conf.model, m => {this.conf.model = m; this.update() }) }\n                    }\n                <\\/script>\n            </DragTree>\n\n            <DropTree>\n                <div class=\"tree-sample\">\n                    <TreeView opts={ conf } />\n                </div>\n                <script>\n                    import { dragndrop } from \"@bosket/core\"\n                    this.conf = {\n                        model: [{ name: \"< Drop items here >\", children: []}],\n                        category: \"children\",\n                        selection: [],\n                        onselection: _ => this.update({ selection: _ }),\n                        display: i => i.name,\n                        strategies: { fold: [() => false]},\n                        // Paste preset + only drop on items with children\n                        dragndrop: {\n                            ...dragndrop.paste(() => this.conf.model, m => {this.conf.model = m; this.update() }),\n                            droppable: item => item && item.children\n                        }\n                    }\n                <\\/script>\n            </DropTree>\n        `\n    </script>\n</dragndrop-prop>\n\n<DragTree>\n    <div class=\"tree-sample\">\n        <TreeView opts={ conf } />\n    </div>\n    <script>\n        import { dragndrop } from \"@bosket/core\"\n        this.dragModel = [\n            { name: \"< Drag these items >\" },\n            { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }]},\n            { name: 2, children: [{ name: 21 }, { name: 22 }]},\n            { name: 3 },\n            { name: 4 }\n        ]\n        this.conf = {\n            model: this.dragModel,\n            category: \"children\",\n            selection: [],\n            onselection: _ => this.update({ selection: _ }),\n            display: i => i.name,\n            strategies: { fold: [() => false]},\n            // Pluck preset\n            dragndrop: { ...dragndrop.pluck(() => this.conf.model, m => {this.conf.model = m; this.update() }) }\n        }\n    </script>\n</DragTree>\n\n<DropTree>\n    <div class=\"tree-sample\">\n        <TreeView opts={ conf } />\n    </div>\n    <script>\n        import { dragndrop } from \"@bosket/core\"\n        this.conf = {\n            model: [{ name: \"< Drop items here >\", children: []}],\n            category: \"children\",\n            selection: [],\n            onselection: _ => this.update({ selection: _ }),\n            display: i => i.name,\n            strategies: { fold: [() => false]},\n            // Paste preset + only drop on items with children\n            dragndrop: {\n                ...dragndrop.paste(() => this.conf.model, m => {this.conf.model = m; this.update() }),\n                droppable: item => item && item.children\n            }\n        }\n    </script>\n</DropTree>\n\n<openeropts-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">{ '{ position: \"none\" | \"left\" | \"right\" }, callback: (item, folded) => void }' }</pre>\n        <p>\n            A collection of options used to configure the opener, which is usually the little arrow or arrow-like icon used to unfold a node..<br/>\n            <br/>\n            <strong>position</strong> : Positions the opener.<br/>\n            <strong>callback</strong> : Perform a callback when an opener is activated.\n        </p>\n        <div class=\"emphasis\">Defaults to \"right\"</div>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n    <script>\n        this.code = `\n            <TreeView /* ... */ openeropts={ openeropts } />\n\n            <script>\n                this.openeropts = {\n                    position: \"left\",\n                    callback: (item, folded) => {\n                        console.log(\\`\\${item} is now \\${folded ? 'folded' : 'unfolded'}\\`)\n                    }\n                }\n            <\\/script>\n        `\n    </script>\n</openeropts-prop>\n\n<labels-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">Object</pre>\n        <p>Labels override.</p>\n        <div class=\"emphasis\">\n            Defaults to :\n            <syntax-highlight>{ parent.default }</syntax-highlight>\n        </div>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.default = `\n            labels: {\n                \"search.placeholder\": \"Search ...\"\n            }\n        `\n        this.code = `\n            <TreeView /* ... */ labels={labels } />\n\n            <script>\n                this.labels = {\n                    \"search.placeholder\": \"I am the text displayed in the search bar as a placeholder.\"\n                }\n            <\\/script>\n        `\n    </script>\n</labels-prop>\n\n<css-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">Object</pre>\n        <p>Css classnames override.</p>\n        <div class=\"emphasis\">\n            Defaults to :\n            <syntax-highlight>{ parent.default }</syntax-highlight>\n        </div>\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.default = `\n            css: {\n                TreeView:           \"TreeView\",\n                opener:             \"opener\",\n                depth:              \"depth\",\n                selected:           \"selected\",\n                category:           \"category\",\n                folded:             \"folded\",\n                disabled:           \"disabled\",\n                async:              \"async\",\n                loading:            \"loading\",\n                nodrop:             \"nodrop\",\n                dragover:           \"dragover\",\n                search:             \"search\",\n                item:               \"item\"\n            }\n        `\n        this.code = `\n            <TreeView /* ... */ css={ css } />\n\n            <script>\n                this.css = { TreeView: \"CustomTree\", loading: \"customLoading\" }\n            <\\/script>\n        `\n    </script>\n</css-prop>\n\n<transition-prop>\n    <div class=\"marged\">\n        <pre class=\"itemType\">Object</pre>\n        <p>\n            Allows transitions by <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/riot/mixins/transition.js\">applying css classes on mount/unmount</a></em>.<br>\n        </p>\n\n        <syntax-highlight>{ parent.code }</syntax-highlight>\n    </div>\n\n    <script>\n        this.code = `\n            <TreeView /* ... */ transition={ transition } />\n\n            <style>\n                .TransitionName {\n                    transition: opacity .3s;\n                }\n                .TransitionName-mount, .TransitionName-unmount {\n                    opacity: 0;\n                }\n            </style>\n            <script>\n                /*\n                    During the whole life of the tree, the \"TransitionName\" css class\n                        is set on the element.\n                    On mount the  \"TransitionName-mount\" css class is applied,\n                        then removed next tick.\n                    On unmount the  \"TransitionName-unmount\" css class is applied,\n                        and the node destruction is delayed until the transition completes.\n                 */\n                this.transition = {\n                     name: \"TransitionName\"\n                }\n            <\\/script>\n        `\n    </script>\n</transition-prop>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/optional-properties/component.tag","<syntax-highlight>\n    <pre class={\"language-\" + language }><code class={\"language-\" + language } ref=\"ref\"><yield/></code></pre>\n\n    <script>\n        import { indent } from \"self/common/tools\"\n\n        this.language = this.opts.language || \"javascript\"\n\n        const makePrefix = i => {\n            let str = \"\"\n            for(let _ = 0; _ < i; _++) { str += \" \" }\n            return str\n        }\n        const offsetPrefix = this.opts.offset ? makePrefix(this.opts.offset) : \"\"\n        this.one(\"mount\", () => {\n            this.refs.ref.textContent = indent(offsetPrefix + (this.opts.content || this.refs.ref.textContent))\n            window.Prism.highlightElement(this.refs.ref)\n        })\n    </script>\n</syntax-highlight>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Syntax.tag","<ComponentDemo>\n    <div class=\"ComponentDemo section\">\n        <h3 if={ componentname }>{ componentname }</h3>\n        <p if={ description }>{ description }</p>\n        <div class={ ComponentDemo: true, \"flex-container\": true, expanded: expand }>\n            <div class={ ComponentDemo: true, \"demo-area\": true, expand: expand === \"demo\" }>\n                <!-- Expand button -->\n                <div class=\"ComponentDemo expander\" onclick={ doExpand(\"demo\") }>\n                    <i class={\n                        fa: true,\n                        \"fa-compress\":  expand === \"demo\",\n                        \"fa-expand\":    expand !== \"demo\"\n                    }></i>\n                </div>\n                <!-- Demo content -->\n                <div class=\"ComponentDemo padded\">\n                    <yield/>\n                </div>\n            </div>\n            <div class={ ComponentDemo: true, code: true, expand: expand === \"code\" }>\n                <!-- Expand button -->\n                <div class=\"ComponentDemo expander\" onclick={ doExpand(\"code\") }>\n                    <i class={\n                        fa: true,\n                        \"fa-compress\":  expand === \"code\",\n                        \"fa-expand\":    expand !== \"code\"\n                    }></i>\n                </div>\n                <!-- Code files tabs -->\n                <div class=\"tabs\">\n                    <div each={ file in files } onclick={ setTab(file) } class={ selected: parent.tab === file }>\n                        { getFileName(file) }\n                    </div>\n                </div>\n                <!-- Code files content -->\n                <pre class={ \"language-\" + getPrismExtension(tab) }><code class={ \"language-\" + getPrismExtension(tab) } ref=\"tabContents\"></code></pre>\n            </div>\n        </div>\n    </div>\n\n    <script>\n        import \"self/common/styles/ComponentDemo.css\"\n\n        import { loadFile } from \"self/common/tools\"\n\n        Object.assign(this, this.opts)\n        if(!this.files) this.files = []\n\n        this.expand = \"demo\"\n        this.doExpand = target => _ => this.expand = this.expand === target ? \"\" : target\n\n        this._tab = null\n        this.setTab = file => e => this.tab = file\n        Object.defineProperty(this, \"tab\", {\n            configurable: true,\n            get: () => this._tab || (this.files.length > 0 ? this.files[0] : null),\n            set: file => {\n                this._tab = file\n                loadFile(file, code => {\n                    this.refs.tabContents.innerHTML =\n                        window[\"Prism\"].highlight(code, window[\"Prism\"].languages[this.getPrismExtension(file)])\n                })\n            }\n        })\n        this.tab = this.files.length > 0 ? this.files[0] : null\n\n        this.getFileName = file => file.split(\"/\").splice(-1)\n        this.getPrismExtension = file => {\n            const split = file.split(\".\")\n            let extension = \"javascript\"\n            if(split[split.length - 1] === \"css\")\n                extension = \"css\"\n            else if(split[split.length - 1] === \"ts\")\n                extension = \"typescript\"\n            return extension\n        }\n\n    </script>\n</ComponentDemo>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/ComponentDemo.tag","import \"./TreeView\"\nimport \"./ChuckNorris\"\nimport \"./HackerNews\"\nimport \"./Pokeapi\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/index.js","import \"./TreeViewDemo.tag\"\nimport \"./TreeViewSection.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/TreeView/index.js","<TreeViewDemo>\n\n    <TreeView opts={ options } selection={ opts.selection } onselection={ opts.onselection } />\n\n    <script>\n        import { string } from \"@bosket/tools\"\n        import { dragndrop } from \"@bosket/core\"\n        import riot from \"riot\"\n\n        // Model\n        import model from \"self/common/models/TreeViewModel\"\n\n        // Style\n        import \"./TreeViewDemo.css\"\n\n        this.dragImage = new Image()\n        this.dragImage.src = \"../assets/drag-image.png\"\n\n        // A custom defined tag used to wrap items on display\n        riot.tag(\"wrappedlabel\", \"<a>{ opts.item.label }</a>\")\n\n        this.options = {\n            // Data model\n            model: model,\n            // Property of the model containing children\n            category: \"items\",\n            // Wrapper tag\n            displaytag: item => \"wrappedlabel\",\n            // Alphabetical sort\n            sort: (a, b) => a.label.localeCompare(b.label),\n            // Search by regex\n            search: input => i => string(i.label).contains(input),\n            strategies: {\n                // Select on click\n                click: [\"select\"],\n                // Use keyboard modifiers\n                selection: [\"modifiers\"],\n                // Use the opener to control element folding\n                fold: [\"opener-control\"]\n            },\n            // Custom css root class name\n            css: { TreeView: \"TreeViewDemo\" },\n            dragndrop: {\n                // Use the \"selection\" drag and drop preset\n                ...dragndrop.selection(() => this.options.model, m => { this.options.model = m; this.update() }),\n                // Add a custom image on drag\n                drag: (_, event) => {\n                    event.dataTransfer.setDragImage(this.dragImage, 0, 0)\n                    event.dataTransfer.setData(\"application/json\", JSON.stringify(this.options.selection))\n                },\n                // Drop only on categories or root (excluding asynchronous promises)\n                droppable: _ => !_ || _.items && _.items instanceof Array\n            },\n            // Allow css transitions on mount/unmount\n            transition: {\n                name: \"TreeViewDemoTransition\"\n            }\n        }\n    </script>\n</TreeViewDemo>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/TreeView/TreeViewDemo.tag","<TreeViewSection>\n    <div>\n        <p>\n            <span>Demonstrates a basic usage of the TreeView component </span>\n            <span>and how to override and use most of its </span>\n            <em><a href=\"#TreeView#Required properties\">component props</a></em>, and&nbsp;\n            <em><a href=\"#TreeView#Css\">css styles</a></em>.\n        </p>\n        <span>Featuring :</span>\n        <ul>\n            <li>Drag and drop, with a custom drag image.</li>\n            <li>Asynchronous children loading</li>\n            <li>Multiselection using keyboard modifiers (shift / ctrl or cmd)</li>\n            <li>Transitions on fold / unfold</li>\n            <li>Alphabetical sort</li>\n            <li>Search bar</li>\n        </ul>\n    </div>\n    <ComponentDemo componentname=\"Nested items\" files={ files }>\n        <div class=\"TreeViewWindow\">\n            <div style=\"display: inline-block; text-align: left\">\n                <TreeViewDemo selection={ parent.selection } onselection={ parent.onselection }></TreeViewDemo>\n            </div>\n\n            <p>\n                <span if={ parent.selection.length === 0 }>No elements are</span>\n                <span if={ parent.selection.length === 1 }>One element is</span>\n                <span if={ parent.selection.length > 1 }>{ parent.selection.length } elements are</span>\n                selected.\n            </p>\n\n            <div class=\"select-blocks\">\n                <button each={ item in parent.selection } onclick={ parent.parent.deselect(item) }>\n                    { item.label }\n                </button>\n            </div>\n        </div>\n    </ComponentDemo>\n\n    <script>\n        import \"self/common/styles/TreeViewWindow.css\"\n\n        this.files = [\n            \"./components/Demos/TreeView/TreeViewDemo.tag\",\n            \"./components/Demos/TreeView/TreeViewDemo.css\",\n            \"../common/models/TreeViewModel.js\"\n        ]\n\n        this.selection = []\n        this.onselection = _ => this.update({ selection: _ })\n        this.deselect = item => _ => this.selection = this.selection.filter(i => i !== item)\n    </script>\n</TreeViewSection>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/TreeView/TreeViewSection.tag","import \"./ChuckNorris.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/ChuckNorris/index.js","<ChuckNorrisCategory>\n    <span class=\"value\">{ item.value }\n        <i class={ \"fa fa-refresh\" + (item.children.length === 0 ? \" loading\" : \"\") }\n            onclick={ onClick }>\n        </i>\n    </span>\n\n    <script>\n        this.item = this.opts.item\n        this.onClick = e => {\n            this.item.children = []\n            this.item.loadJoke().then(joke => {\n                this.item.children = joke\n                this.parent.update()\n            })\n        }\n    </script>\n</ChuckNorrisCategory>\n\n<ChuckNorrisJoke>\n    <div class=\"value\">\n        <a href={item.url } target=\"_blank\" rel=\"noopener noreferrer\">{ item.value }</a>\n    </div>\n\n    <script>\n        this.item = this.opts.item\n    </script>\n</ChuckNorrisJoke>\n\n<ChuckNorris>\n    <div>\n       <div style=\"text-align: center; margin: 10px;\">\n           <div>\n               <a href=\"https://api.chucknorris.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                   <img src=\"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png\"\n                       alt=\"Chuck Norris api logo\" style=\"width: 100px; filter: drop-shadow(0 0 2px #444);\" />\n               </a>\n           </div>\n           <h5>A curated list of Chuck Norris jokes.</h5>\n           <div>\n               <button onclick={init } class=\"ChuckNorrisButton\">Reset</button>\n           </div>\n            <i if={ categories.length === 0 } class=\"ChuckNorrisSpinner fa fa-spinner fa-3x\"></i>\n       </div>\n       <TreeView if={ categories.length > 0 }\n            model={categories }\n            category=\"children\"\n            selection={selection}\n            onselection={onselection }\n            displaytag={ display }\n            strategies={ conf.strategies }\n            css={conf.css }/>\n    </div>\n\n    <script>\n        import \"self/common/styles/ChuckNorris.css\"\n        import { Category } from \"./models\"\n\n        this.categories = []\n        this.selection = []\n        this.onselection = _ => this.update({ selection: _ })\n        this.conf = {\n            strategies: { fold: [\"opener-control\"], click: [\"unfold-on-selection\"]},\n            css: { TreeView: \"ChuckNorrisDemo\" }\n        }\n        this.init = () => {\n            fetch(\"https://api.chucknorris.io/jokes/categories\")\n                    .then(response => response.json())\n                    .then(categories => {\n                        this.categories = categories.map(cat => new Category(cat))\n                        this.update()\n                    })\n        }\n        this.one(\"mount\", this.init)\n        this.display = item => item.display()\n    </script>\n</ChuckNorris>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/ChuckNorris/ChuckNorris.tag","export class Category {\n    constructor(category) {\n        this.value = category\n        this.children = this.loadJoke\n    }\n\n    loadJoke = () =>\n        fetch(`https://api.chucknorris.io/jokes/random?category=${ this.value }`)\n            .then(response => response.json())\n            .then(joke => [new Joke(joke)])\n\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"chucknorriscategory\"\n}\n\nexport class Joke {\n    constructor(joke) { Object.assign(this, joke) }\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"chucknorrisjoke\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/ChuckNorris/models.js","import \"./HackerNews.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/HackerNews/index.js","<HackerNewsFetchMore>\n    <div class=\"fetchMore\" onclick={more }>\n        <a>Load more comments</a>\n    </div>\n\n    <script>\n        this.more = e => {\n            this.opts.item.fetchKids().then(this.parent.parent.update)\n        }\n    </script>\n</HackerNewsFetchMore>\n\n<HackerNewsTopStories>\n    <span class=\"story\">\n        <span class=\"commentCount\"><span if={ item.descendants}>({ item.descendants }) </span>({ item.score } points) - by <a href={ \"https://news.ycombinator.com/user?id=\" + item.by } target=\"_blank\" rel=\"noopener noreferrer\">{ item.by }</a></span>\n        <a href={ item.url } target=\"_blank\" rel=\"noopener noreferrer\">\n            { item.title }\n        </a>\n    </span>\n\n    <script>\n        this.item = this.opts.item\n    </script>\n</HackerNewsTopStories>\n\n<HackerNewsComment>\n    <div class=\"comment\">\n        <div class=\"infobar\">\n            <span class=\"commentCount\" if={ item.kids && item.kids.length > 0 }>({ item.kids.length })</span>\n            <a href={ \"https://news.ycombinator.com/user?id=\" + item.by } target=\"_blank\" rel=\"noopener noreferrer\">{ item.by }</a> { item.date }\n        </div>\n        <div class=\"text\" if={ item.deleted }><em>Deleted.</em></div>\n        <div class=\"text\" if={ !item.deleted } ref=\"content\"></div>\n    </div>\n\n    <script>\n        this.item = this.opts.item\n        const refreshContent = () => this.refs.content.innerHTML = this.item.text\n        this.on(\"update\", refreshContent)\n        this.one(\"mount\",  refreshContent)\n    </script>\n</HackerNewsComment>\n\n<HackerNews>\n    <div>\n        <div style=\"text-align: center; margin: 10px;\">\n            <div>\n                <a href=\"https://news.ycombinator.com\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    <img src=\"http://www.ycombinator.com/images/ycombinator-logo-fb889e2e.png\"\n                        alt=\"HackerNews logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\" />\n                </a>\n            </div>\n            <h5>The top 10 stories from HackerNews.</h5>\n            <div>\n                <button onclick={ init } class=\"HackerNewsButton\">Reset</button>\n            </div>\n            <i if={ stories.length === 0 } class=\"HackerNewsSpinner fa fa-spinner fa-3x\"></i>\n        </div>\n        <TreeView if={ stories.length > 0 }\n            model={stories }\n            category=\"children\"\n            selection={ selection }\n            onselection={ onselection }\n            displaytag={ display }\n            strategies={conf.strategies }\n            css={ conf.css }></TreeView>\n    </div>\n    <script>\n        import \"self/common/styles/HackerNews.css\"\n        import { fetchLast, TopStory } from \"./models\"\n\n        this.stories = []\n        this.selection = []\n        this.onselection = _ => this.update({ selection: _ })\n        this.conf = {\n            strategies: { fold: [\"opener-control\"]},\n            css: { TreeView: \"HackerNewsDemo\" }\n        }\n        this.display = item => item.display()\n\n        this.init = () => {\n            fetch(\"https://hacker-news.firebaseio.com/v0/beststories.json\")\n                .then(response => response.json())\n                .then(topStories => fetchLast(topStories, _ => `https://hacker-news.firebaseio.com/v0/item/${_}.json`))\n                .then(topStories => {\n                    this.stories = topStories.map(story => new TopStory(story))\n                    this.update()\n                })\n        }\n        this.one(\"mount\", this.init)\n    </script>\n</HackerNews>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/HackerNews/HackerNews.tag","import sanitize from \"sanitize-html\"\n\nexport const fetchLast = (arr, getUrl, limit = 10, offset = 0) =>\n    Promise.all(arr.slice(offset, offset + limit).map(_ => fetch(getUrl(_)).then(response => response.json())))\n\nclass Item {\n\n    constructor(data) {\n        Object.assign(this, data)\n        if(this.kids) {\n            this.children = () => this.fetchKids()\n        }\n    }\n\n    offset = 0\n    fetchLimit = 5\n\n    fetchKids() {\n        if(this.children instanceof Array && this.children[this.children.length - 1].id === -1)\n            this.children = this.children.slice(0, this.children.length - 1)\n        return fetchLast(this.kids, _ => `https://hacker-news.firebaseio.com/v0/item/${_}.json`, this.fetchLimit, this.offset)\n            .then(kids => {\n                const result = kids.map(k => new Comment(k))\n                this.offset += this.fetchLimit\n                if(this.offset < this.kids.length) {\n                    result.push({\n                        id: -1,\n                        fetchKids: () => this.fetchKids().then(_ => {\n                            if(this.children instanceof Array)\n                                this.children = [ ...this.children, ..._ ]\n                        }),\n                        // Riotjs tags are lowercased by the compiler\n                        display: () => \"hackernewsfetchmore\"\n                    })\n                }\n                return result\n            })\n    }\n}\n\nexport class TopStory extends Item {\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"hackernewstopstories\"\n\n}\n\nexport class Comment extends Item {\n\n    constructor(data) {\n        super(data)\n        this.text = sanitize(this.text)\n        this.date = new Date(this.time * 1000).toLocaleDateString()\n    }\n\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"hackernewscomment\"\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/HackerNews/models.js","import \"./Pokeapi.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/Pokeapi/index.js","<PokeApiSubCategory>\n    <span class=\"subcategory\">{ opts.item.name }</span>\n</PokeApiSubCategory>\n\n<PokeApiItem>\n    <div class={ subsection : opts.item.__subsection }>\n        <img if={ opts.item.__image } src={ opts.item.__image } alt=\"sprite\" />\n        <div class=\"property-row\" each={ prop in filterProps() }>\n            <label>{ prop }</label><span>{ \"\" + parent.opts.item[prop] }</span>\n        </div>\n    </div>\n\n    <script>\n        this.filterProps = () => {\n            const props = Object.getOwnPropertyNames(this.opts.item)\n            return props.filter(prop => !prop.startsWith(\"__\") && !(typeof this[prop] === \"object\") && !(typeof this[prop] === \"function\"))\n        }\n    </script>\n</PokeApiItem>\n\n<PokemonDisplay>\n    <virtual>{ opts.item.name} </virtual>\n</PokemonDisplay>\n\n<PokeApi>\n    <div style=\"position: relative;\">\n        <div style=\"text-align: center; margin: 10px;\">\n            <div>\n                <a href=\"https://pokeapi.co/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    <img src=\"https://avatars3.githubusercontent.com/u/19692032?v=4&s=200\"\n                        alt=\"Pokapi logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\" />\n                </a>\n            </div>\n            <h5>Pokmon API crawler</h5>\n            <div>\n                <button onclick={ init } class=\"PokeapiButton\">Reset</button>\n            </div>\n        </div>\n        <TreeView\n            model={data }\n            category=\"__children\"\n            selection={ selection }\n            onselection={ onselection }\n            displaytag={ display }\n            strategies={conf.strategies }\n            css={ conf.css }\n            disable={ conf.disable }\n            search={ conf.search }\n        />\n        <div\n            class={ PokeapiLoadMore: true, \"center-text\": true, loading: loading }\n            style={\"display:\" + loadUrl ? \"block\" : \"none\" }\n            onclick={ loadMorePokemons }>\n            <i class=\"fa fa-spinner fa-2x\" if={loading }></i>\n            <span if={!loading }>Show more pokmons</span>\n        </div>\n    </div>\n\n    <script>\n        import \"self/common/styles/Pokeapi.css\"\n        import { Item, cachedFetch } from \"./models\"\n\n        this.conf = {\n            strategies: { fold: [ \"opener-control\", _ => !_.__subsection ], click: [\"toggle-fold\"]},\n            css: { TreeView: \"PokeapiDemo\" },\n            disable: _ => _.__children && _.__children instanceof Array && _.__children.length === 0,\n            search: input => item => item.name && item.name.startsWith(input)\n        }\n        this.data = []\n        this.selection = []\n        this.onselection = _ => this.update({ selection: _ })\n        this.loading = false\n        this.loadUrl = \"https://pokeapi.co/api/v2/pokemon\"\n        this.display = item => item.display()\n\n        this.init = () => {\n            this.loadUrl = \"https://pokeapi.co/api/v2/pokemon\"\n            this.loadPokemons().then(_ => {\n                this.update({data: _ })\n            })\n        }\n        this.one(\"mount\", this.init)\n\n        this.loadPokemons = () => {\n            if(!this.loadUrl) return\n            this.loading = true\n            return cachedFetch(this.loadUrl)\n                .then(json => {\n                    this.loadUrl = json.next\n                    this.loading = false\n                    return json.results.map(i => ({\n                        ...i,\n                        display: () => \"pokemondisplay\",\n                        __children: () => cachedFetch(i.url).then(json => [new Item(json)])\n                    }))\n                })\n                .catch(err => this.loading = false)\n        }\n        this.loadMorePokemons = () => {\n            if(this.loading) return\n            this.loadPokemons().then(_ => {\n                this.update({ data: [ ...this.data, ..._ ] })\n            })\n        }\n    </script>\n</PokeApi>\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/Pokeapi/Pokeapi.tag","export class Item {\n\n    constructor(data) {\n        Object.assign(this, formatData(data))\n    }\n\n    display() { return this.name && this.url ? \"pokeapisubcategory\" : \"pokeapiitem\" }\n}\n\nconst cache = new Map()\nexport const cachedFetch = (url, ...args) => {\n    if(cache.has(url)) return Promise.resolve(cache.get(url))\n    return fetch(url, ...args)\n        .then(response => response.json())\n        .then(json => {\n            cache.set(url, json)\n            return json\n        })\n}\n\nconst imageMatch = (name, val) =>\n    name === \"sprites\" && val.front_default\n\nconst formatData = d => {\n    const data = { ...d }\n    if(data.url) {\n        const url = data.url\n        data.__children = () => cachedFetch(url).then(json => [new Item(json)])\n        return data\n    }\n    data.__subsection = true\n    for(const prop in data) {\n        if(prop.startsWith(\"__\")) continue\n\n        if(data[prop] instanceof Array) {\n            if(!data.__children) data.__children = []\n            data.__children.push({\n                name: \"\" + prop,\n                display: () => \"pokeapisubcategory\",\n                __children: data[prop].map(_ => new Item(_))\n            })\n            delete data[prop]\n        } else if(data[prop] && typeof data[prop] === \"object\") {\n            if(!data.__children) data.__children = []\n            if(data[prop].url && data[prop].name) {\n                const name = data[prop].name\n                const url = data[prop].url\n                data.__children.push({\n                    name: name,\n                    display: () => \"pokeapisubcategory\",\n                    __children: () => cachedFetch(url).then(json => [new Item(json)])\n                })\n            } else {\n                data.__children.push({\n                    name: \"\" + prop,\n                    display: () => \"pokeapisubcategory\",\n                    __children: [new Item(data[prop])]\n                })\n            }\n            const img = imageMatch(prop, data[prop])\n            if(img) data.__image = img\n            delete data[prop]\n        }\n    }\n    return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/Pokeapi/models.js","/* Riot v3.9.1, @license MIT */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.riot = {})));\n}(this, (function (exports) { 'use strict';\n\n  /**\n   * Shorter and fast way to select a single node in the DOM\n   * @param   { String } selector - unique dom selector\n   * @param   { Object } ctx - DOM node where the target of our search will is located\n   * @returns { Object } dom node found\n   */\n  function $(selector, ctx) {\n    return (ctx || document).querySelector(selector)\n  }\n\n  var\n    // be aware, internal usage\n    // ATTENTION: prefix the global dynamic variables with `__`\n    // tags instances cache\n    __TAGS_CACHE = [],\n    // tags implementation cache\n    __TAG_IMPL = {},\n    YIELD_TAG = 'yield',\n\n    /**\n     * Const\n     */\n    GLOBAL_MIXIN = '__global_mixin',\n\n    // riot specific prefixes or attributes\n    ATTRS_PREFIX = 'riot-',\n\n    // Riot Directives\n    REF_DIRECTIVES = ['ref', 'data-ref'],\n    IS_DIRECTIVE = 'data-is',\n    CONDITIONAL_DIRECTIVE = 'if',\n    LOOP_DIRECTIVE = 'each',\n    LOOP_NO_REORDER_DIRECTIVE = 'no-reorder',\n    SHOW_DIRECTIVE = 'show',\n    HIDE_DIRECTIVE = 'hide',\n    KEY_DIRECTIVE = 'key',\n    RIOT_EVENTS_KEY = '__riot-events__',\n\n    // for typeof == '' comparisons\n    T_STRING = 'string',\n    T_OBJECT = 'object',\n    T_UNDEF  = 'undefined',\n    T_FUNCTION = 'function',\n\n    XLINK_NS = 'http://www.w3.org/1999/xlink',\n    SVG_NS = 'http://www.w3.org/2000/svg',\n    XLINK_REGEX = /^xlink:(\\w+)/,\n\n    WIN = typeof window === T_UNDEF ? undefined : window,\n\n    // special native tags that cannot be treated like the others\n    RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n    RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,\n    RE_EVENTS_PREFIX = /^on/,\n    RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g,\n    // some DOM attributes must be normalized\n    CASE_SENSITIVE_ATTRIBUTES = {\n      'viewbox': 'viewBox',\n      'preserveaspectratio': 'preserveAspectRatio'\n    },\n    /**\n     * Matches boolean HTML attributes in the riot tag definition.\n     * With a long list like this, a regex is faster than `[].indexOf` in most browsers.\n     * @const {RegExp}\n     * @see [attributes.md](https://github.com/riot/compiler/blob/dev/doc/attributes.md)\n     */\n    RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,\n    // version# for IE 8-11, 0 for others\n    IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n  /**\n   * Create a generic DOM node\n   * @param   { String } name - name of the DOM node we want to create\n   * @returns { Object } DOM node just created\n   */\n  function makeElement(name) {\n    return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n  }\n\n  /**\n   * Set any DOM attribute\n   * @param { Object } dom - DOM node we want to update\n   * @param { String } name - name of the property we want to set\n   * @param { String } val - value of the property we want to set\n   */\n  function setAttribute(dom, name, val) {\n    var xlink = XLINK_REGEX.exec(name);\n    if (xlink && xlink[1])\n      { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n    else\n      { dom.setAttribute(name, val); }\n  }\n\n  var styleNode;\n  // Create cache and shortcut to the correct property\n  var cssTextProp;\n  var byName = {};\n  var remainder = [];\n  var needsInject = false;\n\n  // skip the following code on the server\n  if (WIN) {\n    styleNode = ((function () {\n      // create a new style element with the correct type\n      var newNode = makeElement('style');\n      // replace any user node or insert the new one into the head\n      var userNode = $('style[type=riot]');\n\n      setAttribute(newNode, 'type', 'text/css');\n      /* istanbul ignore next */\n      if (userNode) {\n        if (userNode.id) { newNode.id = userNode.id; }\n        userNode.parentNode.replaceChild(newNode, userNode);\n      } else { document.head.appendChild(newNode); }\n\n      return newNode\n    }))();\n    cssTextProp = styleNode.styleSheet;\n  }\n\n  /**\n   * Object that will be used to inject and manage the css of every tag instance\n   */\n  var styleManager = {\n    styleNode: styleNode,\n    /**\n     * Save a tag style to be later injected into DOM\n     * @param { String } css - css string\n     * @param { String } name - if it's passed we will map the css to a tagname\n     */\n    add: function add(css, name) {\n      if (name) { byName[name] = css; }\n      else { remainder.push(css); }\n      needsInject = true;\n    },\n    /**\n     * Inject all previously saved tag styles into DOM\n     * innerHTML seems slow: http://jsperf.com/riot-insert-style\n     */\n    inject: function inject() {\n      if (!WIN || !needsInject) { return }\n      needsInject = false;\n      var style = Object.keys(byName)\n        .map(function (k) { return byName[k]; })\n        .concat(remainder).join('\\n');\n      /* istanbul ignore next */\n      if (cssTextProp) { cssTextProp.cssText = style; }\n      else { styleNode.innerHTML = style; }\n    }\n  }\n\n  /**\n   * The riot template engine\n   * @version v3.0.8\n   */\n\n  var skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n    var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n    var beforeReWords = [\n      'case',\n      'default',\n      'do',\n      'else',\n      'in',\n      'instanceof',\n      'prefix',\n      'return',\n      'typeof',\n      'void',\n      'yield'\n    ];\n\n    var wordsLastChar = beforeReWords.reduce(function (s, w) {\n      return s + w.slice(-1)\n    }, '');\n\n    var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n    var RE_VN_CHAR = /[$\\w]/;\n\n    function prev (code, pos) {\n      while (--pos >= 0 && /\\s/.test(code[pos])){ }\n      return pos\n    }\n\n    function _skipRegex (code, start) {\n\n      var re = /.*/g;\n      var pos = re.lastIndex = start++;\n      var match = re.exec(code)[0].match(RE_REGEX);\n\n      if (match) {\n        var next = pos + match[0].length;\n\n        pos = prev(code, pos);\n        var c = code[pos];\n\n        if (pos < 0 || ~beforeReChars.indexOf(c)) {\n          return next\n        }\n\n        if (c === '.') {\n\n          if (code[pos - 1] === '.') {\n            start = next;\n          }\n\n        } else if (c === '+' || c === '-') {\n\n          if (code[--pos] !== c ||\n              (pos = prev(code, pos)) < 0 ||\n              !RE_VN_CHAR.test(code[pos])) {\n            start = next;\n          }\n\n        } else if (~wordsLastChar.indexOf(c)) {\n\n          var end = pos + 1;\n\n          while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){ }\n          if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n            start = next;\n          }\n        }\n      }\n\n      return start\n    }\n\n    return _skipRegex\n\n  })();\n\n  /**\n   * riot.util.brackets\n   *\n   * - `brackets    ` - Returns a string or regex based on its parameter\n   * - `brackets.set` - Change the current riot brackets\n   *\n   * @module\n   */\n\n  /* global riot */\n\n  /* istanbul ignore next */\n  var brackets = (function (UNDEF) {\n\n    var\n      REGLOB = 'g',\n\n      R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n      R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n      S_QBLOCKS = R_STRINGS.source + '|' +\n        /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n        /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n      UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n      NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n      S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n      FINDBRACES = {\n        '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n        '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n        '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n      },\n\n      DEFAULT = '{ }';\n\n    var _pairs = [\n      '{', '}',\n      '{', '}',\n      /{[^}]*}/,\n      /\\\\([{}])/g,\n      /\\\\({)|{/g,\n      RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n      DEFAULT,\n      /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n      /(^|[^\\\\]){=[\\S\\s]*?}/\n    ];\n\n    var\n      cachedBrackets = UNDEF,\n      _regex,\n      _cache = [],\n      _settings;\n\n    function _loopback (re) { return re }\n\n    function _rewrite (re, bp) {\n      if (!bp) { bp = _cache; }\n      return new RegExp(\n        re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n      )\n    }\n\n    function _create (pair) {\n      if (pair === DEFAULT) { return _pairs }\n\n      var arr = pair.split(' ');\n\n      if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n        throw new Error('Unsupported brackets \"' + pair + '\"')\n      }\n      arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n      arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n      arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n      arr[6] = _rewrite(_pairs[6], arr);\n      arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n      arr[8] = pair;\n      return arr\n    }\n\n    function _brackets (reOrIdx) {\n      return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n    }\n\n    _brackets.split = function split (str, tmpl, _bp) {\n      // istanbul ignore next: _bp is for the compiler\n      if (!_bp) { _bp = _cache; }\n\n      var\n        parts = [],\n        match,\n        isexpr,\n        start,\n        pos,\n        re = _bp[6];\n\n      var qblocks = [];\n      var prevStr = '';\n      var mark, lastIndex;\n\n      isexpr = start = re.lastIndex = 0;\n\n      while ((match = re.exec(str))) {\n\n        lastIndex = re.lastIndex;\n        pos = match.index;\n\n        if (isexpr) {\n\n          if (match[2]) {\n\n            var ch = match[2];\n            var rech = FINDBRACES[ch];\n            var ix = 1;\n\n            rech.lastIndex = lastIndex;\n            while ((match = rech.exec(str))) {\n              if (match[1]) {\n                if (match[1] === ch) { ++ix; }\n                else if (!--ix) { break }\n              } else {\n                rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n              }\n            }\n            re.lastIndex = ix ? str.length : rech.lastIndex;\n            continue\n          }\n\n          if (!match[3]) {\n            re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n            continue\n          }\n        }\n\n        if (!match[1]) {\n          unescapeStr(str.slice(start, pos));\n          start = re.lastIndex;\n          re = _bp[6 + (isexpr ^= 1)];\n          re.lastIndex = start;\n        }\n      }\n\n      if (str && start < str.length) {\n        unescapeStr(str.slice(start));\n      }\n\n      parts.qblocks = qblocks;\n\n      return parts\n\n      function unescapeStr (s) {\n        if (prevStr) {\n          s = prevStr + s;\n          prevStr = '';\n        }\n        if (tmpl || isexpr) {\n          parts.push(s && s.replace(_bp[5], '$1'));\n        } else {\n          parts.push(s);\n        }\n      }\n\n      function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n        if (slash) {\n          _lastIndex = skipRegex(str, _pos);\n        }\n\n        if (tmpl && _lastIndex > _pos + 2) {\n          mark = '\\u2057' + qblocks.length + '~';\n          qblocks.push(str.slice(_pos, _lastIndex));\n          prevStr += str.slice(start, _pos) + mark;\n          start = _lastIndex;\n        }\n        return _lastIndex\n      }\n    };\n\n    _brackets.hasExpr = function hasExpr (str) {\n      return _cache[4].test(str)\n    };\n\n    _brackets.loopKeys = function loopKeys (expr) {\n      var m = expr.match(_cache[9]);\n\n      return m\n        ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n        : { val: expr.trim() }\n    };\n\n    _brackets.array = function array (pair) {\n      return pair ? _create(pair) : _cache\n    };\n\n    function _reset (pair) {\n      if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n        _cache = _create(pair);\n        _regex = pair === DEFAULT ? _loopback : _rewrite;\n        _cache[9] = _regex(_pairs[9]);\n      }\n      cachedBrackets = pair;\n    }\n\n    function _setSettings (o) {\n      var b;\n\n      o = o || {};\n      b = o.brackets;\n      Object.defineProperty(o, 'brackets', {\n        set: _reset,\n        get: function () { return cachedBrackets },\n        enumerable: true\n      });\n      _settings = o;\n      _reset(b);\n    }\n\n    Object.defineProperty(_brackets, 'settings', {\n      set: _setSettings,\n      get: function () { return _settings }\n    });\n\n    /* istanbul ignore next: in the browser riot is always in the scope */\n    _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n    _brackets.set = _reset;\n    _brackets.skipRegex = skipRegex;\n\n    _brackets.R_STRINGS = R_STRINGS;\n    _brackets.R_MLCOMMS = R_MLCOMMS;\n    _brackets.S_QBLOCKS = S_QBLOCKS;\n    _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n    return _brackets\n\n  })();\n\n  /**\n   * @module tmpl\n   *\n   * tmpl          - Root function, returns the template value, render with data\n   * tmpl.hasExpr  - Test the existence of a expression inside a string\n   * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n   */\n\n  /* istanbul ignore next */\n  var tmpl = (function () {\n\n    var _cache = {};\n\n    function _tmpl (str, data) {\n      if (!str) { return str }\n\n      return (_cache[str] || (_cache[str] = _create(str))).call(\n        data, _logErr.bind({\n          data: data,\n          tmpl: str\n        })\n      )\n    }\n\n    _tmpl.hasExpr = brackets.hasExpr;\n\n    _tmpl.loopKeys = brackets.loopKeys;\n\n    // istanbul ignore next\n    _tmpl.clearCache = function () { _cache = {}; };\n\n    _tmpl.errorHandler = null;\n\n    function _logErr (err, ctx) {\n\n      err.riotData = {\n        tagName: ctx && ctx.__ && ctx.__.tagName,\n        _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n      };\n\n      if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n      else if (\n        typeof console !== 'undefined' &&\n        typeof console.error === 'function'\n      ) {\n        console.error(err.message);\n        console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n        console.log(this.data); // eslint-disable-line\n      }\n    }\n\n    function _create (str) {\n      var expr = _getTmpl(str);\n\n      if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n      return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n    }\n\n    var RE_DQUOTE = /\\u2057/g;\n    var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n    function _getTmpl (str) {\n      var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n      var qstr = parts.qblocks;\n      var expr;\n\n      if (parts.length > 2 || parts[0]) {\n        var i, j, list = [];\n\n        for (i = j = 0; i < parts.length; ++i) {\n\n          expr = parts[i];\n\n          if (expr && (expr = i & 1\n\n              ? _parseExpr(expr, 1, qstr)\n\n              : '\"' + expr\n                  .replace(/\\\\/g, '\\\\\\\\')\n                  .replace(/\\r\\n?|\\n/g, '\\\\n')\n                  .replace(/\"/g, '\\\\\"') +\n                '\"'\n\n            )) { list[j++] = expr; }\n\n        }\n\n        expr = j < 2 ? list[0]\n             : '[' + list.join(',') + '].join(\"\")';\n\n      } else {\n\n        expr = _parseExpr(parts[1], 0, qstr);\n      }\n\n      if (qstr.length) {\n        expr = expr.replace(RE_QBMARK, function (_, pos) {\n          return qstr[pos]\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\n/g, '\\\\n')\n        });\n      }\n      return expr\n    }\n\n    var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n    var\n      RE_BREND = {\n        '(': /[()]/g,\n        '[': /[[\\]]/g,\n        '{': /[{}]/g\n      };\n\n    function _parseExpr (expr, asText, qstr) {\n\n      expr = expr\n        .replace(/\\s+/g, ' ').trim()\n        .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n      if (expr) {\n        var\n          list = [],\n          cnt = 0,\n          match;\n\n        while (expr &&\n              (match = expr.match(RE_CSNAME)) &&\n              !match.index\n          ) {\n          var\n            key,\n            jsb,\n            re = /,|([[{(])|$/g;\n\n          expr = RegExp.rightContext;\n          key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n          while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n          jsb  = expr.slice(0, match.index);\n          expr = RegExp.rightContext;\n\n          list[cnt++] = _wrapExpr(jsb, 1, key);\n        }\n\n        expr = !cnt ? _wrapExpr(expr, asText)\n             : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n      }\n      return expr\n\n      function skipBraces (ch, re) {\n        var\n          mm,\n          lv = 1,\n          ir = RE_BREND[ch];\n\n        ir.lastIndex = re.lastIndex;\n        while (mm = ir.exec(expr)) {\n          if (mm[0] === ch) { ++lv; }\n          else if (!--lv) { break }\n        }\n        re.lastIndex = lv ? expr.length : ir.lastIndex;\n      }\n    }\n\n    // istanbul ignore next: not both\n    var // eslint-disable-next-line max-len\n      JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n      JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n      JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n    function _wrapExpr (expr, asText, key) {\n      var tb;\n\n      expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n        if (mvar) {\n          pos = tb ? 0 : pos + match.length;\n\n          if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n            match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n            if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n          } else if (pos) {\n            tb = !JS_NOPROPS.test(s.slice(pos));\n          }\n        }\n        return match\n      });\n\n      if (tb) {\n        expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n      }\n\n      if (key) {\n\n        expr = (tb\n            ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n          ) + '?\"' + key + '\":\"\"';\n\n      } else if (asText) {\n\n        expr = 'function(v){' + (tb\n            ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n          ) + ';return v||v===0?v:\"\"}.call(this)';\n      }\n\n      return expr\n    }\n\n    _tmpl.version = brackets.version = 'v3.0.8';\n\n    return _tmpl\n\n  })();\n\n  /* istanbul ignore next */\n  var observable = function(el) {\n\n    /**\n     * Extend the original object or create a new empty one\n     * @type { Object }\n     */\n\n    el = el || {};\n\n    /**\n     * Private variables\n     */\n    var callbacks = {},\n      slice = Array.prototype.slice;\n\n    /**\n     * Public Api\n     */\n\n    // extend the el object adding the observable methods\n    Object.defineProperties(el, {\n      /**\n       * Listen to the given `event` ands\n       * execute the `callback` each time an event is triggered.\n       * @param  { String } event - event id\n       * @param  { Function } fn - callback function\n       * @returns { Object } el\n       */\n      on: {\n        value: function(event, fn) {\n          if (typeof fn == 'function')\n            { (callbacks[event] = callbacks[event] || []).push(fn); }\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Removes the given `event` listeners\n       * @param   { String } event - event id\n       * @param   { Function } fn - callback function\n       * @returns { Object } el\n       */\n      off: {\n        value: function(event, fn) {\n          if (event == '*' && !fn) { callbacks = {}; }\n          else {\n            if (fn) {\n              var arr = callbacks[event];\n              for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n                if (cb == fn) { arr.splice(i--, 1); }\n              }\n            } else { delete callbacks[event]; }\n          }\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Listen to the given `event` and\n       * execute the `callback` at most once\n       * @param   { String } event - event id\n       * @param   { Function } fn - callback function\n       * @returns { Object } el\n       */\n      one: {\n        value: function(event, fn) {\n          function on() {\n            el.off(event, on);\n            fn.apply(el, arguments);\n          }\n          return el.on(event, on)\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      },\n\n      /**\n       * Execute all callback functions that listen to\n       * the given `event`\n       * @param   { String } event - event id\n       * @returns { Object } el\n       */\n      trigger: {\n        value: function(event) {\n          var arguments$1 = arguments;\n\n\n          // getting the arguments\n          var arglen = arguments.length - 1,\n            args = new Array(arglen),\n            fns,\n            fn,\n            i;\n\n          for (i = 0; i < arglen; i++) {\n            args[i] = arguments$1[i + 1]; // skip first argument\n          }\n\n          fns = slice.call(callbacks[event] || [], 0);\n\n          for (i = 0; fn = fns[i]; ++i) {\n            fn.apply(el, args);\n          }\n\n          if (callbacks['*'] && event != '*')\n            { el.trigger.apply(el, ['*', event].concat(args)); }\n\n          return el\n        },\n        enumerable: false,\n        writable: false,\n        configurable: false\n      }\n    });\n\n    return el\n\n  };\n\n  /**\n   * Short alias for Object.getOwnPropertyDescriptor\n   */\n  function getPropDescriptor (o, k) {\n    return Object.getOwnPropertyDescriptor(o, k)\n  }\n\n  /**\n   * Check if passed argument is undefined\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isUndefined(value) {\n    return typeof value === T_UNDEF\n  }\n\n  /**\n   * Check whether object's property could be overridden\n   * @param   { Object }  obj - source object\n   * @param   { String }  key - object property\n   * @returns { Boolean } true if writable\n   */\n  function isWritable(obj, key) {\n    var descriptor = getPropDescriptor(obj, key);\n    return isUndefined(obj[key]) || descriptor && descriptor.writable\n  }\n\n  /**\n   * Extend any object with other properties\n   * @param   { Object } src - source object\n   * @returns { Object } the resulting extended object\n   *\n   * var obj = { foo: 'baz' }\n   * extend(obj, {bar: 'bar', foo: 'bar'})\n   * console.log(obj) => {bar: 'bar', foo: 'bar'}\n   *\n   */\n  function extend(src) {\n    var obj;\n    var i = 1;\n    var args = arguments;\n    var l = args.length;\n\n    for (; i < l; i++) {\n      if (obj = args[i]) {\n        for (var key in obj) {\n          // check if this property of the source object could be overridden\n          if (isWritable(src, key))\n            { src[key] = obj[key]; }\n        }\n      }\n    }\n    return src\n  }\n\n  /**\n   * Alias for Object.create\n   */\n  function create(src) {\n    return Object.create(src)\n  }\n\n  var settings = extend(create(brackets.settings), {\n    skipAnonymousTags: true,\n    // handle the auto updates on any DOM event\n    autoUpdate: true\n  })\n\n  /**\n   * Shorter and fast way to select multiple nodes in the DOM\n   * @param   { String } selector - DOM selector\n   * @param   { Object } ctx - DOM node where the targets of our search will is located\n   * @returns { Object } dom nodes found\n   */\n  function $$(selector, ctx) {\n    return [].slice.call((ctx || document).querySelectorAll(selector))\n  }\n\n  /**\n   * Create a document text node\n   * @returns { Object } create a text node to use as placeholder\n   */\n  function createDOMPlaceholder() {\n    return document.createTextNode('')\n  }\n\n  /**\n   * Toggle the visibility of any DOM node\n   * @param   { Object }  dom - DOM node we want to hide\n   * @param   { Boolean } show - do we want to show it?\n   */\n\n  function toggleVisibility(dom, show) {\n    dom.style.display = show ? '' : 'none';\n    dom.hidden = show ? false : true;\n  }\n\n  /**\n   * Get the value of any DOM attribute on a node\n   * @param   { Object } dom - DOM node we want to parse\n   * @param   { String } name - name of the attribute we want to get\n   * @returns { String | undefined } name of the node attribute whether it exists\n   */\n  function getAttribute(dom, name) {\n    return dom.getAttribute(name)\n  }\n\n  /**\n   * Remove any DOM attribute from a node\n   * @param   { Object } dom - DOM node we want to update\n   * @param   { String } name - name of the property we want to remove\n   */\n  function removeAttribute(dom, name) {\n    dom.removeAttribute(name);\n  }\n\n  /**\n   * Set the inner html of any DOM node SVGs included\n   * @param { Object } container - DOM node where we'll inject new html\n   * @param { String } html - html to inject\n   * @param { Boolean } isSvg - svg tags should be treated a bit differently\n   */\n  /* istanbul ignore next */\n  function setInnerHTML(container, html, isSvg) {\n    // innerHTML is not supported on svg tags so we neet to treat them differently\n    if (isSvg) {\n      var node = container.ownerDocument.importNode(\n        new DOMParser()\n          .parseFromString((\"<svg xmlns=\\\"\" + SVG_NS + \"\\\">\" + html + \"</svg>\"), 'application/xml')\n          .documentElement,\n        true\n      );\n\n      container.appendChild(node);\n    } else {\n      container.innerHTML = html;\n    }\n  }\n\n  /**\n   * Minimize risk: only zero or one _space_ between attr & value\n   * @param   { String }   html - html string we want to parse\n   * @param   { Function } fn - callback function to apply on any attribute found\n   */\n  function walkAttributes(html, fn) {\n    if (!html) { return }\n    var m;\n    while (m = RE_HTML_ATTRS.exec(html))\n      { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n  }\n\n  /**\n   * Create a document fragment\n   * @returns { Object } document fragment\n   */\n  function createFragment() {\n    return document.createDocumentFragment()\n  }\n\n  /**\n   * Insert safely a tag to fix #1962 #1649\n   * @param   { HTMLElement } root - children container\n   * @param   { HTMLElement } curr - node to insert\n   * @param   { HTMLElement } next - node that should preceed the current node inserted\n   */\n  function safeInsert(root, curr, next) {\n    root.insertBefore(curr, next.parentNode && next);\n  }\n\n  /**\n   * Convert a style object to a string\n   * @param   { Object } style - style object we need to parse\n   * @returns { String } resulting css string\n   * @example\n   * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n   */\n  function styleObjectToString(style) {\n    return Object.keys(style).reduce(function (acc, prop) {\n      return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n    }, '')\n  }\n\n  /**\n   * Walk down recursively all the children tags starting dom node\n   * @param   { Object }   dom - starting node where we will start the recursion\n   * @param   { Function } fn - callback to transform the child node just found\n   * @param   { Object }   context - fn can optionally return an object, which is passed to children\n   */\n  function walkNodes(dom, fn, context) {\n    if (dom) {\n      var res = fn(dom, context);\n      var next;\n      // stop the recursion\n      if (res === false) { return }\n\n      dom = dom.firstChild;\n\n      while (dom) {\n        next = dom.nextSibling;\n        walkNodes(dom, fn, res);\n        dom = next;\n      }\n    }\n  }\n\n\n\n  var dom = /*#__PURE__*/Object.freeze({\n    $$: $$,\n    $: $,\n    createDOMPlaceholder: createDOMPlaceholder,\n    mkEl: makeElement,\n    setAttr: setAttribute,\n    toggleVisibility: toggleVisibility,\n    getAttr: getAttribute,\n    remAttr: removeAttribute,\n    setInnerHTML: setInnerHTML,\n    walkAttrs: walkAttributes,\n    createFrag: createFragment,\n    safeInsert: safeInsert,\n    styleObjectToString: styleObjectToString,\n    walkNodes: walkNodes\n  });\n\n  /**\n   * Check against the null and undefined values\n   * @param   { * }  value -\n   * @returns {Boolean} -\n   */\n  function isNil(value) {\n    return isUndefined(value) || value === null\n  }\n\n  /**\n   * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n   * @param { * } value -\n   * @returns { Boolean } -\n   */\n  function isBlank(value) {\n    return isNil(value) || value === ''\n  }\n\n  /**\n   * Check if passed argument is a function\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isFunction(value) {\n    return typeof value === T_FUNCTION\n  }\n\n  /**\n   * Check if passed argument is an object, exclude null\n   * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isObject(value) {\n    return value && typeof value === T_OBJECT // typeof null is 'object'\n  }\n\n  /**\n   * Check if a DOM node is an svg tag or part of an svg\n   * @param   { HTMLElement }  el - node we want to test\n   * @returns {Boolean} true if it's an svg node\n   */\n  function isSvg(el) {\n    var owner = el.ownerSVGElement;\n    return !!owner || owner === null\n  }\n\n  /**\n   * Check if passed argument is a kind of array\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isArray(value) {\n    return Array.isArray(value) || value instanceof Array\n  }\n\n  /**\n   * Check if the passed argument is a boolean attribute\n   * @param   { String } value -\n   * @returns { Boolean } -\n   */\n  function isBoolAttr(value) {\n    return RE_BOOL_ATTRS.test(value)\n  }\n\n  /**\n   * Check if passed argument is a string\n   * @param   { * } value -\n   * @returns { Boolean } -\n   */\n  function isString(value) {\n    return typeof value === T_STRING\n  }\n\n\n\n  var check = /*#__PURE__*/Object.freeze({\n    isBlank: isBlank,\n    isFunction: isFunction,\n    isObject: isObject,\n    isSvg: isSvg,\n    isWritable: isWritable,\n    isArray: isArray,\n    isBoolAttr: isBoolAttr,\n    isNil: isNil,\n    isString: isString,\n    isUndefined: isUndefined\n  });\n\n  /**\n   * Check whether an array contains an item\n   * @param   { Array } array - target array\n   * @param   { * } item - item to test\n   * @returns { Boolean } -\n   */\n  function contains(array, item) {\n    return array.indexOf(item) !== -1\n  }\n\n  /**\n   * Specialized function for looping an array-like collection with `each={}`\n   * @param   { Array } list - collection of items\n   * @param   {Function} fn - callback function\n   * @returns { Array } the array looped\n   */\n  function each(list, fn) {\n    var len = list ? list.length : 0;\n    var i = 0;\n    for (; i < len; i++) { fn(list[i], i); }\n    return list\n  }\n\n  /**\n   * Faster String startsWith alternative\n   * @param   { String } str - source string\n   * @param   { String } value - test string\n   * @returns { Boolean } -\n   */\n  function startsWith(str, value) {\n    return str.slice(0, value.length) === value\n  }\n\n  /**\n   * Function returning always a unique identifier\n   * @returns { Number } - number from 0...n\n   */\n  var uid = (function uid() {\n    var i = -1;\n    return function () { return ++i; }\n  })()\n\n  /**\n   * Helper function to set an immutable property\n   * @param   { Object } el - object where the new property will be set\n   * @param   { String } key - object key where the new property will be stored\n   * @param   { * } value - value of the new property\n   * @param   { Object } options - set the propery overriding the default options\n   * @returns { Object } - the initial object\n   */\n  function define(el, key, value, options) {\n    Object.defineProperty(el, key, extend({\n      value: value,\n      enumerable: false,\n      writable: false,\n      configurable: true\n    }, options));\n    return el\n  }\n\n  /**\n   * Convert a string containing dashes to camel case\n   * @param   { String } str - input string\n   * @returns { String } my-string -> myString\n   */\n  function toCamel(str) {\n    return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n  }\n\n  /**\n   * Warn a message via console\n   * @param   {String} message - warning message\n   */\n  function warn(message) {\n    if (console && console.warn) { console.warn(message); }\n  }\n\n\n\n  var misc = /*#__PURE__*/Object.freeze({\n    contains: contains,\n    each: each,\n    getPropDescriptor: getPropDescriptor,\n    startsWith: startsWith,\n    uid: uid,\n    defineProperty: define,\n    objectCreate: create,\n    extend: extend,\n    toCamel: toCamel,\n    warn: warn\n  });\n\n  /**\n   * Set the property of an object for a given key. If something already\n   * exists there, then it becomes an array containing both the old and new value.\n   * @param { Object } obj - object on which to set the property\n   * @param { String } key - property name\n   * @param { Object } value - the value of the property to be set\n   * @param { Boolean } ensureArray - ensure that the property remains an array\n   * @param { Number } index - add the new item in a certain array position\n   */\n  function arrayishAdd(obj, key, value, ensureArray, index) {\n    var dest = obj[key];\n    var isArr = isArray(dest);\n    var hasIndex = !isUndefined(index);\n\n    if (dest && dest === value) { return }\n\n    // if the key was never set, set it once\n    if (!dest && ensureArray) { obj[key] = [value]; }\n    else if (!dest) { obj[key] = value; }\n    // if it was an array and not yet set\n    else {\n      if (isArr) {\n        var oldIndex = dest.indexOf(value);\n        // this item never changed its position\n        if (oldIndex === index) { return }\n        // remove the item from its old position\n        if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n        // move or add the item\n        if (hasIndex) {\n          dest.splice(index, 0, value);\n        } else {\n          dest.push(value);\n        }\n      } else { obj[key] = [dest, value]; }\n    }\n  }\n\n  /**\n   * Detect the tag implementation by a DOM node\n   * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n   * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n   */\n  function get(dom) {\n    return dom.tagName && __TAG_IMPL[getAttribute(dom, IS_DIRECTIVE) ||\n      getAttribute(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n  }\n\n  /**\n   * Get the tag name of any DOM node\n   * @param   { Object } dom - DOM node we want to parse\n   * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n   * @returns { String } name to identify this dom node in riot\n   */\n  function getName(dom, skipDataIs) {\n    var child = get(dom);\n    var namedTag = !skipDataIs && getAttribute(dom, IS_DIRECTIVE);\n    return namedTag && !tmpl.hasExpr(namedTag) ?\n      namedTag : child ? child.name : dom.tagName.toLowerCase()\n  }\n\n  /**\n   * Return a temporary context containing also the parent properties\n   * @this Tag\n   * @param { Tag } - temporary tag context containing all the parent properties\n   */\n  function inheritParentProps() {\n    if (this.parent) { return extend(create(this), this.parent) }\n    return this\n  }\n\n  /*\n    Includes hacks needed for the Internet Explorer version 9 and below\n    See: http://kangax.github.io/compat-table/es5/#ie8\n         http://codeplanet.io/dropping-ie8/\n  */\n\n  var\n    reHasYield  = /<yield\\b/i,\n    reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n    reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n    reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n    rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n    tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION,\n    GENERIC = 'div',\n    SVG = 'svg';\n\n\n  /*\n    Creates the root element for table or select child elements:\n    tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n  */\n  function specialTags(el, tmpl, tagName) {\n\n    var\n      select = tagName[0] === 'o',\n      parent = select ? 'select>' : 'table>';\n\n    // trim() is important here, this ensures we don't have artifacts,\n    // so we can check if we have only one element inside the parent\n    el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n    parent = el.firstChild;\n\n    // returns the immediate parent if tr/th/td/col is the only element, if not\n    // returns the whole tree, as this can include additional elements\n    /* istanbul ignore next */\n    if (select) {\n      parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n    } else {\n      // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n      var tname = rootEls[tagName];\n      if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n    }\n    return parent\n  }\n\n  /*\n    Replace the yield tag from any tag template with the innerHTML of the\n    original tag in the page\n  */\n  function replaceYield(tmpl, html) {\n    // do nothing if no yield\n    if (!reHasYield.test(tmpl)) { return tmpl }\n\n    // be careful with #1343 - string on the source having `$1`\n    var src = {};\n\n    html = html && html.replace(reYieldSrc, function (_, ref, text) {\n      src[ref] = src[ref] || text;   // preserve first definition\n      return ''\n    }).trim();\n\n    return tmpl\n      .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n        return src[ref] || def || ''\n      })\n      .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n        return html || def || ''\n      })\n  }\n\n  /**\n   * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n   * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n   *\n   * @param   { String } tmpl  - The template coming from the custom tag definition\n   * @param   { String } html - HTML content that comes from the DOM element where you\n   *           will mount the tag, mostly the original tag in the page\n   * @param   { Boolean } isSvg - true if the root node is an svg\n   * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n   */\n  function mkdom(tmpl, html, isSvg) {\n    var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/);\n    var  tagName = match && match[1].toLowerCase();\n    var el = makeElement(isSvg ? SVG : GENERIC);\n\n    // replace all the yield tags with the tag inner html\n    tmpl = replaceYield(tmpl, html);\n\n    /* istanbul ignore next */\n    if (tblTags.test(tagName))\n      { el = specialTags(el, tmpl, tagName); }\n    else\n      { setInnerHTML(el, tmpl, isSvg); }\n\n    return el\n  }\n\n  /**\n   * Loop backward all the parents tree to detect the first custom parent tag\n   * @param   { Object } tag - a Tag instance\n   * @returns { Object } the instance of the first custom parent tag found\n   */\n  function getImmediateCustomParent(tag) {\n    var ptag = tag;\n    while (ptag.__.isAnonymous) {\n      if (!ptag.parent) { break }\n      ptag = ptag.parent;\n    }\n    return ptag\n  }\n\n  /**\n   * Trigger DOM events\n   * @param   { HTMLElement } dom - dom element target of the event\n   * @param   { Function } handler - user function\n   * @param   { Object } e - event object\n   */\n  function handleEvent(dom, handler, e) {\n    var ptag = this.__.parent;\n    var item = this.__.item;\n\n    if (!item)\n      { while (ptag && !item) {\n        item = ptag.__.item;\n        ptag = ptag.__.parent;\n      } }\n\n    // override the event properties\n    /* istanbul ignore next */\n    if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n    /* istanbul ignore next */\n    if (isWritable(e, 'target')) { e.target = e.srcElement; }\n    /* istanbul ignore next */\n    if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n    e.item = item;\n\n    handler.call(this, e);\n\n    // avoid auto updates\n    if (!settings.autoUpdate) { return }\n\n    if (!e.preventUpdate) {\n      var p = getImmediateCustomParent(this);\n      // fixes #2083\n      if (p.isMounted) { p.update(); }\n    }\n  }\n\n  /**\n   * Attach an event to a DOM node\n   * @param { String } name - event name\n   * @param { Function } handler - event callback\n   * @param { Object } dom - dom node\n   * @param { Tag } tag - tag instance\n   */\n  function setEventHandler(name, handler, dom, tag) {\n    var eventName;\n    var cb = handleEvent.bind(tag, dom, handler);\n\n    // avoid to bind twice the same event\n    // possible fix for #2332\n    dom[name] = null;\n\n    // normalize event name\n    eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n    // cache the listener into the listeners array\n    if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n    if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n    if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n    dom[RIOT_EVENTS_KEY][name] = cb;\n    dom.addEventListener(eventName, cb, false);\n  }\n\n  /**\n   * Create a new child tag including it correctly into its parent\n   * @param   { Object } child - child tag implementation\n   * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n   * @param   { String } innerHTML - inner html of the child node\n   * @param   { Object } parent - instance of the parent tag including the child custom tag\n   * @returns { Object } instance of the new child tag just created\n   */\n  function initChild(child, opts, innerHTML, parent) {\n    var tag = createTag(child, opts, innerHTML);\n    var tagName = opts.tagName || getName(opts.root, true);\n    var ptag = getImmediateCustomParent(parent);\n    // fix for the parent attribute in the looped elements\n    define(tag, 'parent', ptag);\n    // store the real parent tag\n    // in some cases this could be different from the custom parent tag\n    // for example in nested loops\n    tag.__.parent = parent;\n\n    // add this tag to the custom parent tag\n    arrayishAdd(ptag.tags, tagName, tag);\n\n    // and also to the real parent tag\n    if (ptag !== parent)\n      { arrayishAdd(parent.tags, tagName, tag); }\n\n    return tag\n  }\n\n  /**\n   * Removes an item from an object at a given key. If the key points to an array,\n   * then the item is just removed from the array.\n   * @param { Object } obj - object on which to remove the property\n   * @param { String } key - property name\n   * @param { Object } value - the value of the property to be removed\n   * @param { Boolean } ensureArray - ensure that the property remains an array\n  */\n  function arrayishRemove(obj, key, value, ensureArray) {\n    if (isArray(obj[key])) {\n      var index = obj[key].indexOf(value);\n      if (index !== -1) { obj[key].splice(index, 1); }\n      if (!obj[key].length) { delete obj[key]; }\n      else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n    } else if (obj[key] === value)\n      { delete obj[key]; } // otherwise just delete the key\n  }\n\n  /**\n   * Adds the elements for a virtual tag\n   * @this Tag\n   * @param { Node } src - the node that will do the inserting or appending\n   * @param { Tag } target - only if inserting, insert before this tag's first child\n   */\n  function makeVirtual(src, target) {\n    var this$1 = this;\n\n    var head = createDOMPlaceholder();\n    var tail = createDOMPlaceholder();\n    var frag = createFragment();\n    var sib;\n    var el;\n\n    this.root.insertBefore(head, this.root.firstChild);\n    this.root.appendChild(tail);\n\n    this.__.head = el = head;\n    this.__.tail = tail;\n\n    while (el) {\n      sib = el.nextSibling;\n      frag.appendChild(el);\n      this$1.__.virts.push(el); // hold for unmounting\n      el = sib;\n    }\n\n    if (target)\n      { src.insertBefore(frag, target.__.head); }\n    else\n      { src.appendChild(frag); }\n  }\n\n  /**\n   * makes a tag virtual and replaces a reference in the dom\n   * @this Tag\n   * @param { tag } the tag to make virtual\n   * @param { ref } the dom reference location\n   */\n  function makeReplaceVirtual(tag, ref) {\n    var frag = createFragment();\n    makeVirtual.call(tag, frag);\n    ref.parentNode.replaceChild(frag, ref);\n  }\n\n  /**\n   * Update dynamically created data-is tags with changing expressions\n   * @param { Object } expr - expression tag and expression info\n   * @param { Tag }    parent - parent for tag creation\n   * @param { String } tagName - tag implementation we want to use\n   */\n  function updateDataIs(expr, parent, tagName) {\n    var tag = expr.tag || expr.dom._tag;\n    var ref;\n\n    var ref$1 = tag ? tag.__ : {};\n    var head = ref$1.head;\n    var isVirtual = expr.dom.tagName === 'VIRTUAL';\n\n    if (tag && expr.tagName === tagName) {\n      tag.update();\n      return\n    }\n\n    // sync _parent to accommodate changing tagnames\n    if (tag) {\n      // need placeholder before unmount\n      if(isVirtual) {\n        ref = createDOMPlaceholder();\n        head.parentNode.insertBefore(ref, head);\n      }\n\n      tag.unmount(true);\n    }\n\n    // unable to get the tag name\n    if (!isString(tagName)) { return }\n\n    expr.impl = __TAG_IMPL[tagName];\n\n    // unknown implementation\n    if (!expr.impl) { return }\n\n    expr.tag = tag = initChild(\n      expr.impl, {\n        root: expr.dom,\n        parent: parent,\n        tagName: tagName\n      },\n      expr.dom.innerHTML,\n      parent\n    );\n\n    each(expr.attrs, function (a) { return setAttribute(tag.root, a.name, a.value); });\n    expr.tagName = tagName;\n    tag.mount();\n\n    // root exist first time, after use placeholder\n    if (isVirtual) { makeReplaceVirtual(tag, ref || tag.root); }\n\n    // parent is the placeholder tag, not the dynamic tag so clean up\n    parent.__.onUnmount = function () {\n      var delName = tag.opts.dataIs;\n      arrayishRemove(tag.parent.tags, delName, tag);\n      arrayishRemove(tag.__.parent.tags, delName, tag);\n      tag.unmount();\n    };\n  }\n\n  /**\n   * Nomalize any attribute removing the \"riot-\" prefix\n   * @param   { String } attrName - original attribute name\n   * @returns { String } valid html attribute name\n   */\n  function normalizeAttrName(attrName) {\n    if (!attrName) { return null }\n    attrName = attrName.replace(ATTRS_PREFIX, '');\n    if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n    return attrName\n  }\n\n  /**\n   * Update on single tag expression\n   * @this Tag\n   * @param { Object } expr - expression logic\n   * @returns { undefined }\n   */\n  function updateExpression(expr) {\n    if (this.root && getAttribute(this.root,'virtualized')) { return }\n\n    var dom = expr.dom;\n    // remove the riot- prefix\n    var attrName = normalizeAttrName(expr.attr);\n    var isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName);\n    var isVirtual = expr.root && expr.root.tagName === 'VIRTUAL';\n    var ref = this.__;\n    var isAnonymous = ref.isAnonymous;\n    var parent = dom && (expr.parent || dom.parentNode);\n    // detect the style attributes\n    var isStyleAttr = attrName === 'style';\n    var isClassAttr = attrName === 'class';\n\n    var value;\n\n    // if it's a tag we could totally skip the rest\n    if (expr._riot_id) {\n      if (expr.__.wasCreated) {\n        expr.update();\n      // if it hasn't been mounted yet, do that now.\n      } else {\n        expr.mount();\n        if (isVirtual) {\n          makeReplaceVirtual(expr, expr.root);\n        }\n      }\n      return\n    }\n\n    // if this expression has the update method it means it can handle the DOM changes by itself\n    if (expr.update) { return expr.update() }\n\n    var context = isToggle && !isAnonymous ? inheritParentProps.call(this) : this;\n\n    // ...it seems to be a simple expression so we try to calculate its value\n    value = tmpl(expr.expr, context);\n\n    var hasValue = !isBlank(value);\n    var isObj = isObject(value);\n\n    // convert the style/class objects to strings\n    if (isObj) {\n      if (isClassAttr) {\n        value = tmpl(JSON.stringify(value), this);\n      } else if (isStyleAttr) {\n        value = styleObjectToString(value);\n      }\n    }\n\n    // remove original attribute\n    if (expr.attr && (!expr.wasParsedOnce || !hasValue || value === false)) {\n      // remove either riot-* attributes or just the attribute name\n      removeAttribute(dom, getAttribute(dom, expr.attr) ? expr.attr : attrName);\n    }\n\n    // for the boolean attributes we don't need the value\n    // we can convert it to checked=true to checked=checked\n    if (expr.bool) { value = value ? attrName : false; }\n    if (expr.isRtag) { return updateDataIs(expr, this, value) }\n    if (expr.wasParsedOnce && expr.value === value) { return }\n\n    // update the expression value\n    expr.value = value;\n    expr.wasParsedOnce = true;\n\n    // if the value is an object (and it's not a style or class attribute) we can not do much more with it\n    if (isObj && !isClassAttr && !isStyleAttr && !isToggle) { return }\n    // avoid to render undefined/null values\n    if (!hasValue) { value = ''; }\n\n    // textarea and text nodes have no attribute name\n    if (!attrName) {\n      // about #815 w/o replace: the browser converts the value to a string,\n      // the comparison by \"==\" does too, but not in the server\n      value += '';\n      // test for parent avoids error with invalid assignment to nodeValue\n      if (parent) {\n        // cache the parent node because somehow it will become null on IE\n        // on the next iteration\n        expr.parent = parent;\n        if (parent.tagName === 'TEXTAREA') {\n          parent.value = value;                    // #1113\n          if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n        }                                         // will be available on 'updated'\n        else { dom.nodeValue = value; }\n      }\n      return\n    }\n\n\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, this);\n    // show / hide\n    } else if (isToggle) {\n      toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n    // handle attributes\n    } else {\n      if (expr.bool) {\n        dom[attrName] = value;\n      }\n\n      if (attrName === 'value' && dom.value !== value) {\n        dom.value = value;\n      } else if (hasValue && value !== false) {\n        setAttribute(dom, attrName, value);\n      }\n\n      // make sure that in case of style changes\n      // the element stays hidden\n      if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n    }\n  }\n\n  /**\n   * Update all the expressions in a Tag instance\n   * @this Tag\n   * @param { Array } expressions - expression that must be re evaluated\n   */\n  function update(expressions) {\n    each(expressions, updateExpression.bind(this));\n  }\n\n  /**\n   * We need to update opts for this tag. That requires updating the expressions\n   * in any attributes on the tag, and then copying the result onto opts.\n   * @this Tag\n   * @param   {Boolean} isLoop - is it a loop tag?\n   * @param   { Tag }  parent - parent tag node\n   * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n   * @param   { Object }  opts - tag options\n   * @param   { Array }  instAttrs - tag attributes array\n   */\n  function updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n    // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n    // (and only this case) we don't need to do updateOpts, because the regular parse\n    // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n    if (isLoop && isAnonymous) { return }\n    var ctx = isLoop ? inheritParentProps.call(this) : parent || this;\n\n    each(instAttrs, function (attr) {\n      if (attr.expr) { updateExpression.call(ctx, attr.expr); }\n      // normalize the attribute names\n      opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n    });\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param { Tag } tag - tag object\n   * @param { * } data - data we want to use to extend the tag properties\n   * @param { Array } expressions - component expressions array\n   * @returns { Tag } the current tag instance\n   */\n  function componentUpdate(tag, data, expressions) {\n    var __ = tag.__;\n    var nextOpts = {};\n    var canTrigger = tag.isMounted && !__.skipAnonymous;\n\n    // inherit properties from the parent tag\n    if (__.isAnonymous && __.parent) { extend(tag, __.parent); }\n    extend(tag, data);\n\n    updateOpts.apply(tag, [__.isLoop, __.parent, __.isAnonymous, nextOpts, __.instAttrs]);\n\n    if (\n      canTrigger &&\n      tag.isMounted &&\n      isFunction(tag.shouldUpdate) && !tag.shouldUpdate(data, nextOpts)\n    ) {\n      return tag\n    }\n\n    extend(tag.opts, nextOpts);\n\n    if (canTrigger) { tag.trigger('update', data); }\n    update.call(tag, expressions);\n    if (canTrigger) { tag.trigger('updated'); }\n\n    return tag\n  }\n\n  /**\n   * Get selectors for tags\n   * @param   { Array } tags - tag names to select\n   * @returns { String } selector\n   */\n  function query(tags) {\n    // select all tags\n    if (!tags) {\n      var keys = Object.keys(__TAG_IMPL);\n      return keys + query(keys)\n    }\n\n    return tags\n      .filter(function (t) { return !/[^-\\w]/.test(t); })\n      .reduce(function (list, t) {\n        var name = t.trim().toLowerCase();\n        return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n      }, '')\n  }\n\n  /**\n   * Another way to create a riot tag a bit more es6 friendly\n   * @param { HTMLElement } el - tag DOM selector or DOM node/s\n   * @param { Object } opts - tag logic\n   * @returns { Tag } new riot tag instance\n   */\n  function Tag(el, opts) {\n    // get the tag properties from the class constructor\n    var ref = this;\n    var name = ref.name;\n    var tmpl = ref.tmpl;\n    var css = ref.css;\n    var attrs = ref.attrs;\n    var onCreate = ref.onCreate;\n    // register a new tag and cache the class prototype\n    if (!__TAG_IMPL[name]) {\n      tag(name, tmpl, css, attrs, onCreate);\n      // cache the class constructor\n      __TAG_IMPL[name].class = this.constructor;\n    }\n\n    // mount the tag using the class instance\n    mount$1(el, name, opts, this);\n    // inject the component css\n    if (css) { styleManager.inject(); }\n\n    return this\n  }\n\n  /**\n   * Create a new riot tag implementation\n   * @param   { String }   name - name/id of the new riot tag\n   * @param   { String }   tmpl - tag template\n   * @param   { String }   css - custom tag css\n   * @param   { String }   attrs - root tag attributes\n   * @param   { Function } fn - user function\n   * @returns { String } name/id of the tag just created\n   */\n  function tag(name, tmpl, css, attrs, fn) {\n    if (isFunction(attrs)) {\n      fn = attrs;\n\n      if (/^[\\w-]+\\s?=/.test(css)) {\n        attrs = css;\n        css = '';\n      } else\n        { attrs = ''; }\n    }\n\n    if (css) {\n      if (isFunction(css))\n        { fn = css; }\n      else\n        { styleManager.add(css); }\n    }\n\n    name = name.toLowerCase();\n    __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n    return name\n  }\n\n  /**\n   * Create a new riot tag implementation (for use by the compiler)\n   * @param   { String }   name - name/id of the new riot tag\n   * @param   { String }   tmpl - tag template\n   * @param   { String }   css - custom tag css\n   * @param   { String }   attrs - root tag attributes\n   * @param   { Function } fn - user function\n   * @returns { String } name/id of the tag just created\n   */\n  function tag2(name, tmpl, css, attrs, fn) {\n    if (css) { styleManager.add(css, name); }\n\n    __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n    return name\n  }\n\n  /**\n   * Mount a tag using a specific tag implementation\n   * @param   { * } selector - tag DOM selector or DOM node/s\n   * @param   { String } tagName - tag implementation name\n   * @param   { Object } opts - tag logic\n   * @returns { Array } new tags instances\n   */\n  function mount(selector, tagName, opts) {\n    var tags = [];\n    var elem, allTags;\n\n    function pushTagsTo(root) {\n      if (root.tagName) {\n        var riotTag = getAttribute(root, IS_DIRECTIVE), tag;\n\n        // have tagName? force riot-tag to be the same\n        if (tagName && riotTag !== tagName) {\n          riotTag = tagName;\n          setAttribute(root, IS_DIRECTIVE, tagName);\n        }\n\n        tag = mount$1(root, riotTag || root.tagName.toLowerCase(), opts);\n\n        if (tag)\n          { tags.push(tag); }\n      } else if (root.length)\n        { each(root, pushTagsTo); } // assume nodeList\n    }\n\n    // inject styles into DOM\n    styleManager.inject();\n\n    if (isObject(tagName)) {\n      opts = tagName;\n      tagName = 0;\n    }\n\n    // crawl the DOM to find the tag\n    if (isString(selector)) {\n      selector = selector === '*' ?\n        // select all registered tags\n        // & tags found with the riot-tag attribute set\n        allTags = query() :\n        // or just the ones named like the selector\n        selector + query(selector.split(/, */));\n\n      // make sure to pass always a selector\n      // to the querySelectorAll function\n      elem = selector ? $$(selector) : [];\n    }\n    else\n      // probably you have passed already a tag or a NodeList\n      { elem = selector; }\n\n    // select all the registered and mount them inside their root elements\n    if (tagName === '*') {\n      // get all custom tags\n      tagName = allTags || query();\n      // if the root els it's just a single tag\n      if (elem.tagName)\n        { elem = $$(tagName, elem); }\n      else {\n        // select all the children for all the different root elements\n        var nodeList = [];\n\n        each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n        elem = nodeList;\n      }\n      // get rid of the tagName\n      tagName = 0;\n    }\n\n    pushTagsTo(elem);\n\n    return tags\n  }\n\n  // Create a mixin that could be globally shared across all the tags\n  var mixins = {};\n  var globals = mixins[GLOBAL_MIXIN] = {};\n  var mixins_id = 0;\n\n  /**\n   * Create/Return a mixin by its name\n   * @param   { String }  name - mixin name (global mixin if object)\n   * @param   { Object }  mix - mixin logic\n   * @param   { Boolean } g - is global?\n   * @returns { Object }  the mixin logic\n   */\n  function mixin(name, mix, g) {\n    // Unnamed global\n    if (isObject(name)) {\n      mixin((\"__\" + (mixins_id++) + \"__\"), name, true);\n      return\n    }\n\n    var store = g ? globals : mixins;\n\n    // Getter\n    if (!mix) {\n      if (isUndefined(store[name]))\n        { throw new Error((\"Unregistered mixin: \" + name)) }\n\n      return store[name]\n    }\n\n    // Setter\n    store[name] = isFunction(mix) ?\n      extend(mix.prototype, store[name] || {}) && mix :\n      extend(store[name] || {}, mix);\n  }\n\n  /**\n   * Update all the tags instances created\n   * @returns { Array } all the tags instances\n   */\n  function update$1() {\n    return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n  }\n\n  function unregister(name) {\n    __TAG_IMPL[name] = null;\n  }\n\n  var version = 'v3.9.1';\n\n  var core = /*#__PURE__*/Object.freeze({\n    Tag: Tag,\n    tag: tag,\n    tag2: tag2,\n    mount: mount,\n    mixin: mixin,\n    update: update$1,\n    unregister: unregister,\n    version: version\n  });\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  function componentMixin(tag$$1) {\n    var mixins = [], len = arguments.length - 1;\n    while ( len-- > 0 ) mixins[ len ] = arguments[ len + 1 ];\n\n    each(mixins, function (mix) {\n      var instance;\n      var obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to tag\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = getPropDescriptor(instance, key) || getPropDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!tag$$1.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(tag$$1, key, descriptor);\n          } else {\n            tag$$1[key] = isFunction(instance[key]) ?\n              instance[key].bind(tag$$1) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(tag$$1)(tag$$1.opts); }\n    });\n\n    return tag$$1\n  }\n\n  /**\n   * Move the position of a custom tag in its parent tag\n   * @this Tag\n   * @param   { String } tagName - key where the tag was stored\n   * @param   { Number } newPos - index where the new tag will be stored\n   */\n  function moveChild(tagName, newPos) {\n    var parent = this.parent;\n    var tags;\n    // no parent no move\n    if (!parent) { return }\n\n    tags = parent.tags[tagName];\n\n    if (isArray(tags))\n      { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n    else { arrayishAdd(parent.tags, tagName, this); }\n  }\n\n  /**\n   * Move virtual tag and all child nodes\n   * @this Tag\n   * @param { Node } src  - the node that will do the inserting\n   * @param { Tag } target - insert before this tag's first child\n   */\n  function moveVirtual(src, target) {\n    var this$1 = this;\n\n    var el = this.__.head;\n    var sib;\n    var frag = createFragment();\n\n    while (el) {\n      sib = el.nextSibling;\n      frag.appendChild(el);\n      el = sib;\n      if (el === this$1.__.tail) {\n        frag.appendChild(el);\n        src.insertBefore(frag, target.__.head);\n        break\n      }\n    }\n  }\n\n  /**\n   * Convert the item looped into an object used to extend the child tag properties\n   * @param   { Object } expr - object containing the keys used to extend the children tags\n   * @param   { * } key - value to assign to the new object returned\n   * @param   { * } val - value containing the position of the item in the array\n   * @param   { Object } base - prototype object for the new item\n   * @returns { Object } - new object containing the values of the original item\n   *\n   * The variables 'key' and 'val' are arbitrary.\n   * They depend on the collection type looped (Array, Object)\n   * and on the expression used on the each tag\n   *\n   */\n  function mkitem(expr, key, val, base) {\n    var item = base ? create(base) : {};\n    item[expr.key] = key;\n    if (expr.pos) { item[expr.pos] = val; }\n    return item\n  }\n\n  /**\n   * Unmount the redundant tags\n   * @param   { Array } items - array containing the current items to loop\n   * @param   { Array } tags - array containing all the children tags\n   */\n  function unmountRedundant(items, tags) {\n    var i = tags.length;\n    var j = items.length;\n\n    while (i > j) {\n      i--;\n      remove.apply(tags[i], [tags, i]);\n    }\n  }\n\n\n  /**\n   * Remove a child tag\n   * @this Tag\n   * @param   { Array } tags - tags collection\n   * @param   { Number } i - index of the tag to remove\n   */\n  function remove(tags, i) {\n    tags.splice(i, 1);\n    this.unmount();\n    arrayishRemove(this.parent, this, this.__.tagName, true);\n  }\n\n  /**\n   * Move the nested custom tags in non custom loop tags\n   * @this Tag\n   * @param   { Number } i - current position of the loop tag\n   */\n  function moveNestedTags(i) {\n    var this$1 = this;\n\n    each(Object.keys(this.tags), function (tagName) {\n      moveChild.apply(this$1.tags[tagName], [tagName, i]);\n    });\n  }\n\n  /**\n   * Move a child tag\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function move(root, nextTag, isVirtual) {\n    if (isVirtual)\n      { moveVirtual.apply(this, [root, nextTag]); }\n    else\n      { safeInsert(root, this.root, nextTag.root); }\n  }\n\n  /**\n   * Insert and mount a child tag\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function insert(root, nextTag, isVirtual) {\n    if (isVirtual)\n      { makeVirtual.apply(this, [root, nextTag]); }\n    else\n      { safeInsert(root, this.root, nextTag.root); }\n  }\n\n  /**\n   * Append a new tag into the DOM\n   * @this Tag\n   * @param   { HTMLElement } root - dom node containing all the loop children\n   * @param   { Boolean } isVirtual - is it a virtual tag?\n   */\n  function append(root, isVirtual) {\n    if (isVirtual)\n      { makeVirtual.call(this, root); }\n    else\n      { root.appendChild(this.root); }\n  }\n\n  /**\n   * Return the value we want to use to lookup the postion of our items in the collection\n   * @param   { String }  keyAttr         - lookup string or expression\n   * @param   { * }       originalItem    - original item from the collection\n   * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n   * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n   * @returns { * } value that we will use to figure out the item position via collection.indexOf\n   */\n  function getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n    if (keyAttr) {\n      return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n    }\n\n    return originalItem\n  }\n\n  /**\n   * Manage tags having the 'each'\n   * @param   { HTMLElement } dom - DOM node we need to loop\n   * @param   { Tag } parent - parent tag instance where the dom node is contained\n   * @param   { String } expr - string contained in the 'each' attribute\n   * @returns { Object } expression object for this each loop\n   */\n  function _each(dom, parent, expr) {\n    var mustReorder = typeof getAttribute(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || removeAttribute(dom, LOOP_NO_REORDER_DIRECTIVE);\n    var keyAttr = getAttribute(dom, KEY_DIRECTIVE);\n    var hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false;\n    var tagName = getName(dom);\n    var impl = __TAG_IMPL[tagName];\n    var parentNode = dom.parentNode;\n    var placeholder = createDOMPlaceholder();\n    var child = get(dom);\n    var ifExpr = getAttribute(dom, CONDITIONAL_DIRECTIVE);\n    var tags = [];\n    var isLoop = true;\n    var innerHTML = dom.innerHTML;\n    var isAnonymous = !__TAG_IMPL[tagName];\n    var isVirtual = dom.tagName === 'VIRTUAL';\n    var oldItems = [];\n    var hasKeys;\n\n    // remove the each property from the original tag\n    removeAttribute(dom, LOOP_DIRECTIVE);\n    removeAttribute(dom, KEY_DIRECTIVE);\n\n    // parse the each expression\n    expr = tmpl.loopKeys(expr);\n    expr.isLoop = true;\n\n    if (ifExpr) { removeAttribute(dom, CONDITIONAL_DIRECTIVE); }\n\n    // insert a marked where the loop tags will be injected\n    parentNode.insertBefore(placeholder, dom);\n    parentNode.removeChild(dom);\n\n    expr.update = function updateEach() {\n      // get the new items collection\n      expr.value = tmpl(expr.val, parent);\n\n      var items = expr.value;\n      var frag = createFragment();\n      var isObject = !isArray(items) && !isString(items);\n      var root = placeholder.parentNode;\n      var tmpItems = [];\n\n      // if this DOM was removed the update here is useless\n      // this condition fixes also a weird async issue on IE in our unit test\n      if (!root) { return }\n\n      // object loop. any changes cause full redraw\n      if (isObject) {\n        hasKeys = items || false;\n        items = hasKeys ?\n          Object.keys(items).map(function (key) { return mkitem(expr, items[key], key); }) : [];\n      } else {\n        hasKeys = false;\n      }\n\n      if (ifExpr) {\n        items = items.filter(function (item, i) {\n          if (expr.key && !isObject)\n            { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n          return !!tmpl(ifExpr, extend(create(parent), item))\n        });\n      }\n\n      // loop all the new items\n      each(items, function (_item, i) {\n        var item = !hasKeys && expr.key ? mkitem(expr, _item, i) : _item;\n        var itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr);\n        // reorder only if the items are objects\n        var doReorder = mustReorder && typeof _item === T_OBJECT && !hasKeys;\n        var oldPos = oldItems.indexOf(itemId);\n        var isNew = oldPos === -1;\n        var pos = !isNew && doReorder ? oldPos : i;\n        // does a tag exist in this position?\n        var tag = tags[pos];\n        var mustAppend = i >= oldItems.length;\n        var mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n        // new tag\n        if (mustCreate) {\n          tag = createTag(impl, {\n            parent: parent,\n            isLoop: isLoop,\n            isAnonymous: isAnonymous,\n            tagName: tagName,\n            root: dom.cloneNode(isAnonymous),\n            item: item,\n            index: i,\n          }, innerHTML);\n\n          // mount the tag\n          tag.mount();\n\n          if (mustAppend)\n            { append.apply(tag, [frag || root, isVirtual]); }\n          else\n            { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n          if (!mustAppend) { oldItems.splice(i, 0, item); }\n          tags.splice(i, 0, tag);\n          if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n        } else if (pos !== i && doReorder) {\n          // move\n          if (keyAttr || contains(items, oldItems[pos])) {\n            move.apply(tag, [root, tags[i], isVirtual]);\n            // move the old tag instance\n            tags.splice(i, 0, tags.splice(pos, 1)[0]);\n            // move the old item\n            oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n          }\n\n          // update the position attribute if it exists\n          if (expr.pos) { tag[expr.pos] = i; }\n\n          // if the loop tags are not custom\n          // we need to move all their custom tags into the right position\n          if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n        }\n\n        // cache the original item to use it in the events bound to this node\n        // and its children\n        extend(tag.__, {\n          item: item,\n          index: i,\n          parent: parent\n        });\n\n        tmpItems[i] = itemId;\n\n        if (!mustCreate) { tag.update(item); }\n      });\n\n      // remove the redundant tags\n      unmountRedundant(items, tags);\n\n      // clone the items array\n      oldItems = tmpItems.slice();\n\n      root.insertBefore(frag, placeholder);\n    };\n\n    expr.unmount = function () {\n      each(tags, function (t) { t.unmount(); });\n    };\n\n    return expr\n  }\n\n  var RefExpr = {\n    init: function init(dom, parent, attrName, attrValue) {\n      this.dom = dom;\n      this.attr = attrName;\n      this.rawValue = attrValue;\n      this.parent = parent;\n      this.hasExp = tmpl.hasExpr(attrValue);\n      return this\n    },\n    update: function update() {\n      var old = this.value;\n      var customParent = this.parent && getImmediateCustomParent(this.parent);\n      // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n      var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n      this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n      // the name changed, so we need to remove it from the old key (if present)\n      if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n      if (!isBlank(this.value) && isString(this.value)) {\n        // add it to the refs of parent tag (this behavior was changed >=3.0)\n        if (customParent) { arrayishAdd(\n          customParent.refs,\n          this.value,\n          tagOrDom,\n          // use an array if it's a looped node and the ref is not an expression\n          null,\n          this.parent.__.index\n        ); }\n\n        if (this.value !== old) {\n          setAttribute(this.dom, this.attr, this.value);\n        }\n      } else {\n        removeAttribute(this.dom, this.attr);\n      }\n\n      // cache the ref bound to this dom node\n      // to reuse it in future (see also #2329)\n      if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n    },\n    unmount: function unmount() {\n      var tagOrDom = this.tag || this.dom;\n      var customParent = this.parent && getImmediateCustomParent(this.parent);\n      if (!isBlank(this.value) && customParent)\n        { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n    }\n  }\n\n  /**\n   * Create a new ref directive\n   * @param   { HTMLElement } dom - dom node having the ref attribute\n   * @param   { Tag } context - tag instance where the DOM node is located\n   * @param   { String } attrName - either 'ref' or 'data-ref'\n   * @param   { String } attrValue - value of the ref attribute\n   * @returns { RefExpr } a new RefExpr object\n   */\n  function createRefDirective(dom, tag, attrName, attrValue) {\n    return create(RefExpr).init(dom, tag, attrName, attrValue)\n  }\n\n  /**\n   * Trigger the unmount method on all the expressions\n   * @param   { Array } expressions - DOM expressions\n   */\n  function unmountAll(expressions) {\n    each(expressions, function (expr) {\n      if (expr.unmount) { expr.unmount(true); }\n      else if (expr.tagName) { expr.tag.unmount(true); }\n      else if (expr.unmount) { expr.unmount(); }\n    });\n  }\n\n  var IfExpr = {\n    init: function init(dom, tag, expr) {\n      removeAttribute(dom, CONDITIONAL_DIRECTIVE);\n      extend(this, { tag: tag, expr: expr, stub: createDOMPlaceholder(), pristine: dom });\n      var p = dom.parentNode;\n      p.insertBefore(this.stub, dom);\n      p.removeChild(dom);\n\n      return this\n    },\n    update: function update$$1() {\n      this.value = tmpl(this.expr, this.tag);\n\n      if (this.value && !this.current) { // insert\n        this.current = this.pristine.cloneNode(true);\n        this.stub.parentNode.insertBefore(this.current, this.stub);\n        this.expressions = parseExpressions.apply(this.tag, [this.current, true]);\n      } else if (!this.value && this.current) { // remove\n        unmountAll(this.expressions);\n        if (this.current._tag) {\n          this.current._tag.unmount();\n        } else if (this.current.parentNode) {\n          this.current.parentNode.removeChild(this.current);\n        }\n        this.current = null;\n        this.expressions = [];\n      }\n\n      if (this.value) { update.call(this.tag, this.expressions); }\n    },\n    unmount: function unmount() {\n      unmountAll(this.expressions || []);\n    }\n  }\n\n  /**\n   * Create a new if directive\n   * @param   { HTMLElement } dom - if root dom node\n   * @param   { Tag } context - tag instance where the DOM node is located\n   * @param   { String } attr - if expression\n   * @returns { IFExpr } a new IfExpr object\n   */\n  function createIfDirective(dom, tag, attr) {\n    return create(IfExpr).init(dom, tag, attr)\n  }\n\n  /**\n   * Walk the tag DOM to detect the expressions to evaluate\n   * @this Tag\n   * @param   { HTMLElement } root - root tag where we will start digging the expressions\n   * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n   * @returns { Array } all the expressions found\n   */\n  function parseExpressions(root, mustIncludeRoot) {\n    var this$1 = this;\n\n    var expressions = [];\n\n    walkNodes(root, function (dom) {\n      var type = dom.nodeType;\n      var attr;\n      var tagImpl;\n\n      if (!mustIncludeRoot && dom === root) { return }\n\n      // text node\n      if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n        { expressions.push({dom: dom, expr: dom.nodeValue}); }\n\n      if (type !== 1) { return }\n\n      var isVirtual = dom.tagName === 'VIRTUAL';\n\n      // loop. each does it's own thing (for now)\n      if (attr = getAttribute(dom, LOOP_DIRECTIVE)) {\n        if(isVirtual) { setAttribute(dom, 'loopVirtual', true); } // ignore here, handled in _each\n        expressions.push(_each(dom, this$1, attr));\n        return false\n      }\n\n      // if-attrs become the new parent. Any following expressions (either on the current\n      // element, or below it) become children of this expression.\n      if (attr = getAttribute(dom, CONDITIONAL_DIRECTIVE)) {\n        expressions.push(createIfDirective(dom, this$1, attr));\n        return false\n      }\n\n      if (attr = getAttribute(dom, IS_DIRECTIVE)) {\n        if (tmpl.hasExpr(attr)) {\n          expressions.push({\n            isRtag: true,\n            expr: attr,\n            dom: dom,\n            attrs: [].slice.call(dom.attributes)\n          });\n\n          return false\n        }\n      }\n\n      // if this is a tag, stop traversing here.\n      // we ignore the root, since parseExpressions is called while we're mounting that root\n      tagImpl = get(dom);\n\n      if(isVirtual) {\n        if(getAttribute(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n        if(!tagImpl && !getAttribute(dom, 'virtualized') && !getAttribute(dom, 'loopVirtual'))  // ok to create virtual tag\n          { tagImpl = { tmpl: dom.outerHTML }; }\n      }\n\n      if (tagImpl && (dom !== root || mustIncludeRoot)) {\n        var hasIsDirective = getAttribute(dom, IS_DIRECTIVE);\n        if(isVirtual && !hasIsDirective) { // handled in update\n          // can not remove attribute like directives\n          // so flag for removal after creation to prevent maximum stack error\n          setAttribute(dom, 'virtualized', true);\n          var tag = createTag(\n            {tmpl: dom.outerHTML},\n            {root: dom, parent: this$1},\n            dom.innerHTML\n          );\n\n          expressions.push(tag); // no return, anonymous tag, keep parsing\n        } else {\n          if (hasIsDirective && isVirtual)\n            { warn((\"Virtual tags shouldn't be used together with the \\\"\" + IS_DIRECTIVE + \"\\\" attribute - https://github.com/riot/riot/issues/2511\")); }\n\n          expressions.push(\n            initChild(\n              tagImpl,\n              {\n                root: dom,\n                parent: this$1\n              },\n              dom.innerHTML,\n              this$1\n            )\n          );\n          return false\n        }\n      }\n\n      // attribute expressions\n      parseAttributes.apply(this$1, [dom, dom.attributes, function (attr, expr) {\n        if (!expr) { return }\n        expressions.push(expr);\n      }]);\n    });\n\n    return expressions\n  }\n\n  /**\n   * Calls `fn` for every attribute on an element. If that attr has an expression,\n   * it is also passed to fn.\n   * @this Tag\n   * @param   { HTMLElement } dom - dom node to parse\n   * @param   { Array } attrs - array of attributes\n   * @param   { Function } fn - callback to exec on any iteration\n   */\n  function parseAttributes(dom, attrs, fn) {\n    var this$1 = this;\n\n    each(attrs, function (attr) {\n      if (!attr) { return false }\n\n      var name = attr.name;\n      var bool = isBoolAttr(name);\n      var expr;\n\n      if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n        expr =  createRefDirective(dom, this$1, name, attr.value);\n      } else if (tmpl.hasExpr(attr.value)) {\n        expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n      }\n\n      fn(attr, expr);\n    });\n  }\n\n  /**\n   * Manage the mount state of a tag triggering also the observable events\n   * @this Tag\n   * @param { Boolean } value - ..of the isMounted flag\n   */\n  function setMountState(value) {\n    var ref = this.__;\n    var isAnonymous = ref.isAnonymous;\n\n    define(this, 'isMounted', value);\n\n    if (!isAnonymous) {\n      if (value) { this.trigger('mount'); }\n      else {\n        this.trigger('unmount');\n        this.off('*');\n        this.__.wasCreated = false;\n      }\n    }\n  }\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  function componentMount(tag$$1, dom, expressions, opts) {\n    var __ = tag$$1.__;\n    var root = __.root;\n    root._tag = tag$$1; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(__.parent, [root, root.attributes, function (attr, expr) {\n      if (!__.isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = tag$$1; }\n      attr.expr = expr;\n      __.instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    walkAttributes(__.impl.attrs, function (k, v) { __.implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(tag$$1, [root, __.implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttribute(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(tag$$1, [__.isLoop, __.parent, __.isAnonymous, opts, __.instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin(GLOBAL_MIXIN);\n\n    if (globalMixin && !__.skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          tag$$1.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (__.impl.fn) { __.impl.fn.call(tag$$1, opts); }\n\n    if (!__.skipAnonymous) { tag$$1.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    each(parseExpressions.apply(tag$$1, [dom, __.isAnonymous]), function (e) { return expressions.push(e); });\n\n    tag$$1.update(__.item);\n\n    if (!__.isAnonymous && !__.isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    define(tag$$1, 'root', root);\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!__.skipAnonymous && tag$$1.parent) {\n      var p = getImmediateCustomParent(tag$$1.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        setMountState.call(tag$$1, true);\n      });\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setMountState.call(tag$$1, true);\n    }\n\n    tag$$1.__.wasCreated = true;\n\n    return tag$$1\n  }\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  function tagUnmount(tag, mustKeepRoot, expressions) {\n    var __ = tag.__;\n    var root = __.root;\n    var tagIndex = __TAGS_CACHE.indexOf(tag);\n    var p = root.parentNode;\n\n    if (!__.skipAnonymous) { tag.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttributes(__.impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      removeAttribute(root, name);\n    });\n\n    // remove all the event listeners\n    tag.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove tag instance from the global tags cache collection\n    if (tagIndex !== -1) { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    // clean up the parent tags object\n    if (__.parent && !__.isAnonymous) {\n      var ptag = getImmediateCustomParent(__.parent);\n\n      if (__.isVirtual) {\n        Object\n          .keys(tag.tags)\n          .forEach(function (tagName) { return arrayishRemove(ptag.tags, tagName, tag.tags[tagName]); });\n      } else {\n        arrayishRemove(ptag.tags, __.tagName, tag);\n      }\n    }\n\n    // unmount all the virtual directives\n    if (tag.__.virts) {\n      each(tag.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(__.instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // clear the tag html if it's necessary\n    if (mustKeepRoot) { setInnerHTML(root, ''); }\n    // otherwise detach the root tag from the DOM\n    else if (p) { p.removeChild(root); }\n\n    // custom internal unmount function to avoid relying on the observable\n    if (__.onUnmount) { __.onUnmount(); }\n\n    // weird fix for a weird edge case #2409 and #2436\n    // some users might use your software not as you've expected\n    // so I need to add these dirty hacks to mitigate unexpected issues\n    if (!tag.isMounted) { setMountState.call(tag, true); }\n\n    setMountState.call(tag, false);\n\n    delete root._tag;\n\n    return tag\n  }\n\n  /**\n   * Tag creation factory function\n   * @constructor\n   * @param { Object } impl - it contains the tag template, and logic\n   * @param { Object } conf - tag options\n   * @param { String } innerHTML - html that eventually we need to inject in the tag\n   */\n  function createTag(impl, conf, innerHTML) {\n    if ( impl === void 0 ) impl = {};\n    if ( conf === void 0 ) conf = {};\n\n    var tag = conf.context || {};\n    var opts = extend({}, conf.opts);\n    var parent = conf.parent;\n    var isLoop = conf.isLoop;\n    var isAnonymous = !!conf.isAnonymous;\n    var skipAnonymous = settings.skipAnonymousTags && isAnonymous;\n    var item = conf.item;\n    // available only for the looped nodes\n    var index = conf.index;\n    // All attributes on the Tag when it's first parsed\n    var instAttrs = [];\n    // expressions on this type of Tag\n    var implAttrs = [];\n    var expressions = [];\n    var root = conf.root;\n    var tagName = conf.tagName || getName(root);\n    var isVirtual = tagName === 'virtual';\n    var isInline = !isVirtual && !impl.tmpl;\n    var dom;\n\n    // make this tag observable\n    if (!skipAnonymous) { observable(tag); }\n    // only call unmount if we have a valid __TAG_IMPL (has name property)\n    if (impl.name && root._tag) { root._tag.unmount(true); }\n\n    // not yet mounted\n    define(tag, 'isMounted', false);\n\n    define(tag, '__', {\n      impl: impl,\n      root: root,\n      skipAnonymous: skipAnonymous,\n      implAttrs: implAttrs,\n      isAnonymous: isAnonymous,\n      instAttrs: instAttrs,\n      innerHTML: innerHTML,\n      tagName: tagName,\n      index: index,\n      isLoop: isLoop,\n      isInline: isInline,\n      item: item,\n      parent: parent,\n      // tags having event listeners\n      // it would be better to use weak maps here but we can not introduce breaking changes now\n      listeners: [],\n      // these vars will be needed only for the virtual tags\n      virts: [],\n      wasCreated: false,\n      tail: null,\n      head: null\n    });\n\n    // create a unique id to this tag\n    // it could be handy to use it also to improve the virtual dom rendering speed\n    define(tag, '_riot_id', uid()); // base 1 allows test !t._riot_id\n    define(tag, 'root', root);\n    extend(tag, { opts: opts }, item);\n    // protect the \"tags\" and \"refs\" property from being overridden\n    define(tag, 'parent', parent || null);\n    define(tag, 'tags', {});\n    define(tag, 'refs', {});\n\n    if (isInline || isLoop && isAnonymous) {\n      dom = root;\n    } else {\n      if (!isVirtual) { root.innerHTML = ''; }\n      dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n    }\n\n    define(tag, 'update', function (data) { return componentUpdate(tag, data, expressions); });\n    define(tag, 'mixin', function () {\n      var mixins = [], len = arguments.length;\n      while ( len-- ) mixins[ len ] = arguments[ len ];\n\n      return componentMixin.apply(void 0, [ tag ].concat( mixins ));\n    });\n    define(tag, 'mount', function () { return componentMount(tag, dom, expressions, opts); });\n    define(tag, 'unmount', function (mustKeepRoot) { return tagUnmount(tag, mustKeepRoot, expressions); });\n\n    return tag\n  }\n\n  /**\n   * Mount a tag creating new Tag instance\n   * @param   { Object } root - dom node where the tag will be mounted\n   * @param   { String } tagName - name of the riot tag we want to mount\n   * @param   { Object } opts - options to pass to the Tag instance\n   * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n   * @returns { Tag } a new Tag instance\n   */\n  function mount$1(root, tagName, opts, ctx) {\n    var impl = __TAG_IMPL[tagName];\n    var implClass = __TAG_IMPL[tagName].class;\n    var context = ctx || (implClass ? create(implClass.prototype) : {});\n    // cache the inner HTML to fix #855\n    var innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n    var conf = extend({ root: root, opts: opts, context: context }, { parent: opts ? opts.parent : null });\n    var tag;\n\n    if (impl && root) { tag = createTag(impl, conf, innerHTML); }\n\n    if (tag && tag.mount) {\n      tag.mount(true);\n      // add this tag to the virtualDom variable\n      if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n    }\n\n    return tag\n  }\n\n\n\n  var tags = /*#__PURE__*/Object.freeze({\n    arrayishAdd: arrayishAdd,\n    getTagName: getName,\n    inheritParentProps: inheritParentProps,\n    mountTo: mount$1,\n    selectTags: query,\n    arrayishRemove: arrayishRemove,\n    getTag: get,\n    initChildTag: initChild,\n    moveChildTag: moveChild,\n    makeReplaceVirtual: makeReplaceVirtual,\n    getImmediateCustomParentTag: getImmediateCustomParent,\n    makeVirtual: makeVirtual,\n    moveVirtual: moveVirtual,\n    unmountAll: unmountAll,\n    createIfDirective: createIfDirective,\n    createRefDirective: createRefDirective\n  });\n\n  /**\n   * Riot public api\n   */\n  var settings$1 = settings;\n  var util = {\n    tmpl: tmpl,\n    brackets: brackets,\n    styleManager: styleManager,\n    vdom: __TAGS_CACHE,\n    styleNode: styleManager.styleNode,\n    // export the riot internal utils as well\n    dom: dom,\n    check: check,\n    misc: misc,\n    tags: tags\n  };\n\n  // export the core props/methods\n  var Tag$1 = Tag;\n  var tag$1 = tag;\n  var tag2$1 = tag2;\n  var mount$2 = mount;\n  var mixin$1 = mixin;\n  var update$2 = update$1;\n  var unregister$1 = unregister;\n  var version$1 = version;\n  var observable$1 = observable;\n\n  var riot$1 = extend({}, core, {\n    observable: observable,\n    settings: settings$1,\n    util: util,\n  })\n\n  exports.settings = settings$1;\n  exports.util = util;\n  exports.Tag = Tag$1;\n  exports.tag = tag$1;\n  exports.tag2 = tag2$1;\n  exports.mount = mount$2;\n  exports.mixin = mixin$1;\n  exports.update = update$2;\n  exports.unregister = unregister$1;\n  exports.version = version$1;\n  exports.observable = observable$1;\n  exports.default = riot$1;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/riot/riot.js\n// module id = 6\n// module chunks = 1"],"sourceRoot":""}