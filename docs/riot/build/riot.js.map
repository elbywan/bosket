{"version":3,"sources":["webpack:///riot/build/riot.js","webpack:///./build/riot/bundle/riot.umd.min.js","webpack:///./docs/riot/plan/index.js","webpack:///./docs/riot/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./docs/riot/components/index.js","webpack:///./docs/riot/components/App.tag","webpack:///./docs/riot/plan/Planner.tag","webpack:///./docs/riot/plan/introduction/index.js","webpack:///./docs/riot/plan/introduction/component.tag","webpack:///./docs/riot/plan/introduction/IntroductionDemos.tag","webpack:///./docs/riot/plan/usage/index.js","webpack:///./docs/riot/plan/usage/component.tag","webpack:///./docs/riot/plan/usage/import/index.js","webpack:///./docs/riot/plan/usage/import/component.tag","webpack:///./docs/riot/plan/usage/data model/index.js","webpack:///./docs/riot/plan/usage/data model/component.tag","webpack:///./docs/riot/plan/usage/data model/dataModelTree.tag","webpack:///./docs/riot/plan/usage/style/index.js","webpack:///./docs/riot/plan/usage/style/component.tag","webpack:///./docs/riot/plan/usage/online-snippets/index.js","webpack:///./docs/riot/plan/usage/online-snippets/component.tag","webpack:///./docs/riot/plan/treeview/index.js","webpack:///./docs/riot/plan/treeview/basic usage/index.js","webpack:///./docs/riot/plan/treeview/basic usage/component.tag","webpack:///./docs/riot/plan/treeview/demo/index.js","webpack:///./docs/riot/plan/treeview/demo/component.tag","webpack:///./docs/riot/plan/treeview/css/index.js","webpack:///./docs/riot/plan/treeview/css/component.tag","webpack:///./docs/riot/plan/treeview/css/layout/index.js","webpack:///./docs/riot/plan/treeview/css/layout/component.tag","webpack:///./docs/riot/plan/treeview/css/empty-stylesheet/index.js","webpack:///./docs/riot/plan/treeview/css/empty-stylesheet/component.tag","webpack:///./docs/riot/plan/treeview/required-properties/index.js","webpack:///./docs/riot/plan/treeview/required-properties/component.tag","webpack:///./docs/riot/plan/treeview/optional-properties/index.js","webpack:///./docs/riot/plan/treeview/optional-properties/component.tag","webpack:///./docs/riot/components/Syntax.tag","webpack:///./docs/riot/components/ComponentDemo.tag","webpack:///./docs/riot/components/Demos/index.js","webpack:///./docs/riot/components/Demos/TreeView/index.js","webpack:///./docs/riot/components/Demos/TreeView/TreeViewDemo.tag","webpack:///./docs/riot/components/Demos/TreeView/TreeViewSection.tag","webpack:///./docs/riot/components/Demos/ChuckNorris/index.js","webpack:///./docs/riot/components/Demos/ChuckNorris/ChuckNorris.tag","webpack:///./docs/riot/components/Demos/ChuckNorris/models.js","webpack:///./docs/riot/components/Demos/HackerNews/index.js","webpack:///./docs/riot/components/Demos/HackerNews/HackerNews.tag","webpack:///./docs/riot/components/Demos/HackerNews/models.js","webpack:///./docs/riot/components/Demos/Pokeapi/index.js","webpack:///./docs/riot/components/Demos/Pokeapi/Pokeapi.tag","webpack:///./docs/riot/components/Demos/Pokeapi/models.js","webpack:///./node_modules/riot/riot.js"],"names":["webpackJsonp","176","module","exports","__webpack_require__","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","obj","constructor","prototype","t","e","undefined","apply","this","n","o","i","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","hasOwnProperty","p","s","0","1","10","50","value","keys","forEach","51","optsMixin","arguments","length","init","on","updateOpts","_originalOpts","opts","indexOf","52","transitionMixin","transition","name","unmount","root","classList","add","setTimeout","remove","r","addEventListener","one","53","listenerMixin","eventType","callback","regulate","window","requestAnimationFrame","document","removeEventListener","54","55","tag2","assign","mixin","rootNode","onKey","filtered","search","onSearch","currentTarget","trim","tree","inputs","model","category","treeFilter","defaults","onSelect","onselection","outputs","onDrag","dragndrop","drag","onOver","over","onEnter","enter","onLeave","leave","onDrop","drop","onCancel","cancel","state","set","RootNode","update","56","unfolded","getModel","searched","filter","filteredmodel","has","getChildModel","node","isAsync","isFolded","pending","unwrapPromise","sort","getChildFiltered","getAncestors","concat","ancestors","disabled","disable","TreeNode","rootEvents","getDragEvents","57","tag","parent","6","177","_interopRequireDefault","_introduction","_introduction2","_usage","_usage2","_treeview","_treeview2","438","_riot","_riot2","onload","mount","439","webpackPolyfill","deprecate","paths","children","440","441","_plan","_plan2","plan","442","riot","_this","onDocumentClick","onDocumentScroll","onStickyScroll","selection","opened","updateSelection","_","display","item","foldDepth","max","maxdepth","depth","findPosition","position","loop","arr","acc","elt","domElt","getElementById","join","title","parentElement","getBoundingClientRect","top","bottom","push","subs","ev","target","HTMLElement","refs","opener","contains","sidePanel","end","map","location","hash","history","replaceState","sticky","content","style","prefix","id","href","a","443","editLink","444","445","demos","demo","setDemo","getFiles","446","_import2","_import3","_dataModel","_dataModel2","_style","_style2","_onlineSnippets","_onlineSnippets2","447","448","449","htmlCode","450","451","452","sampleModel","label","Promise","resolve","453","454","455","456","457","_basicUsage","_basicUsage2","_demo","_demo2","_css","_css2","_requiredProperties","_requiredProperties2","_optionalProperties","_optionalProperties2","458","459","code","460","461","462","_layout","_layout2","_emptyStylesheet","_emptyStylesheet2","463","464","465","_html_layout","_html_layout2","htmlLayout","466","467","468","_empty_stylesheet","_empty_stylesheet2","emptyStylesheet","anchor","URL","createObjectURL","Blob","type","469","470","471","472","473","_templateObject","strings","raw","_tools","strategies","indent","dragdroptrees","_extends","source","key","_core","dragModel","conf","fold","pluck","paste","droppable","474","language","offsetPrefix","offset","str","ref","textContent","Prism","highlightElement","475","files","expand","doExpand","_tab","setTab","file","tab","loadFile","tabContents","innerHTML","highlight","languages","getPrismExtension","getFileName","split","splice","extension","476","477","478","_TreeViewModel","_TreeViewModel2","dragImage","Image","src","options","displaytag","b","localeCompare","input","string","css","TreeView","event","dataTransfer","setDragImage","setData","JSON","stringify","items","Array","479","480","deselect","481","482","onClick","loadJoke","then","joke","_models","categories","click","fetch","response","json","cat","Category","483","_classCallCheck","instance","Constructor","TypeError","Joke","484","485","more","fetchKids","refreshContent","text","stories","topStories","fetchLast","story","TopStory","486","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","writable","setPrototypeOf","__proto__","Comment","_sanitizeHtml","_sanitizeHtml2","getUrl","limit","all","slice","Item","data","fetchLimit","kids","_this2","result","k","_Item","_temp","_this3","_ret","_len","args","_key","_Item2","_this4","date","Date","time","toLocaleDateString","487","488","filterProps","getOwnPropertyNames","prop","startsWith","__subsection","__children","loading","loadUrl","loadPokemons","cachedFetch","next","results","url","catch","err","loadMorePokemons","489","formatData","cache","Map","imageMatch","val","front_default","img","__image","global","factory","each","list","fn","len","array","toCamel","replace","toUpperCase","el","extend","isWritable","isBoolAttr","RE_BOOL_ATTRS","test","isFunction","T_FUNCTION","isObject","T_OBJECT","isUndefined","T_UNDEF","isString","T_STRING","isBlank","isNil","isArray","descriptor","getPropDescriptor","$$","selector","ctx","querySelectorAll","$","querySelector","createFrag","createDocumentFragment","createDOMPlaceholder","createTextNode","isSvg","ownerSVGElement","mkEl","createElementNS","SVG_NS","createElement","setInnerHTML","container","html","doc","DOMParser","parseFromString","ownerDocument","importNode","documentElement","appendChild","toggleVisibility","dom","show","hidden","remAttr","removeAttribute","styleObjectToString","reduce","getAttr","getAttribute","setAttr","xlink","XLINK_REGEX","exec","setAttributeNS","XLINK_NS","setAttribute","safeInsert","curr","insertBefore","parentNode","walkAttrs","RE_HTML_ATTRS","toLowerCase","walkNodes","context","res","firstChild","nextSibling","handleEvent","handler","ptag","__","srcElement","which","charCode","keyCode","settings$1","autoUpdate","preventUpdate","getImmediateCustomParentTag","isMounted","setEventHandler","eventName","cb","bind","RE_EVENTS_PREFIX","listeners","RIOT_EVENTS_KEY","updateDataIs","expr","tagName","_tag","ref$1","head","isVirtual","impl","__TAG_IMPL","initChildTag","attrs","makeReplaceVirtual","onUnmount","delName","dataIs","arrayishRemove","tags","normalizeAttrName","attrName","ATTRS_PREFIX","CASE_SENSITIVE_ATTRIBUTES","updateExpression","attr","isToggle","SHOW_DIRECTIVE","HIDE_DIRECTIVE","isAnonymous","isStyleAttr","isClassAttr","_riot_id","wasCreated","tmpl","hasValue","isObj","wasParsedOnce","bool","isRtag","IE_VERSION","nodeValue","updateAllExpressions","expressions","mkitem","base","pos","unmountRedundant","j","moveNestedTags","this$1","moveChildTag","move","nextTag","moveVirtual","insert","makeVirtual","append","getItemId","keyAttr","originalItem","keyedItem","hasKeyAttrExpr","_each","hasKeys","mustReorder","LOOP_NO_REORDER_DIRECTIVE","KEY_DIRECTIVE","hasExpr","getTagName","placeholder","child","getTag","ifExpr","CONDITIONAL_DIRECTIVE","oldItems","LOOP_DIRECTIVE","loopKeys","isLoop","removeChild","frag","isObject$$1","tmpItems","_item","itemId","doReorder","oldPos","isNew","mustAppend","mustCreate","createTag","cloneNode","index","arrayishAdd","parseExpressions","mustIncludeRoot","tagImpl","nodeType","IfExpr","IS_DIRECTIVE","attributes","outerHTML","parseAttributes","REF_DIRECTIVES","YIELD_TAG","RefExpr","specialTags","select","selectedIndex","tname","rootEls","childElementCount","replaceYield","reHasYield","reYieldSrc","reYieldDest","def","reYieldAll","mkdom","isSvg$$1","match","SVG","GENERIC","tblTags","Tag$1","onCreate","tag$1","class","mountTo","styleManager","inject","tag2$1","mount$1","pushTagsTo","riotTag","elem","allTags","selectTags","nodeList","_el","mixin$1","mix","g","mixins_id","store","globals","mixins","Error","update$1","__TAGS_CACHE","unregister$1","instAttrs","setMountState","trigger","off","skipAnonymous","skipAnonymousTags","implAttrs","isInline","observable$1","virts","tail","uid","nextOpts","canTrigger","shouldUpdate","props","propsBlacklist","proto","getPrototypeOf","hasGetterSetter","isPrototypeOf","v","globalMixin","GLOBAL_MIXIN","mustKeepRoot","tagIndex","unmountAll","newPos","skipDataIs","namedTag","ensureArray","dest","isArr","hasIndex","oldIndex","implClass","_innerHTML","replaceChild","sib","styleNode","cssTextProp","WIN","RE_SPECIAL_TAGS","RE_SPECIAL_TAGS_NO_OPTION","viewbox","preserveaspectratio","documentMode","getOwnPropertyDescriptor","misc","freeze","check","byName","remainder","needsInject","newNode","userNode","getElementsByTagName","styleSheet","cssText","skipRegex","prev","_skipRegex","start","re","lastIndex","RE_REGEX","beforeReChars","RE_VN_CHAR","wordsLastChar","beforeReWords","w","brackets","UNDEF","_loopback","_rewrite","bp","_cache","RegExp","REGLOB","_create","pair","DEFAULT","_pairs","UNSUPPORTED","NEED_ESCAPE","S_QBLOCK2","_brackets","reOrIdx","_regex","_reset","cachedBrackets","_setSettings","_settings","R_MLCOMMS","R_STRINGS","S_QBLOCKS","FINDBRACES","(","[","{","_bp","unescapeStr","prevStr","isexpr","parts","pushQBlock","_pos","_lastIndex","slash","mark","qblocks","ch","rech","ix","settings","_tmpl","_logErr","riotData","errorHandler","console","error","message","log","_getTmpl","Function","RE_DQUOTE","qstr","_parseExpr","RE_QBMARK","asText","cnt","RE_CSNAME","jsb","rightContext","mm","lv","ir","RE_BREND","_wrapExpr","tb","JS_VARNAME","mvar","JS_CONTEXT","JS_NOPROPS","clearCache","version","callbacks","defineProperties","fns","arguments$1","arglen","stub","pristine","current","attrValue","rawValue","hasExp","old","customParent","tagOrDom","__ref","tr","th","td","col","core","Tag","unregister","util","vdom","observable","riot$1"],"mappings":"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","file":"riot/build/riot.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function (t, e) {\n  \"object\" == ( false ? \"undefined\" : _typeof(exports)) && \"object\" == ( false ? \"undefined\" : _typeof(module)) ? module.exports = e(__webpack_require__(8), __webpack_require__(10), __webpack_require__(6)) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(8), __webpack_require__(10), __webpack_require__(6)], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : \"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports[\"bosket-riot\"] = e(require(\"@bosket/tools\"), require(\"@bosket/core\"), require(\"riot\")) : t[\"bosket-riot\"] = e(t[\"bosket-tools\"], t[\"bosket-core\"], t.riot);\n}(this, function (t, e, n) {\n  return function (t) {\n    function e(o) {\n      if (n[o]) return n[o].exports;var i = n[o] = { i: o, l: !1, exports: {} };return t[o].call(i.exports, i, i.exports, e), i.l = !0, i.exports;\n    }var n = {};return e.m = t, e.c = n, e.d = function (t, n, o) {\n      e.o(t, n) || Object.defineProperty(t, n, { configurable: !1, enumerable: !0, get: o });\n    }, e.n = function (t) {\n      var n = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };return e.d(n, \"a\", n), n;\n    }, e.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, e.p = \"\", e(e.s = 50);\n  }({ 0: function _(e, n) {\n      e.exports = t;\n    }, 1: function _(t, n) {\n      t.exports = e;\n    }, 10: function _(t, e) {\n      t.exports = n;\n    }, 50: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });var o = n(6);Object.keys(o).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return o[t];\n          } });\n      }), n(54);\n    }, 51: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });e.optsMixin = function () {\n        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"opts\";return { init: function init() {\n            this.on(\"update\", this.updateOpts), this._originalOpts = Object.keys(this.opts), this.updateOpts();\n          }, updateOpts: function updateOpts() {\n            if (this.opts) for (var e in this.opts[t]) {\n              ~this._originalOpts.indexOf(e) || (this.opts[e] = this.opts[t][e]);\n            }\n          } };\n      };\n    }, 52: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });e.transitionMixin = function (t) {\n        return { init: function init() {\n            var e = this;if (this.opts.transition) {\n              var n = this.opts.transition.name,\n                  o = this.unmount,\n                  i = function i() {\n                var o = (t || function () {\n                  return e.root;\n                })();o && (o.classList.add(n), o.classList.add(n + \"-mount\"), setTimeout(function () {\n                  o.classList.remove(n + \"-mount\");\n                }, 10));\n              },\n                  r = !1,\n                  s = function s() {\n                if (!r) {\n                  r = !0;var i = (t || function () {\n                    return e.root;\n                  })();if (!i) return o.call(e);i.addEventListener(\"transitionend\", function () {\n                    o.call(e);\n                  }), i.classList.add(n + \"-unmount\");\n                }\n              };this.one(\"mount\", i), Object.defineProperty(this, \"unmount\", { value: s });\n            }\n          } };\n      };\n    }, 53: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });e.listenerMixin = function (t) {\n        var e = t.eventType,\n            n = void 0 === e ? \"click\" : e,\n            o = t.callback,\n            i = t.regulate,\n            r = void 0 !== i && i;return { init: function init() {\n            var t = !1,\n                e = function e(_e) {\n              o && (r ? (t || window.requestAnimationFrame(function () {\n                return o(_e, function () {\n                  return t = !1;\n                });\n              }), t = !0) : o(_e));\n            };this.one(\"mount\", function () {\n              document.addEventListener(n, e);\n            }), this.one(\"unmount\", function () {\n              document.removeEventListener(n, e);\n            });\n          } };\n      };\n    }, 54: function _(t, e, n) {\n      \"use strict\";\n      n(55), n(56), n(57);\n    }, 55: function _(t, e, n) {\n      n(10).tag2(\"treeview\", '<div class=\"{rootNode.mixCss(TreeView)}\"> <input type=\"search\" class=\"{rootNode.mixCss(search)}\" if=\"{inputs.get().search}\" placeholder=\"{inputs.get().labels[search.placeholder]}\" oninput=\"{onSearch}\"> <treeviewnode opts=\"{inputs.get()}\" selection=\"{opts.selection}\" model=\"{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}\" filteredmodel=\"{filtered}\" onselection=\"{rootNode.onSelect}\" dragndrop=\"{rootNode.wrapDragNDrop()}\" ancestors=\"{[]}\" searched=\"{search.trim()}\" depth=\"{0}\"> </TreeViewNode> </div>', \"\", \"\", function (t) {\n        \"use strict\";\n        var e = Object.assign || function (t) {\n          for (var e = 1; e < arguments.length; e++) {\n            var n = arguments[e];for (var o in n) {\n              Object.prototype.hasOwnProperty.call(n, o) && (t[o] = n[o]);\n            }\n          }return t;\n        },\n            o = this,\n            i = n(0),\n            r = n(1),\n            s = n(6);this.mixin((0, s.optsMixin)()), this.mixin((0, s.listenerMixin)({ eventType: \"keyup\", callback: function callback(t) {\n            return o.rootNode.onKey(t);\n          } })), this.mixin((0, s.listenerMixin)({ eventType: \"keydown\", callback: function callback(t) {\n            return o.rootNode.onKey(t);\n          } })), this.filtered = null, this.search = \"\", this.onSearch = function (t) {\n          var e = t.currentTarget.value;o.search = e, o.filtered = e.trim() ? (0, i.tree)(o.inputs.get().model, o.inputs.get().category).treeFilter(o.inputs.get().search(e.trim())) : null;\n        }, this.inputs = { get: function get() {\n            return e({}, r.defaults, o.opts, { onSelect: o.opts.onselection });\n          } }, this.outputs = { onSelect: this.inputs.get().onselection, onDrag: this.inputs.get().dragndrop && this.inputs.get().dragndrop.drag, onOver: this.inputs.get().dragndrop && this.inputs.get().dragndrop.over, onEnter: this.inputs.get().dragndrop && this.inputs.get().dragndrop.enter, onLeave: this.inputs.get().dragndrop && this.inputs.get().dragndrop.leave, onDrop: this.inputs.get().dragndrop && this.inputs.get().dragndrop.drop, onCancel: this.inputs.get().dragndrop && this.inputs.get().dragndrop.cancel }, this.state = { get: function get() {\n            return e({}, o);\n          }, set: function set(t) {\n            for (var e in t) {\n              e in o && (o[e] = t[e]);\n            }\n          } }, this.rootNode = new r.RootNode(this.inputs, this.outputs, this.state, this.update);\n      });\n    }, 56: function _(t, e, n) {\n      n(10).tag2(\"treeviewnode\", '<ul if=\"{!opts.folded && !opts.loading}\" data-is=\"with-transition\" transition=\"{opts.transition}\" class=\"{node.ulCss()}\" ondragover=\"{!opts.depth ? rootEvents.onDragOver : null}\" ondragenter=\"{!opts.depth ? rootEvents.onDragEnter : null}\" ondragleave=\"{!opts.depth ? rootEvents.onDragLeave : null}\" ondrop=\"{!opts.depth ? rootEvents.onDrop : null}\"> <li each=\"{item in getModel()}\" class=\"{node.liCss(item)}\" draggable=\"{node.getDragEvents(item).draggable}\" ondragstart=\"{node.getDragEvents(item).onDragStart}\" ondragover=\"{node.getDragEvents(item).onDragOver}\" ondragenter=\"{node.getDragEvents(item).onDragEnter}\" ondragleave=\"{node.getDragEvents(item).onDragLeave}\" ondragend=\"{node.getDragEvents(item).onDragEnd}\" ondrop=\"{node.getDragEvents(item).onDrop}\"> <span class=\"{parent.node.mixCss(item)}\" onclick=\"{parent.node.onClick(item)}\"> <virtual if=\"{!parent.opts.displaytag}\"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if=\"{parent.opts.displaytag}\" data-is=\"{parent.opts.displaytag(item, parent.opts)}\" item=\"{item}\" inputs=\"{inputs.get()}\"></virtual> <span if=\"{node.hasChildren(item) || node.isAsync(item) && !parent.opts.noopener}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item)}\"></span> </span> <treeviewnode if=\"{node.hasChildren(item) || node.isAsync(item)}\" opts=\"{parent.opts}\" selection=\"{parent.opts.selection}\" model=\"{getChildModel(item)}\" filteredmodel=\"{getChildFiltered(item)}\" ancestors=\"{getAncestors(item)}\" depth=\"{parent.opts.depth + 1}\" folded=\"{node.isFolded(item)}\" loading=\"{node.isAsync(item) && !node.isFolded(item)}\"> </TreeViewNode> </li> </ul> <span if=\"{opts.loading}\"></span>', \"\", \"\", function (t) {\n        \"use strict\";\n        var e = this,\n            o = n(1),\n            i = n(6);this.mixin((0, i.optsMixin)()), this.unfolded = [], this.getModel = function () {\n          return e.opts.searched ? e.opts.model.filter(function (t) {\n            return e.opts.filteredmodel.has(t);\n          }) : e.opts.model;\n        }, this.getChildModel = function (t) {\n          var n = t[e.opts.category];return e.node.isAsync(t) && !e.node.isFolded(t) && e.node.pending.indexOf(t) < 0 && e.node.unwrapPromise(t), e.node.isAsync(t) || (n = e.opts.sort ? n.sort(e.opts.sort) : n), n;\n        }, this.getChildFiltered = function (t) {\n          return e.opts.searched ? e.opts.filteredmodel.get(t) : null;\n        }, this.getAncestors = function (t) {\n          return [].concat(e.opts.ancestors, [t]);\n        };var r = function r() {\n          e.opts.onSelect = e.opts.onselection, e.opts.disabled = e.opts.disable;\n        };this.on(\"update\", r), r(), this.inputs = { get: function get() {\n            return e.opts;\n          } }, this.state = { get: function get() {\n            return e;\n          }, set: function set(t) {\n            for (var n in t) {\n              n in e && (e[n] = t[n]);\n            }\n          } }, this.node = new o.TreeNode(this.inputs, null, this.state, this.update), this.rootEvents = this.node.getDragEvents();\n      });\n    }, 57: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });var o = n(10),\n          i = function (t) {\n        return t && t.__esModule ? t : { default: t };\n      }(o),\n          r = n(6);e.default = i.default.tag(\"with-transition\", !1, function (t) {\n        var e = this;this.mixin((0, r.transitionMixin)());var n = function n() {\n          for (var t in e.parent) {\n            e.parent.hasOwnProperty(t) && (e[t] = e.parent[t]);\n          }\n        };n(), this.on(\"update\", n);\n      });\n    }, 6: function _(t, e, n) {\n      \"use strict\";\n      Object.defineProperty(e, \"__esModule\", { value: !0 });var o = n(51);Object.keys(o).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return o[t];\n          } });\n      });var i = n(52);Object.keys(i).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return i[t];\n          } });\n      });var r = n(53);Object.keys(r).forEach(function (t) {\n        \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(e, t, { enumerable: !0, get: function get() {\n            return r[t];\n          } });\n      });\n    } });\n});\n//# sourceMappingURL=riot.umd.min.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(439)(module)))\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(442);\n\nvar _introduction = __webpack_require__(443);\n\nvar _introduction2 = _interopRequireDefault(_introduction);\n\nvar _usage = __webpack_require__(446);\n\nvar _usage2 = _interopRequireDefault(_usage);\n\nvar _treeview = __webpack_require__(457);\n\nvar _treeview2 = _interopRequireDefault(_treeview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = [_introduction2.default, _usage2.default, _treeview2.default];\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _riot = __webpack_require__(6);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n__webpack_require__(62);\n\n__webpack_require__(176);\n\n__webpack_require__(440);\n\n__webpack_require__(177);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.onload = function () {\n    _riot2.default.mount(\"*\");\n};\n\n/***/ }),\n\n/***/ 439:\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n/***/ }),\n\n/***/ 440:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(441);\n\n__webpack_require__(474);\n\n__webpack_require__(475);\n\n__webpack_require__(476);\n\n/***/ }),\n\n/***/ 441:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('app', '    <div class=\"App\">\\n            <planner plan=\"{plan}\" maxdepth=\"{1}\" sticky=\"{true}\"></planner>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\n__webpack_require__(63);\n\nvar _plan = __webpack_require__(177);\n\nvar _plan2 = _interopRequireDefault(_plan);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.plan = _plan2.default;\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 442:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('planner', '    <div class=\"Planner\">\\n        <div class=\"Planner opener\" ref=\"opener\">\\n            <i class=\"{fa: true,                 fa-bars: !opened,                 fa-times: opened}\"></i>\\n        </div>\\n        <aside ref=\"sidePanel\" class=\"{Planner: true, side-panel: true, opened: opened}\">\\n            <div><h1>Table of contents</h1></div>\\n            <treeview model=\"{opts.plan}\" css=\"{{ TreeView: PlannerTree }}\" category=\"subs\" selection=\"{selection}\" onselection=\"{updateSelection}\" strategies=\"{{ selection: [ancestors], fold: [ foldDepth(), not-selected, no-child-selection ]}}\" noopener=\"true\" displaytag=\"{display}\">\\n            </TreeView>\\n        </aside>\\n        <div ref=\"content\" class=\"Planner content\">\\n            <div each=\"{p in opts.plan}\">\\n                <planner-content plan=\"{p}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _riot = __webpack_require__(176);\n\n__webpack_require__(64);\n\nthis.mixin((0, _riot.listenerMixin)({ callback: function callback(e) {\n        return _this.onDocumentClick(e);\n    } }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onDocumentScroll.apply(_this, arguments);\n    }, regulate: true }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onStickyScroll.apply(_this, arguments);\n    }, regulate: true }));\n\nthis.selection = [];\nthis.opened = false;\nthis.updateSelection = function (_) {\n    _this.selection = _;\n    _this.update();\n};\nthis.display = function (item) {\n    return \"display-planner-content\";\n};\nthis.foldDepth = function () {\n    var max = _this.opts.maxdepth;\n    return function () {\n        return this.inputs.get().depth >= max;\n    };\n};\nthis.findPosition = function () {\n    var position = [];\n    var loop = function loop(arr) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n        for (var i = 0; i < arr.length; i++) {\n            var elt = arr[i];\n            var domElt = document.getElementById(acc.length > 0 ? acc.join(\"#\") + \"#\" + elt.title : elt.title);\n            if (domElt && domElt.parentElement && domElt.parentElement.getBoundingClientRect().top <= 50 && domElt.parentElement.getBoundingClientRect().bottom > 10) {\n                position.push(elt);\n                if (elt.subs) loop(elt.subs, [].concat(acc, [elt.title]));\n                break;\n            }\n        }\n    };\n    loop(_this.opts.plan);\n    return position;\n};\nthis.one(\"mount\", function () {\n    _this.selection = _this.findPosition();\n    _this.update();\n});\n\nthis.onDocumentClick = function (ev) {\n    if (!(ev.target instanceof HTMLElement)) return;\n    if (_this.refs.opener && _this.refs.opener.contains(ev.target)) {\n        _this.opened = !_this.opened;\n    } else if (_this.opened && _this.refs.sidePanel && !_this.refs.sidePanel.contains(ev.target)) {\n        _this.opened = false;\n    }\n    _this.update();\n};\n\nthis.onDocumentScroll = function (ev, end) {\n    var position = _this.findPosition();\n    var newHash = \"#\" + position.map(function (_) {\n        return _.title;\n    }).join(\"#\");\n    if (newHash !== (window.location.hash || \"#\")) {\n        _this.selection = position;\n        _this.update();\n        window.history && window.history.replaceState({}, document.title, \"#\" + position.map(function (_) {\n            return _.title;\n        }).join(\"#\"));\n    }\n\n    // Prevents safari security exception (SecurityError (DOM Exception 18): Attempt to use history.replaceState() more than 100 times per 30.000000 seconds)\n    setTimeout(function () {\n        return end();\n    }, 100);\n};\n\nthis.onStickyScroll = function (ev, end) {\n    if (!_this.opts.sticky) return;\n    if (_this.refs.content.getBoundingClientRect().top > 0) {\n        _this.refs.sidePanel.style.position = \"absolute\";\n        _this.refs.sidePanel.style.top = \"\";\n        end();\n    } else {\n        _this.refs.sidePanel.style.position = \"fixed\";\n        _this.refs.sidePanel.style.top = \"0px\";\n        end();\n    }\n};\n});\n\nriot.tag2('planner-content', '    <div class=\"{depth === 1 ? chapter : planner-section}\">\\n        <h1 if=\"{depth === 1}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h1>\\n        <h2 if=\"{depth === 2}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h2>\\n        <h3 if=\"{depth === 3}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h3>\\n        <h4 if=\"{depth === 4}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h4>\\n        <h5 if=\"{depth === 5}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h5>\\n        <h6 if=\"{depth === 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h6>\\n        <p if=\"{depth > 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </p>\\n        <div data-is=\"{plan.content}\"></div>\\n        <div if=\"{plan.subs}\">\\n            <div each=\"{s in plan.subs}\">\\n                <planner-content plan=\"{s}\" prefix=\"{prefix ? prefix+\\'#\\'+plan.title : plan.title}\" depth=\"{depth + 1}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.plan = this.opts.plan;\nthis.depth = this.opts.depth || 1;\nthis.prefix = this.opts.prefix || \"\";\nthis.id = function () {\n        return _this.prefix ? _this.prefix + \"#\" + _this.plan.title : _this.plan.title;\n};\n});\n\nriot.tag2('display-planner-content', '    <a href=\"{href()}\">{opts.item.title}</a>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.href = function () {\n    return _this.opts.inputs.ancestors.map(function (a) {\n        return \"#\" + a.title;\n    }).join(\"\") + \"#\" + _this.opts.item.title;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 443:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(444);\n\n__webpack_require__(445);\n\nexports.default = {\n    title: \"Introduction\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/introduction/index.js\",\n    content: \"introduction\"\n};\n\n/***/ }),\n\n/***/ 444:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('introduction', '    <p>\\n        This page covers the <em class=\"highlight\"><a href=\"http://riotjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Riot.js</a></em> implementation of the <em><a href=\"..\">Bosket library</a></em>.<br>\\n        Versatile and flexible, Bosket eases the creation and design of tree view components.<br><br>\\n        As a matter of fact <em><a href=\"https://github.com/elbywan/bosket/tree/master/docs/riot/plan\" target=\"_blank\" rel=\"noopener noreferrer\">this whole documentation</a></em> is built around Bosket using <em><a href=\"https://github.com/elbywan/bosket/blob/master/docs/riot/plan/Planner.tag\" target=\"_blank\" rel=\"noopener noreferrer\">a custom component</a></em> which automatically creates the table of contents and the anchors.<br>\\n        <br>\\n        Multiple use case examples (including the source code and the css stylesheet) are provided alongside the documentation.\\n    </p>\\n    <h4 class=\"center-text\">API views implemented with Bosket</h4>\\n    <introductiondemos></introductiondemos>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 445:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('introductiondemos', '    <div class=\"IntroductionDemos\">\\n       <div class=\"center-text\">\\n           <span class=\"button-row\">\\n               <button each=\"{d in demos}\" onclick=\"{setDemo(d)}\" class=\"{selected: d === demo}\">\\n                   {d}\\n               </button>\\n           </span>\\n       </div>\\n       <componentdemo files=\"{getFiles(demo)}\">\\n            <virtual data-is=\"{parent.demo.toLowerCase()}\"></virtual>\\n       </ComponentDemo>\\n   </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(66);\n\nthis.demos = [\"HackerNews\", \"Pokeapi\", \"ChuckNorris\"];\nthis.demo = this.demos[0];\nthis.setDemo = function (d) {\n    return function (_) {\n        return _this.demo = d;\n    };\n};\nthis.getFiles = function (demo) {\n    return [\"./components/Demos/\" + demo + \"/\" + demo + \".tag\", \"../common/styles/\" + demo + \".css\", \"./components/Demos/\" + demo + \"/models.js\"];\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 446:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(447);\n\nvar _import2 = __webpack_require__(448);\n\nvar _import3 = _interopRequireDefault(_import2);\n\nvar _dataModel = __webpack_require__(450);\n\nvar _dataModel2 = _interopRequireDefault(_dataModel);\n\nvar _style = __webpack_require__(453);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _onlineSnippets = __webpack_require__(455);\n\nvar _onlineSnippets2 = _interopRequireDefault(_onlineSnippets);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/index.js\",\n    content: \"usage\",\n    subs: [_import3.default, _onlineSnippets2.default, _dataModel2.default, _style2.default]\n};\n\n/***/ }),\n\n/***/ 447:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('usage', '    <div>\\n        <p>It is assumed that you followed the installation <em><a href=\"../#Setup\">guidelines</a></em>.</p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 448:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(449);\n\nexports.default = {\n    title: \"Import\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/import/index.js\",\n    content: \"import\"\n};\n\n/***/ }),\n\n/***/ 449:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('import', '    <p>Bosket/riot is bundled in <em><a href=\"http://bob.yexley.net/umd-javascript-that-runs-anywhere/\" target=\"_blank\" ref=\"noopener noreferrer\">UMD</a></em> format.</p>\\n\\n    <syntax-highlight offset=\"{8}\">\\n        /* How to register Bosket tags : */\\n\\n        // ESM imports\\n        import \"@bosket/riot\"\\n\\n        // Commonjs\\n        require(\"@bosket/riot\")\\n    </syntax-highlight>\\n\\n    <p>Or just include a link to the <em><code>@bosket/riot/bundle/riot.umd.min.js</code></em> file inside a script tag.</p>\\n\\n    <syntax-highlight language=\"html\" content=\"{htmlCode}\"></syntax-highlight>\\n', '', '', function(opts) {\n\"use strict\";\n\n/* eslint-disable */\nthis.htmlCode = \"\\n            <script src=\\\".../path/to/riot.js\\\"></script>\\n            <script src=\\\".../path/to/riot.umd.min.js\\\"></script>\";\n/* eslint-enable */\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 450:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(451);\n\n__webpack_require__(452);\n\nexports.default = {\n    title: \"Data model\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/data%20model/index.js\",\n    content: \"datamodel\"\n};\n\n/***/ }),\n\n/***/ 451:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('datamodel', '    <span>\\n        <p>To populate the component you need to provide a suitable data model.</p>\\n        <syntax-highlight offset=\"{12}\">\\n            // A model is simply an array of objects.\\n\\n            const model = [\\\\{\\n                a: 1,\\n                b: 2,\\n                /* ... */\\n                // If the object has \\'children\\', it must contain a property value\\n                // being an array of objects that respects the same contract.\\n                // \\'children\\' is just a placeholer name, you can use and specify any\\n                // label as a prop of the component.\\n                children: [\\\\{\\n                    /* ... */,\\n                    // If you would like the children to be loaded asynchronously when\\n                    // the node is unfolded, you may use a function returning a Promise.\\n                    children: () => \\\\{\\n                        return new Promise(resolve =>\\n                            setTimeout(() =>\\n                                // resolves into the children model\\n                                resolve([\\\\{ a: 1, b: 2 \\\\}]), 1000))\\n                    \\\\}\\n                \\\\}],\\n            \\\\},\\n            /* ... */\\n            ]\\n        </syntax-highlight>\\n\\n        <p>The logic is pretty simple as you can see below, a model and its tree representation as a Bosket view :</p>\\n\\n        <syntax-highlight offset=\"{12}\">\\n            [\\n                \\\\{ label: \"Click me, I\\'m a node with two children.\", children: [\\n                    \\\\{ label: \"I am a childless leaf.\" \\\\},\\n                    \\\\{ label: \"I am a also a childless leaf.\" \\\\}\\n                ]\\\\},\\n                \\\\{ label: \"I\\'m a leaf, I do not have children.\" \\\\},\\n                \\\\{ label: \"I am an asynchronous node, click me and wait one second.\", children: () =>\\n                    new Promise(resolve =>\\n                        setTimeout(() =>\\n                            resolve([\\\\{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" \\\\}]), 1000))\\n                \\\\}\\n            ]\\n        </syntax-highlight>\\n\\n        <div style=\"border: 2px solid black; cursor: pointer;\">\\n           <data-model-tree></data-model-tree>\\n        </div>\\n    </span>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 452:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('data-model-tree', '    <treeview model=\"{sampleModel}\" category=\"children\" selection=\"{selection}\" onselection=\"{updateSelection}\" display=\"{display}\">\\n    </TreeView>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.sampleModel = [{ label: \"Click me, I'm a node with two children.\", children: [{ label: \"I am a childless leaf.\" }, { label: \"I am a also a childless leaf.\" }] }, { label: \"I'm a leaf, I do not have children.\" }, { label: \"I am an asynchronous node, click me and wait one second.\", children: function children() {\n        return new Promise(function (resolve) {\n            return setTimeout(function () {\n                return resolve([{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" }]);\n            }, 1000);\n        });\n    }\n}];\n\nthis.updateSelection = function (_) {\n    _this.selection = _;_this.update();\n};\nthis.selection = [];\nthis.display = function (_) {\n    return _.label;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 453:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(454);\n\nexports.default = {\n    title: \"Style\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/style/index.js\",\n    content: \"usage-style\"\n};\n\n/***/ }),\n\n/***/ 454:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('online-snippets', '    <iframe width=\"100%\" height=\"300\" title=\"jsfiddle-react\" src=\"//jsfiddle.net/elbywan/w17o67vw/embedded/js,html,result/dark/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 455:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(456);\n\nexports.default = {\n    title: \"Online snippets\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/online-snippets/index.js\",\n    content: \"online-snippets\"\n};\n\n/***/ }),\n\n/***/ 456:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    \n    \n  \n\n/***/ }),\n\n/***/ 457:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _basicUsage = __webpack_require__(458);\n\nvar _basicUsage2 = _interopRequireDefault(_basicUsage);\n\nvar _demo = __webpack_require__(460);\n\nvar _demo2 = _interopRequireDefault(_demo);\n\nvar _css = __webpack_require__(462);\n\nvar _css2 = _interopRequireDefault(_css);\n\nvar _requiredProperties = __webpack_require__(470);\n\nvar _requiredProperties2 = _interopRequireDefault(_requiredProperties);\n\nvar _optionalProperties = __webpack_require__(472);\n\nvar _optionalProperties2 = _interopRequireDefault(_optionalProperties);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"TreeView\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/index.js\",\n    subs: [_basicUsage2.default, _demo2.default, _requiredProperties2.default, _optionalProperties2.default, _css2.default]\n};\n\n/***/ }),\n\n/***/ 458:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(459);\n\nexports.default = {\n    title: \"Basic Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/basic%20usage/index.js\",\n    content: \"basic-usage\"\n};\n\n/***/ }),\n\n/***/ 459:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('basic-usage', '    <div>\\n        <p>\\n            Just drop the TreeView tag in your templates after <em><a href=\"#Usage#Import\">registering it</a></em>.<br>\\n            <br>\\n            Appearance can be tweaked using <em><a href=\"#TreeView#Css\">css</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView\\n\\n            // Required //\\n\\n            model=         /* [the data model](#TreeView#Required properties#model) */\\n            category=      /* [name of the property containing the children](#TreeView#Required properties#category) */\\n            selection=     /* [the selection array, updated when the user (de)selects items](#TreeView#Required properties#selection) */\\n            onselection=   /* [selection callback](#TreeView#Required properties#onselection) */\\n\\n            // Optional //\\n\\n            display=       /* [customize output for each element in the tree](#TreeView#Optional properties#display) */\\n            displaytag=    /* [wrap output inside a tag of your choice](#TreeView#Optional properties#displaytag) */\\n            strategies=    /* [behaviour on selection, click or fold](#TreeView#Optional properties#strategies) */\\n            sort=          /* [sort items](#TreeView#Optional properties#sort) */\\n            disable=       /* [disable certain items](#TreeView#Optional properties#disabled) */\\n            search=        /* [enables the search bar](#TreeView#Optional properties#search) */\\n            async=         /* [how to perform asynchronous loading](#TreeView#Optional properties#async) */\\n            dragndrop=     /* [drag'n'drop configuration](#TreeView#Optional properties#dragndrop) */\\n            noopener=      /* [hide opener 'arrow'](#TreeView#Optional properties#noopener) */\\n            labels=        /* [override default labels](#TreeView#Optional properties#labels) */\\n            css=           /* [override default css classes](#TreeView#Optional properties#css) */\\n            transition=    /* [transitions on mount / unmount](#TreeView#Optional properties#transition) */\\n        />\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 460:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(461);\n\nexports.default = {\n    title: \"Demo\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/demo/index.js\",\n    content: \"treeview-demo-section\"\n};\n\n/***/ }),\n\n/***/ 461:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-demo-section', '    <div>\\n        <h4>\\n            <a download=\"BosketTreeView.css\" href=\"./components/Demos/TreeView/TreeViewDemo.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>Download stylesheet\\n            </a>\\n        </h4>\\n        <treeviewsection></treeviewsection>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 462:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(463);\n\nvar _layout = __webpack_require__(464);\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _emptyStylesheet = __webpack_require__(467);\n\nvar _emptyStylesheet2 = _interopRequireDefault(_emptyStylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"Css\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/index.js\",\n    content: \"treeview-css\",\n    subs: [_layout2.default, _emptyStylesheet2.default]\n};\n\n/***/ }),\n\n/***/ 463:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-css', '    <div>\\n        <p>\\n            A TreeView is basically made of multiple nested unordered lists.\\n            The component applies css classes to the lists and their items throughout its lifecycle.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 464:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(465);\n\nexports.default = {\n    title: \"Layout\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/layout/index.js\",\n    content: \"treeview-layout\"\n};\n\n/***/ }),\n\n/***/ 465:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-layout', '    <div>\\n        <p>\\n            Below is the <em>full HTML layout</em> of a TreeView, with the <em><a href=\"#TreeView#Optional properties#css\">default classes</a></em>.<br>\\n        </p>\\n        <syntax-highlight language=\"html\">{parent.htmlLayout}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _html_layout = __webpack_require__(466);\n\nvar _html_layout2 = _interopRequireDefault(_html_layout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.htmlLayout = _html_layout2.default;\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 466:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = \"\\n<!-- Presets override this class with the preset component name. -->\\n<div class=\\\"TreeView\\\">\\n\\n    <!-- If [search](#TreeView#Optional properties#search) is defined, hidden otherwise.-->\\n    <input type=\\\"search\\\" class=\\\"search\\\" />\\n\\n    <!-- 'depth-0'' is the root list, each nested list has the depth incremented by 1 -->\\n    <!-- If [transition](#TreeView#Optional properties#transition) is set, the transition css classes will be set on this element. -->\\n    <ul class=\\\"depth-0\\\">\\n        <li>\\n            <span class=\\\"item\\\">\\n                <!-- Return of the [display](#TreeView#Optional properties#display) or [displaytag](#TreeView#Optional properties#displaytag) function.-->\\n            </span>\\n        </li>\\n\\n        <!-- If the item is selected. -->\\n        <li class=\\\"selected\\\">\\n            <span class=\\\"item\\\"></span>\\n        </li>\\n\\n        <!-- A category is a node having children. This node is folded, its children are hidden. -->\\n        <li class=\\\"folded category\\\">\\n            <span class=\\\"item\\\">\\n                <!-- If [noopener](#TreeView#Optional properties#noopener) is false, hidden otherwise. -->\\n                <span class=\\\"opener\\\"></span>\\n            </span>\\n        </li>\\n\\n        <!-- This category is not folded. -->\\n        <li class=\\\"category\\\">\\n            <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n\\n            <!-- Children. -->\\n            <ul class=\\\"depth-1\\\">\\n\\n                <!-- Asynchronous, folded node. See [async](#TreeView#Optional properties#async). -->\\n                <li class=\\\"category folded async\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- This async is currently fetching its children, waiting for the Promise to resolve. See [async](#TreeView#Optional properties#async). -->\\n                <li class=\\\"category loading\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- Disabled item, cannot be selected. See [disabled](#TreeView#Optional properties#disabled). -->\\n                <li class=\\\"disabled\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- An item is being dragged over. See [dragndrop](#TreeView#Optional properties#dragndrop). -->\\n                <li class=\\\"dragover\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- An invalid drop target. See [dragndrop](#TreeView#Optional properties#dragndrop). -->\\n                <li class=\\\"nodrop\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n            </ul>\\n        </li>\\n    </ul>\\n</div>\";\n\n/***/ }),\n\n/***/ 467:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(468);\n\nexports.default = {\n    title: \"Empty stylesheet\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/empty-stylesheet/index.js\",\n    content: \"treeview-empty-stylesheet\"\n};\n\n/***/ }),\n\n/***/ 468:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeview-empty-stylesheet', '    <div>\\n        <h4>\\n            <a ref=\"anchor\" download=\"bosket_empty_stylesheet.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>\\n                Download stylesheet\\n            </a>\\n        </h4>\\n\\n        <syntax-highlight language=\"css\">{parent.emptyStylesheet}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _empty_stylesheet = __webpack_require__(469);\n\nvar _empty_stylesheet2 = _interopRequireDefault(_empty_stylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.emptyStylesheet = _empty_stylesheet2.default;\nthis.one(\"mount\", function () {\n    _this.refs.anchor.href = window.URL.createObjectURL(new Blob([_empty_stylesheet2.default], { type: \"text/css\" }));\n});\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 469:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = \"\\n/* Elements */\\n.TreeView ul {}\\n.TreeView ul > li {}\\n.TreeView ul > li > span.item {}\\n.TreeView > input[type=\\\"search\\\"] {}\\n\\n/* Root list */\\n.TreeView ul.depth-0 {}\\n\\n/* Not disabled */\\n.TreeView ul li:not(.disabled) {}\\n.TreeView ul li:not(.disabled) > span.item {}\\n\\n/* Selected */\\n.TreeView ul li.selected {}\\n.TreeView ul li.selected > span.item {}\\n\\n/* Categories : Nodes with children */\\n.TreeView ul li.category {}\\n.TreeView ul li.category > span.item {}\\n/* Folded */\\n.TreeView ul li.category.folded {}\\n.TreeView ul li.category.folded > span.item {}\\n/* Unfolded */\\n.TreeView ul li.category:not(.folded) {}\\n.TreeView ul li.category:not(.folded) > span.item {}\\n/* Opener */\\n.TreeView ul li.category > span.item > .opener {}\\n.TreeView ul li.category > span.item > .opener::after {}\\n/* Folded async */\\n.TreeView li.category.async {}\\n.TreeView li.category.async > span.item {}\\n/* Loading async */\\n.TreeView li.category.loading {}\\n.TreeView li.category.loading > span.item {}\\n\\n/* Animations on tag mount / unmount */\\n.TreeViewTransition {}\\n.TreeViewTransition-mount {}\\n.TreeViewTransition-unmount {}\\n\\n/* Drag'n'drop */\\n.TreeView ul.dragover {}\\n.TreeView li.dragover {}\\n.TreeView li.dragover > span.item {}\\n.TreeView li.nodrop {}\\n.TreeView li.nodrop > span.item {}\";\n\n/***/ }),\n\n/***/ 470:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(471);\n\nexports.default = {\n    title: \"Required properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n    subs: [{\n        title: \"model\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"model-prop\"\n    }, {\n        title: \"category\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"category-prop\"\n    }, {\n        title: \"selection\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"selection-prop\"\n    }, {\n        title: \"onselection\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n        content: \"onselection-prop\"\n    }]\n};\n\n/***/ }),\n\n/***/ 471:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('model-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object[]</pre>\\n        <p>\\n            An array of objects which is used to populate the component.<br>\\n            The format is detailed in the <em><a href=\"#Usage#Data model\">data model</a></em> section.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ model={ model } />\\n            <script>\\n                this.model = [\\n                    { label: \\\"One\\\" },\\n                    { label: \\\"Two\\\" },\\n                    { label: \\\"Three\\\", list: [\\n                        { label: \\\"Four\\\" },\\n                        { label: \\\"Five\\\" }\\n                    ] }\\n                ]\\n            </script>\"; // eslint-disable-line no-useless-escape\n});\n\nriot.tag2('category-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">string</pre>\\n        <p>\\n            The name of the property containing the children.<br>\\n            In the example above, it would be \"list\".\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"<TreeView /* ... */ category=\\\"list\\\" />\";\n});\n\nriot.tag2('selection-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object[]</pre>\\n        <p>\\n            An array which references the selected objects.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ selection={ selection } />\\n            <script>\\n                this.selection = []\\n            </script>\";\n});\n\nriot.tag2('onselection-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(newSelection: Object[], item: Object, ancestors: Object[], neighbours: Object[]) => void</pre>\\n        <p>\\n            A callback which is fired when the selection is updated (for instance when the user clicks on an item).<br>\\n            This method should update the <em><a href=\"#TreeView#Required properties#selection\">selection array</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ selection={ selection } onselection={ onselection } />\\n            <script>\\n                this.selection = []\\n                this.onselection = _ => this.update({ selection : _ })\\n            </script>\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 472:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(473);\n\nexports.default = {\n    title: \"Optional properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n    subs: [{\n        title: \"display\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"display-prop\"\n    }, {\n        title: \"displaytag\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"displaytag-prop\"\n    }, {\n        title: \"strategies\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"strategies-prop\"\n    }, {\n        title: \"sort\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"sort-prop\"\n    }, {\n        title: \"disable\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"disable-prop\"\n    }, {\n        title: \"search\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"search-prop\"\n    }, {\n        title: \"async\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"async-prop\"\n    }, {\n        title: \"dragndrop\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"dragndrop-prop\"\n    }, {\n        title: \"noopener\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"noopener-prop\"\n    }, {\n        title: \"labels\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"labels-prop\"\n    }, {\n        title: \"css\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"css-prop\"\n    }, {\n        title: \"transition\",\n        editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n        content: \"transition-prop\"\n    }]\n};\n\n/***/ }),\n\n/***/ 473:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('display-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\\n        <p>\\n            A custom rendering function. Called for every item, its return value is displayed in the view.<br>\\n            The \"inputs\" argument is an object containing the input properties of the component which is rendering the item.\\n        </p>\\n        <div class=\"emphasis\">\\n            Defaults to the&nbsp;\\n            <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\" target=\"_blank\" rel=\"noopener noreferrer\">toString</a></em>&nbsp;\\n            function.\\n\\n            <syntax-highlight>item => item.toString()</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ display={ display } />\\n            <script>\\n                // The display function is run for every item in the model.\\n                // Here, we choose to display the 'label' property in lower case.\\n                this.display = item => item.display.toLowerCase()\\n            </script>\"; // eslint-disable-line\n});\n\nriot.tag2('displaytag-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\\n        <p>\\n            <em>The display and displaytag properties are mutually exclusive.</em><br>\\n            <br>\\n            Allows more customization than the display property, by wrapping items inside a custom tag.<br>\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView /* ... */ displaytag={ displaytag } />\\n\\n        <script>\\n            // A custom defined tag used to wrap items in an anchor tag\\n            // opts.item is a reference to the displayed item\\n            riot.tag(\\\"customtag\\\", \\\"<a href={\\xA0opts.item.link }>{ opts.item.label }</a>\\\")\\n            this.displaytag = () => \\\"customtag\\\"\\n        </script>\"; // eslint-disable-line\n});\n\nriot.tag2('strategies-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">{strategies}</pre>\\n        <p>\\n            <em>Strategies determine the action(s) to perform on click, fold or selection.</em><br><br>\\n            The <em>strategies prop</em> is an object containing 3 properties (click, fold, selection). Each property value is an array of strategies.<br>\\n            A <em>strategy</em> is either a string (containing a predefined strategy name), or a function (executed in the tree context).<br><br>\\n            In case of multiple strategies, they are chained.\\n        </p>\\n\\n        <syntax-highlight language=\"typescript\">{parent.type}</syntax-highlight>\\n\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n\\n        <p>Check the <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/core/strategies.js\" target=\"_blank\" rel=\"noopener noreferrer\">strategies.js file</a></em> for the list of available strategies and descriptions.</p>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _templateObject = _taggedTemplateLiteralLoose([\"\\n            {\\n                selection: (string | selectionStrategy)[],\\n                click: (string | clickStrategy)[],\\n                fold: (string | foldStrategy)[]\\n            }\\n        \"], [\"\\n            {\\n                selection: (string | selectionStrategy)[],\\n                click: (string | clickStrategy)[],\\n                fold: (string | foldStrategy)[]\\n            }\\n        \"]);\n\nvar _tools = __webpack_require__(16);\n\nfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\nthis.strategies = (0, _tools.indent)(_templateObject);\nthis.type = \"\\n            type selectionStrategy<Item extends Object> = (item: Item, selection: Array<Item>, neighbours: Array<Item>, ancestors: Array<Item>) => Array<Item>\\n            type clickStrategy<Item extends Object> = (item: Item, event: MouseEvent, ancestors: Array<Item>, neighbours: Array<Item>) => void\\n            type foldStrategy<Item extends Object> = (item: Item, folded: boolean) => boolean\";\nthis.default = \"\\n            {\\n                // One item selected at a time\\n                selection: [\\\"single\\\"],\\n                // No click callbacks\\n                click: [],\\n                // Folds an item when itself or its children are not selected\\n                fold: [ \\\"not-selected\\\", \\\"no-child-selection\\\" ]\\n            }\";\nthis.code = \"\\n            <TreeView /* ... */ strategies={ strategies } />\\n\\n            <script>\\n                // The object is mixed in with the default properties, so you can override only the keys you want.\\n                this.strategies = {\\n                    // Select only the items beginning with the letter a\\n                    selection: [\\\"multiple\\\", (item, selection) => selection.filter(elt => elt.label.charAt(0) === 'a' )]\\n                    click: [\\\"unfold-on-selection\\\"],\\n                    fold: [\\\"opener-control\\\", \\\"no-child-selection\\\"]\\n                }\\n            </script> // eslint-disable-line\\n        \";\n});\n\nriot.tag2('sort-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item1, item2) => boolean</pre>\\n        <p>A custom sorting function.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ sort={ sort } />\\n            <script>\\n                this.sort = (a, b) => a.label.localeCompare(b.label)\\n            </script>\";\n});\n\nriot.tag2('disable-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object) => boolean</pre>\\n        <p>Disables elements based on the result of the provided function, which prevents selection and apply the css \\'disabled\\' class.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ disable={\\xA0disable } />\\n            <script>\\n                this.disable = item => !item.children\\n            </script>\";\n});\n\nriot.tag2('search-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(query: string) => (item: Object) => boolean</pre>\\n        <p>If provided, enables the built-in search bar and is called when the user types a search query.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ search={\\xA0search } />\\n            <script>\\n                this.search = input => item => item.label.match(new RegExp(`.*${ input }.*`, \\\"gi\\\"))\\n            </script>\";\n});\n\nriot.tag2('async-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(mixed => Promise&lt;Object[]&gt;) => Promise&lt;Object[]&gt;</pre>\\n        <p>A function used to unwrap <em><a href=\"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise\" target=\"_blank\" rel=\"noopener noreferrer\">Promises</a></em> in case of asynchronous children.</p>\\n\\n        <div class=\"emphasis\">\\n            Defaults to simple method call :\\n            <syntax-highlight>_ => _()</syntax-highlight>\\n        </div>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ async={\\xA0async } model={ model } />\\n\\n            <script>\\n                this.model = [{\\n                    label: \\\"Asynchronous children\\\",\\n                    children: timer =>\\n                         new Promise(resolve =>\\n                            setTimeout(() =>\\n                                resolve([{ label: \\\"timer is provided by the async property\\\" }]), timer))\\n                }]\\n                this.async = _ => _(Math.random() * 1000 + 500)\\n            </script>\";\n});\n\nriot.tag2('dragndrop-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object (details below)</pre>\\n        <p>The drag\\'n\\'drop configuration object.</p>\\n\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n\\n\\n        <p>Tip: for mobile drag\\'n\\'drop, use a <em><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Bernardo-Castilho/dragdroptouch\">polyfill</a></em>.</p>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n\\n        <p>Example of a draggable tree associated with a droppable tree :</p>\\n\\n        <dragtree></dragtree>\\n        <droptree></droptree>\\n\\n        <syntax-highlight>{parent.dragdroptrees}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            dragndrop: {\\n                draggable: false, // make items draggable\\n                droppable: false, // make the tree droppable\\n                drag:      null,  // action to perform on drag\\n                over:      null,  // hook on dragover\\n                enter:     null,  // hook on dragenter\\n                leave:     null,  // hook on dragleave\\n                drop:      null,  // action to perform on drop\\n                cancel:    null,  // action to perform on cancellation\\n                guard:     null   // prevents dragover and drop\\n            }\\n        \";\n\nthis.code = \"\\n            /* [Drag'n'drop presets](https://github.com/elbywan/bosket/blob/master/src/core/dragndrop.js) */\\n\\n            <TreeView /* ... */ dragndrop={\\xA0dragndrop }/>\\n\\n            <script>\\n                this.dragndrop = {\\n                    // To drag or drop on specific items\\n                    // you can use a function : (item) => true/false\\n                    draggable: true,\\n                    droppable: true,\\n\\n                    // target       -> the model item targeted by the event\\n                    // event        -> the dragndrop event\\n                    // inputs       -> props of the component where the event is triggered\\n\\n                    drag: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    over: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    enter: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    leave: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    drop: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    cancel: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    guard: (target, event, inputs) => {\\n                        /* ... */\\n                    }\\n                }\\n            </script>\\n        \";\n\nthis.dragdroptrees = \"\\n            <DragTree>\\n                <div class=\\\"tree-sample\\\">\\n                    <TreeView opts={ conf } />\\n                </div>\\n                <script>\\n                    import { dragndrop } from \\\"@bosket/core\\\"\\n                    this.dragModel = [\\n                        { name: \\\"< Drag these items >\\\" },\\n                        { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }]},\\n                        { name: 2, children: [{ name: 21 }, { name: 22 }]},\\n                        { name: 3 },\\n                        { name: 4 }\\n                    ]\\n                    this.conf = {\\n                        model: this.dragModel,\\n                        category: \\\"children\\\",\\n                        selection: [],\\n                        onselection: _ => this.update({ selection: _ }),\\n                        display: i => i.name,\\n                        strategies: { fold: [() => false]},\\n                        // Pluck preset\\n                        dragndrop: { ...dragndrop.pluck(() => this.conf.model, m => {\\xA0this.conf.model = m; this.update() }) }\\n                    }\\n                </script>\\n            </DragTree>\\n\\n            <DropTree>\\n                <div class=\\\"tree-sample\\\">\\n                    <TreeView opts={ conf } />\\n                </div>\\n                <script>\\n                    import { dragndrop } from \\\"@bosket/core\\\"\\n                    this.conf = {\\n                        model: [{ name: \\\"< Drop items here >\\\", children: []}],\\n                        category: \\\"children\\\",\\n                        selection: [],\\n                        onselection: _ => this.update({ selection: _ }),\\n                        display: i => i.name,\\n                        strategies: { fold: [() => false]},\\n                        // Paste preset + only drop on items with children\\n                        dragndrop: {\\n                            ...dragndrop.paste(() => this.conf.model, m => {\\xA0this.conf.model = m; this.update() }),\\n                            droppable: item => item && item.children\\n                        }\\n                    }\\n                </script>\\n            </DropTree>\\n        \";\n});\n\nriot.tag2('dragtree', '    <div class=\"tree-sample\">\\n        <treeview opts=\"{conf}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nvar _core = __webpack_require__(10);\n\nthis.dragModel = [{ name: \"< Drag these items >\" }, { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }] }, { name: 2, children: [{ name: 21 }, { name: 22 }] }, { name: 3 }, { name: 4 }];\nthis.conf = {\n    model: this.dragModel,\n    category: \"children\",\n    selection: [],\n    onselection: function onselection(_) {\n        return _this.update({ selection: _ });\n    },\n    display: function display(i) {\n        return i.name;\n    },\n    strategies: { fold: [function () {\n            return false;\n        }] },\n    // Pluck preset\n    dragndrop: _extends({}, _core.dragndrop.pluck(function () {\n        return _this.conf.model;\n    }, function (m) {\n        _this.conf.model = m;_this.update();\n    }))\n};\n});\n\nriot.tag2('droptree', '    <div class=\"tree-sample\">\\n        <treeview opts=\"{conf}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nvar _core = __webpack_require__(10);\n\nthis.conf = {\n    model: [{ name: \"< Drop items here >\", children: [] }],\n    category: \"children\",\n    selection: [],\n    onselection: function onselection(_) {\n        return _this.update({ selection: _ });\n    },\n    display: function display(i) {\n        return i.name;\n    },\n    strategies: { fold: [function () {\n            return false;\n        }] },\n    // Paste preset + only drop on items with children\n    dragndrop: _extends({}, _core.dragndrop.paste(function () {\n        return _this.conf.model;\n    }, function (m) {\n        _this.conf.model = m;_this.update();\n    }), {\n        droppable: function droppable(item) {\n            return item && item.children;\n        }\n    })\n};\n});\n\nriot.tag2('noopener-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">boolean</pre>\\n        <p>Hides the opener, which is usually the little arrow or arrow-like icon used to unfold a node.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"<TreeView /* ... */ noopener={\\xA0true } />\";\n});\n\nriot.tag2('labels-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>Labels override.</p>\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            labels: {\\n                \\\"search.placeholder\\\": \\\"Search ...\\\"\\n            }\\n        \";\nthis.code = \"\\n            <TreeView /* ... */ labels={\\xA0labels } />\\n\\n            <script>\\n                this.labels = {\\n                    \\\"search.placeholder\\\": \\\"I am the text displayed in the search bar as a placeholder.\\\"\\n                }\\n            </script>\\n        \";\n});\n\nriot.tag2('css-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>Css classnames override.</p>\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            css: {\\n                TreeView:           \\\"TreeView\\\",\\n                opener:             \\\"opener\\\",\\n                depth:              \\\"depth\\\",\\n                selected:           \\\"selected\\\",\\n                category:           \\\"category\\\",\\n                folded:             \\\"folded\\\",\\n                disabled:           \\\"disabled\\\",\\n                async:              \\\"async\\\",\\n                loading:            \\\"loading\\\",\\n                nodrop:             \\\"nodrop\\\",\\n                dragover:           \\\"dragover\\\",\\n                search:             \\\"search\\\",\\n                item:               \\\"item\\\"\\n            }\\n        \";\nthis.code = \"\\n            <TreeView /* ... */ css={ css } />\\n\\n            <script>\\n                this.css = { TreeView: \\\"CustomTree\\\", loading: \\\"customLoading\\\" }\\n            </script>\\n        \";\n});\n\nriot.tag2('transition-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>\\n            Allows transitions by <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/riot/mixins/transition.js\">applying css classes on mount/unmount</a></em>.<br>\\n        </p>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ transition={ transition } />\\n\\n            <style>\\n                .TransitionName {\\n                    transition: opacity .3s;\\n                }\\n                .TransitionName-mount, .TransitionName-unmount {\\n                    opacity: 0;\\n                }\\n            </style>\\n            <script>\\n                /*\\n                    During the whole life of the tree, the \\\"TransitionName\\\" css class\\n                        is set on the element.\\n                    On mount the  \\\"TransitionName-mount\\\" css class is applied,\\n                        then removed next tick.\\n                    On unmount the  \\\"TransitionName-unmount\\\" css class is applied,\\n                        and the node destruction is delayed until the transition completes.\\n                 */\\n                this.transition = {\\n                     name: \\\"TransitionName\\\"\\n                }\\n            </script>\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 474:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('syntax-highlight', '    <pre class=\"{language- + language}\"><code class=\"{language- + language}\" ref=\"ref\"><yield></yield></code></pre>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _tools = __webpack_require__(16);\n\nthis.language = this.opts.language || \"javascript\";\n\nvar makePrefix = function makePrefix(i) {\n    var str = \"\";\n    for (var _ = 0; _ < i; _++) {\n        str += \" \";\n    }\n    return str;\n};\nvar offsetPrefix = this.opts.offset ? makePrefix(this.opts.offset) : \"\";\nthis.one(\"mount\", function () {\n    _this.refs.ref.textContent = (0, _tools.indent)(offsetPrefix + (_this.opts.content || _this.refs.ref.textContent));\n    window.Prism.highlightElement(_this.refs.ref);\n});\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 475:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('componentdemo', '    <div class=\"ComponentDemo section\">\\n        <h3 if=\"{componentname}\">{componentname}</h3>\\n        <p if=\"{description}\">{description}</p>\\n        <div class=\"{ComponentDemo: true, flex-container: true, expanded: expand}\">\\n            <div class=\"{ComponentDemo: true, demo-area: true, expand: expand === demo}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(demo)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === demo,                         fa-expand:    expand !== demo}\"></i>\\n                </div>\\n\\n                <div class=\"ComponentDemo padded\">\\n                    <yield></yield>\\n                </div>\\n            </div>\\n            <div class=\"{ComponentDemo: true, code: true, expand: expand === code}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(code)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === code,                         fa-expand:    expand !== code}\"></i>\\n                </div>\\n\\n                <div class=\"tabs\">\\n                    <div each=\"{file in files}\" onclick=\"{setTab(file)}\" class=\"{selected: parent.tab === file}\">\\n                        {getFileName(file)}\\n                    </div>\\n                </div>\\n\\n                <pre class=\"{language- + getPrismExtension(tab)}\"><code class=\"{language- + getPrismExtension(tab)}\" ref=\"tabContents\"></code></pre>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(67);\n\nvar _tools = __webpack_require__(16);\n\nObject.assign(this, this.opts);\nif (!this.files) this.files = [];\n\nthis.expand = \"demo\";\nthis.doExpand = function (target) {\n    return function (_) {\n        return _this.expand = _this.expand === target ? \"\" : target;\n    };\n};\n\nthis._tab = null;\nthis.setTab = function (file) {\n    return function (e) {\n        return _this.tab = file;\n    };\n};\nObject.defineProperty(this, \"tab\", {\n    configurable: true,\n    get: function get() {\n        return _this._tab || (_this.files.length > 0 ? _this.files[0] : null);\n    },\n    set: function set(file) {\n        _this._tab = file;\n        (0, _tools.loadFile)(file, function (code) {\n            _this.refs.tabContents.innerHTML = window[\"Prism\"].highlight(code, window[\"Prism\"].languages[_this.getPrismExtension(file)]);\n        });\n    }\n});\nthis.tab = this.files.length > 0 ? this.files[0] : null;\n\nthis.getFileName = function (file) {\n    return file.split(\"/\").splice(-1);\n};\nthis.getPrismExtension = function (file) {\n    var split = file.split(\".\");\n    var extension = \"javascript\";\n    if (split[split.length - 1] === \"css\") extension = \"css\";else if (split[split.length - 1] === \"ts\") extension = \"typescript\";\n    return extension;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 476:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(477);\n\n__webpack_require__(481);\n\n__webpack_require__(484);\n\n__webpack_require__(487);\n\n/***/ }),\n\n/***/ 477:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(478);\n\n__webpack_require__(480);\n\n/***/ }),\n\n/***/ 478:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeviewdemo', '\\n    <treeview opts=\"{options}\" selection=\"{opts.selection}\" onselection=\"{opts.onselection}\"></treeview>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Model\n\n// Style\n\nvar _tools = __webpack_require__(8);\n\nvar _core = __webpack_require__(10);\n\nvar _riot = __webpack_require__(6);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _TreeViewModel = __webpack_require__(75);\n\nvar _TreeViewModel2 = _interopRequireDefault(_TreeViewModel);\n\n__webpack_require__(479);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.dragImage = new Image();\nthis.dragImage.src = \"../assets/drag-image.png\";\n\n// A custom defined tag used to wrap items on display\n_riot2.default.tag(\"wrappedlabel\", \"<a>{ opts.item.label }</a>\");\n\nthis.options = {\n    // Data model\n    model: _TreeViewModel2.default,\n    // Property of the model containing children\n    category: \"items\",\n    // Wrapper tag\n    displaytag: function displaytag(item) {\n        return \"wrappedlabel\";\n    },\n    // Alphabetical sort\n    sort: function sort(a, b) {\n        return a.label.localeCompare(b.label);\n    },\n    // Search by regex\n    search: function search(input) {\n        return function (i) {\n            return (0, _tools.string)(i.label).contains(input);\n        };\n    },\n    strategies: {\n        // Use keyboard modifiers\n        selection: [\"modifiers\"],\n        // Use the opener to control element folding\n        fold: [\"opener-control\"]\n    },\n    // Custom css root class name\n    css: { TreeView: \"TreeViewDemo\" },\n    dragndrop: _extends({}, _core.dragndrop.selection(function () {\n        return _this.options.model;\n    }, function (m) {\n        _this.options.model = m;_this.update();\n    }), {\n        // Add a custom image on drag\n        drag: function drag(_, event) {\n            event.dataTransfer.setDragImage(_this.dragImage, 0, 0);\n            event.dataTransfer.setData(\"application/json\", JSON.stringify(_this.options.selection));\n        },\n        // Drop only on categories or root (excluding asynchronous promises)\n        droppable: function droppable(_) {\n            return !_ || _.items && _.items instanceof Array;\n        }\n    }),\n    // Allow css transitions on mount/unmount\n    transition: {\n        name: \"TreeViewDemoTransition\"\n    }\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 479:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 480:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('treeviewsection', '    <div>\\n        <p>\\n            <span>Demonstrates a basic usage of the TreeView component </span>\\n            <span>and how to override and use most of its </span>\\n            <em><a href=\"#TreeView#Required properties\">component props</a></em>, and&nbsp;\\n            <em><a href=\"#TreeView#Css\">css styles</a></em>.\\n        </p>\\n        <span>Featuring :</span>\\n        <ul>\\n            <li>Drag and drop, with a custom drag image.</li>\\n            <li>Asynchronous children loading</li>\\n            <li>Multiselection using keyboard modifiers (shift / ctrl or cmd)</li>\\n            <li>Transitions on fold / unfold</li>\\n            <li>Alphabetical sort</li>\\n            <li>Search bar</li>\\n        </ul>\\n    </div>\\n    <componentdemo componentname=\"Nested items\" files=\"{files}\">\\n        <div style=\"text-align: center\">\\n            <div style=\"display: inline-block; text-align: left\">\\n                <treeviewdemo selection=\"{parent.selection}\" onselection=\"{parent.onselection}\"></TreeViewDemo>\\n            </div>\\n\\n            <p>\\n                <span if=\"{parent.selection.length === 0}\">No elements are</span>\\n                <span if=\"{parent.selection.length === 1}\">One element is</span>\\n                <span if=\"{parent.selection.length > 1}\">{parent.selection.length} elements are</span>\\n                selected.\\n            </p>\\n\\n            <div class=\"select-blocks\">\\n                <button each=\"{item in parent.selection}\" onclick=\"{parent.parent.deselect(item)}\">\\n                    {item.label}\\n                </button>\\n            </div>\\n        </div>\\n    </ComponentDemo>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.files = [\"./components/Demos/TreeView/TreeViewDemo.tag\", \"./components/Demos/TreeView/TreeViewDemo.css\", \"../common/models/TreeViewModel.js\"];\n\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.deselect = function (item) {\n    return function (_) {\n        return _this.selection = _this.selection.filter(function (i) {\n            return i !== item;\n        });\n    };\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 481:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(482);\n\n/***/ }),\n\n/***/ 482:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('chucknorriscategory', '    <span class=\"value\">{item.value}\\n        <i class=\"{fa fa-refresh + (item.children.length === 0 ?  loading : )}\" onclick=\"{onClick}\">\\n        </i>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nthis.onClick = function (e) {\n    _this.item.children = [];\n    _this.item.loadJoke().then(function (joke) {\n        _this.item.children = joke;\n        _this.parent.update();\n    });\n};\n});\n\nriot.tag2('chucknorrisjoke', '    <div class=\"value\">\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.value}</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('chucknorris', '    <div>\\n       <div style=\"text-align: center; margin: 10px;\">\\n           <div>\\n               <a href=\"https://api.chucknorris.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                   <img src=\"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png\" alt=\"Chuck Norris api logo\" style=\"width: 100px; filter: drop-shadow(0 0 2px #444);\">\\n               </a>\\n           </div>\\n           <h5>A curated list of Chuck Norris jokes.</h5>\\n           <div>\\n               <button onclick=\"{init}\" class=\"ChuckNorrisButton\">Reset</button>\\n           </div>\\n            <i if=\"{categories.length === 0}\" class=\"ChuckNorrisSpinner fa fa-spinner fa-3x\"></i>\\n       </div>\\n       <treeview if=\"{categories.length > 0}\" model=\"{categories}\" category=\"children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(68);\n\nvar _models = __webpack_require__(483);\n\nthis.categories = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"], click: [\"unfold-on-selection\"] },\n    css: { TreeView: \"ChuckNorrisDemo\" }\n};\nthis.init = function () {\n    fetch(\"https://api.chucknorris.io/jokes/categories\").then(function (response) {\n        return response.json();\n    }).then(function (categories) {\n        _this.categories = categories.map(function (cat) {\n            return new _models.Category(cat);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\nthis.display = function (item) {\n    return item.display();\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 483:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Category = exports.Category = function Category(category) {\n    var _this = this;\n\n    _classCallCheck(this, Category);\n\n    this.loadJoke = function () {\n        return fetch(\"https://api.chucknorris.io/jokes/random?category=\" + _this.value).then(function (response) {\n            return response.json();\n        }).then(function (joke) {\n            return [new Joke(joke)];\n        });\n    };\n\n    this.display = function () {\n        return \"chucknorriscategory\";\n    };\n\n    this.value = category;\n    this.children = this.loadJoke;\n}\n\n// Riotjs tags are lowercased by the compiler\n;\n\nvar Joke = exports.Joke = function Joke(joke) {\n    _classCallCheck(this, Joke);\n\n    this.display = function () {\n        return \"chucknorrisjoke\";\n    };\n\n    Object.assign(this, joke);\n}\n// Riotjs tags are lowercased by the compiler\n;\n\n/***/ }),\n\n/***/ 484:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(485);\n\n/***/ }),\n\n/***/ 485:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('hackernewsfetchmore', '    <div class=\"fetchMore\" onclick=\"{more}\">\\n        <a>Load more comments</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.more = function (e) {\n    _this.opts.item.fetchKids().then(_this.parent.parent.update);\n};\n});\n\nriot.tag2('hackernewstopstories', '    <span class=\"story\">\\n        <span class=\"commentCount\"><span if=\"{item.descendants}\">({item.descendants}) </span>({item.score} points) - by <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a></span>\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">\\n            {item.title}\\n        </a>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('hackernewscomment', '    <div class=\"comment\">\\n        <div class=\"infobar\">\\n            <span class=\"commentCount\" if=\"{item.kids && item.kids.length > 0}\">({item.kids.length})</span>\\n            <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a> {item.date}\\n        </div>\\n        <div class=\"text\" if=\"{item.deleted}\"><em>Deleted.</em></div>\\n        <div class=\"text\" if=\"{!item.deleted}\" ref=\"content\"></div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nvar refreshContent = function refreshContent() {\n        return _this.refs.content.innerHTML = _this.item.text;\n};\nthis.on(\"update\", refreshContent);\nthis.one(\"mount\", refreshContent);\n});\n\nriot.tag2('hackernews', '    <div>\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://news.ycombinator.com\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"http://www.ycombinator.com/images/ycombinator-logo-fb889e2e.png\" alt=\"HackerNews logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>The top 10 stories from HackerNews.</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"HackerNewsButton\">Reset</button>\\n            </div>\\n            <i if=\"{stories.length === 0}\" class=\"HackerNewsSpinner fa fa-spinner fa-3x\"></i>\\n        </div>\\n        <treeview if=\"{stories.length > 0}\" model=\"{stories}\" category=\"children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></TreeView>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(69);\n\nvar _models = __webpack_require__(486);\n\nthis.stories = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"] },\n    css: { TreeView: \"HackerNewsDemo\" }\n};\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    fetch(\"https://hacker-news.firebaseio.com/v0/beststories.json\").then(function (response) {\n        return response.json();\n    }).then(function (topStories) {\n        return (0, _models.fetchLast)(topStories, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        });\n    }).then(function (topStories) {\n        _this.stories = topStories.map(function (story) {\n            return new _models.TopStory(story);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 486:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Comment = exports.TopStory = exports.fetchLast = undefined;\n\nvar _sanitizeHtml = __webpack_require__(70);\n\nvar _sanitizeHtml2 = _interopRequireDefault(_sanitizeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar fetchLast = exports.fetchLast = function fetchLast(arr, getUrl) {\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n    var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    return Promise.all(arr.slice(offset, offset + limit).map(function (_) {\n        return fetch(getUrl(_)).then(function (response) {\n            return response.json();\n        });\n    }));\n};\n\nvar Item = function () {\n    function Item(data) {\n        var _this = this;\n\n        _classCallCheck(this, Item);\n\n        this.offset = 0;\n        this.fetchLimit = 5;\n\n        Object.assign(this, data);\n        if (this.kids) {\n            this.children = function () {\n                return _this.fetchKids();\n            };\n        }\n    }\n\n    Item.prototype.fetchKids = function fetchKids() {\n        var _this2 = this;\n\n        if (this.children instanceof Array && this.children[this.children.length - 1].id === -1) this.children = this.children.slice(0, this.children.length - 1);\n        return fetchLast(this.kids, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        }, this.fetchLimit, this.offset).then(function (kids) {\n            var result = kids.map(function (k) {\n                return new Comment(k);\n            });\n            _this2.offset += _this2.fetchLimit;\n            if (_this2.offset < _this2.kids.length) {\n                result.push({\n                    id: -1,\n                    fetchKids: function fetchKids() {\n                        return _this2.fetchKids().then(function (_) {\n                            if (_this2.children instanceof Array) _this2.children = [].concat(_this2.children, _);\n                        });\n                    },\n                    // Riotjs tags are lowercased by the compiler\n                    display: function display() {\n                        return \"hackernewsfetchmore\";\n                    }\n                });\n            }\n            return result;\n        });\n    };\n\n    return Item;\n}();\n\nvar TopStory = exports.TopStory = function (_Item) {\n    _inherits(TopStory, _Item);\n\n    function TopStory() {\n        var _temp, _this3, _ret;\n\n        _classCallCheck(this, TopStory);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, _Item.call.apply(_Item, [this].concat(args))), _this3), _this3.display = function () {\n            return \"hackernewstopstories\";\n        }, _temp), _possibleConstructorReturn(_this3, _ret);\n    }\n    // Riotjs tags are lowercased by the compiler\n\n\n    return TopStory;\n}(Item);\n\nvar Comment = exports.Comment = function (_Item2) {\n    _inherits(Comment, _Item2);\n\n    function Comment(data) {\n        _classCallCheck(this, Comment);\n\n        var _this4 = _possibleConstructorReturn(this, _Item2.call(this, data));\n\n        _this4.display = function () {\n            return \"hackernewscomment\";\n        };\n\n        _this4.text = (0, _sanitizeHtml2.default)(_this4.text);\n        _this4.date = new Date(_this4.time * 1000).toLocaleDateString();\n        return _this4;\n    }\n\n    // Riotjs tags are lowercased by the compiler\n\n\n    return Comment;\n}(Item);\n\n/***/ }),\n\n/***/ 487:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(488);\n\n/***/ }),\n\n/***/ 488:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(6)\n    riot.tag2('pokeapisubcategory', '    <span class=\"subcategory\">{opts.item.name}</span>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapiitem', '    <div class=\"{subsection : opts.item.__subsection}\">\\n        <img if=\"{opts.item.__image}\" riot-src=\"{opts.item.__image}\" alt=\"sprite\">\\n        <div class=\"property-row\" each=\"{prop in filterProps()}\">\\n            <label>{prop}</label><span>{ + parent.opts.item[prop]}</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _this = this;\n\nthis.filterProps = function () {\n    var props = Object.getOwnPropertyNames(_this.opts.item);\n    return props.filter(function (prop) {\n        return !prop.startsWith(\"__\") && !(_typeof(_this[prop]) === \"object\") && !(typeof _this[prop] === \"function\");\n    });\n};\n});\n\nriot.tag2('pokemondisplay', '    <virtual>{opts.item.name} </virtual>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapi', '    <div style=\"position: relative;\">\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://pokeapi.co/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"https://avatars3.githubusercontent.com/u/19692032?v=4&s=200\" alt=\"Pokapi logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>Pokmon API crawler</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"PokeapiButton\">Reset</button>\\n            </div>\\n        </div>\\n        <treeview model=\"{data}\" category=\"__children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\" disable=\"{conf.disable}\" search=\"{conf.search}\"></treeview>\\n        <div class=\"{PokeapiLoadMore: true, center-text: true, loading: loading}\" riot-style=\"{display: + loadUrl ? block : none}\" onclick=\"{loadMorePokemons}\">\\n            <i class=\"fa fa-spinner fa-2x\" if=\"{loading}\"></i>\\n            <span if=\"{!loading}\">Show more pokmons</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\n__webpack_require__(74);\n\nvar _models = __webpack_require__(489);\n\nthis.conf = {\n    strategies: { fold: [\"opener-control\", function (_) {\n            return !_.__subsection;\n        }], click: [\"toggle-fold\"] },\n    css: { TreeView: \"PokeapiDemo\" },\n    disable: function disable(_) {\n        return _.__children && _.__children instanceof Array && _.__children.length === 0;\n    },\n    search: function search(input) {\n        return function (item) {\n            return item.name && item.name.startsWith(input);\n        };\n    }\n};\nthis.data = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.loading = false;\nthis.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    _this.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: _ });\n    });\n};\nthis.one(\"mount\", this.init);\n\nthis.loadPokemons = function () {\n    if (!_this.loadUrl) return;\n    _this.loading = true;\n    return (0, _models.cachedFetch)(_this.loadUrl).then(function (json) {\n        _this.loadUrl = json.next;\n        _this.loading = false;\n        return json.results.map(function (i) {\n            return _extends({}, i, {\n                display: function display() {\n                    return \"pokemondisplay\";\n                },\n                __children: function __children() {\n                    return (0, _models.cachedFetch)(i.url).then(function (json) {\n                        return [new _models.Item(json)];\n                    });\n                }\n            });\n        });\n    }).catch(function (err) {\n        return _this.loading = false;\n    });\n};\nthis.loadMorePokemons = function () {\n    if (_this.loading) return;\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: [].concat(_this.data, _) });\n    });\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 489:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Item = exports.Item = function () {\n    function Item(data) {\n        _classCallCheck(this, Item);\n\n        Object.assign(this, formatData(data));\n    }\n\n    Item.prototype.display = function display() {\n        return this.name && this.url ? \"pokeapisubcategory\" : \"pokeapiitem\";\n    };\n\n    return Item;\n}();\n\nvar cache = new Map();\nvar cachedFetch = exports.cachedFetch = function cachedFetch(url) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    if (cache.has(url)) return Promise.resolve(cache.get(url));\n    return fetch.apply(undefined, [url].concat(args)).then(function (response) {\n        return response.json();\n    }).then(function (json) {\n        cache.set(url, json);\n        return json;\n    });\n};\n\nvar imageMatch = function imageMatch(name, val) {\n    return name === \"sprites\" && val.front_default;\n};\n\nvar formatData = function formatData(d) {\n    var data = _extends({}, d);\n    if (data.url) {\n        var url = data.url;\n        data.__children = function () {\n            return cachedFetch(url).then(function (json) {\n                return [new Item(json)];\n            });\n        };\n        return data;\n    }\n    data.__subsection = true;\n    for (var prop in data) {\n        if (prop.startsWith(\"__\")) continue;\n\n        if (data[prop] instanceof Array) {\n            if (!data.__children) data.__children = [];\n            data.__children.push({\n                name: \"\" + prop,\n                display: function display() {\n                    return \"pokeapisubcategory\";\n                },\n                __children: data[prop].map(function (_) {\n                    return new Item(_);\n                })\n            });\n            delete data[prop];\n        } else if (data[prop] && _typeof(data[prop]) === \"object\") {\n            if (!data.__children) data.__children = [];\n            if (data[prop].url && data[prop].name) {\n                (function () {\n                    var name = data[prop].name;\n                    var url = data[prop].url;\n                    data.__children.push({\n                        name: name,\n                        display: function display() {\n                            return \"pokeapisubcategory\";\n                        },\n                        __children: function __children() {\n                            return cachedFetch(url).then(function (json) {\n                                return [new Item(json)];\n                            });\n                        }\n                    });\n                })();\n            } else {\n                data.__children.push({\n                    name: \"\" + prop,\n                    display: function display() {\n                        return \"pokeapisubcategory\";\n                    },\n                    __children: [new Item(data[prop])]\n                });\n            }\n            var img = imageMatch(prop, data[prop]);\n            if (img) data.__image = img;\n            delete data[prop];\n        }\n    }\n    return data;\n};\n\n/***/ }),\n\n/***/ 6:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* Riot v3.7.3, @license MIT */\n(function (global, factory) {\n\t true ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.riot = {})));\n}(this, (function (exports) { 'use strict';\n\nvar __TAGS_CACHE = [];\nvar __TAG_IMPL = {};\nvar YIELD_TAG = 'yield';\nvar GLOBAL_MIXIN = '__global_mixin';\nvar ATTRS_PREFIX = 'riot-';\nvar REF_DIRECTIVES = ['ref', 'data-ref'];\nvar IS_DIRECTIVE = 'data-is';\nvar CONDITIONAL_DIRECTIVE = 'if';\nvar LOOP_DIRECTIVE = 'each';\nvar LOOP_NO_REORDER_DIRECTIVE = 'no-reorder';\nvar SHOW_DIRECTIVE = 'show';\nvar HIDE_DIRECTIVE = 'hide';\nvar KEY_DIRECTIVE = 'key';\nvar RIOT_EVENTS_KEY = '__riot-events__';\nvar T_STRING = 'string';\nvar T_OBJECT = 'object';\nvar T_UNDEF  = 'undefined';\nvar T_FUNCTION = 'function';\nvar XLINK_NS = 'http://www.w3.org/1999/xlink';\nvar SVG_NS = 'http://www.w3.org/2000/svg';\nvar XLINK_REGEX = /^xlink:(\\w+)/;\nvar WIN = typeof window === T_UNDEF ? undefined : window;\nvar RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;\nvar RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;\nvar RE_EVENTS_PREFIX = /^on/;\nvar RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g;\nvar CASE_SENSITIVE_ATTRIBUTES = {\n    'viewbox': 'viewBox',\n    'preserveaspectratio': 'preserveAspectRatio'\n  };\nvar RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;\nvar IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(list, fn) {\n  var len = list ? list.length : 0;\n  var i = 0;\n  for (; i < len; i++) { fn(list[i], i); }\n  return list\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nfunction contains(array, item) {\n  return array.indexOf(item) !== -1\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(str) {\n  return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nfunction startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  return el\n}\n\n/**\n * Function returning always a unique identifier\n * @returns { Number } - number from 0...n\n */\nvar uid = (function() {\n  var i = 0;\n  return function () { return ++i; }\n})();\n\n/**\n * Short alias for Object.getOwnPropertyDescriptor\n */\nvar getPropDescriptor = function (o, k) { return Object.getOwnPropertyDescriptor(o, k); };\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj;\n  var i = 1;\n  var args = arguments;\n  var l = args.length;\n\n  for (; i < l; i++) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          { src[key] = obj[key]; }\n      }\n    }\n  }\n  return src\n}\n\nvar misc = Object.freeze({\n\teach: each,\n\tcontains: contains,\n\ttoCamel: toCamel,\n\tstartsWith: startsWith,\n\tdefineProperty: defineProperty,\n\tuid: uid,\n\tgetPropDescriptor: getPropDescriptor,\n\textend: extend\n});\n\n/**\n * Check if the passed argument is a boolean attribute\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}\n\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isFunction(value) {\n  return typeof value === T_FUNCTION\n}\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isUndefined(value) {\n  return typeof value === T_UNDEF\n}\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isString(value) {\n  return typeof value === T_STRING\n}\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nfunction isBlank(value) {\n  return isNil(value) || value === ''\n}\n\n/**\n * Check against the null and undefined values\n * @param   { * }  value -\n * @returns {Boolean} -\n */\nfunction isNil(value) {\n  return isUndefined(value) || value === null\n}\n\n/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}\n\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } true if writable\n */\nfunction isWritable(obj, key) {\n  var descriptor = getPropDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n\n\nvar check = Object.freeze({\n\tisBoolAttr: isBoolAttr,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tisUndefined: isUndefined,\n\tisString: isString,\n\tisBlank: isBlank,\n\tisNil: isNil,\n\tisArray: isArray,\n\tisWritable: isWritable\n});\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return Array.prototype.slice.call((ctx || document).querySelectorAll(selector))\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nfunction createFrag() {\n  return document.createDocumentFragment()\n}\n\n/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nfunction createDOMPlaceholder() {\n  return document.createTextNode('')\n}\n\n/**\n * Check if a DOM node is an svg tag\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nfunction isSvg(el) {\n  return !!el.ownerSVGElement\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - true if we need to use an svg node\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n */\n/* istanbul ignore next */\nfunction setInnerHTML(container, html) {\n  if (!isUndefined(container.innerHTML))\n    { container.innerHTML = html; }\n    // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml');\n    var node = container.ownerDocument.importNode(doc.documentElement, true);\n    container.appendChild(node);\n  }\n}\n\n/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nfunction toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none';\n  dom.hidden = show ? false : true;\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name);\n}\n\n/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nfunction styleObjectToString(style) {\n  return Object.keys(style).reduce(function (acc, prop) {\n    return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n  }, '')\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  var xlink = XLINK_REGEX.exec(name);\n  if (xlink && xlink[1])\n    { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n  else\n    { dom.setAttribute(name, val); }\n}\n\n/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nfunction safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next);\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttrs(html, fn) {\n  if (!html) { return }\n  var m;\n  while (m = RE_HTML_ATTRS.exec(html))\n    { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nfunction walkNodes(dom, fn, context) {\n  if (dom) {\n    var res = fn(dom, context);\n    var next;\n    // stop the recursion\n    if (res === false) { return }\n\n    dom = dom.firstChild;\n\n    while (dom) {\n      next = dom.nextSibling;\n      walkNodes(dom, fn, res);\n      dom = next;\n    }\n  }\n}\n\nvar dom = Object.freeze({\n\t$$: $$,\n\t$: $,\n\tcreateFrag: createFrag,\n\tcreateDOMPlaceholder: createDOMPlaceholder,\n\tisSvg: isSvg,\n\tmkEl: mkEl,\n\tsetInnerHTML: setInnerHTML,\n\ttoggleVisibility: toggleVisibility,\n\tremAttr: remAttr,\n\tstyleObjectToString: styleObjectToString,\n\tgetAttr: getAttr,\n\tsetAttr: setAttr,\n\tsafeInsert: safeInsert,\n\twalkAttrs: walkAttrs,\n\twalkNodes: walkNodes\n});\n\nvar styleNode;\n// Create cache and shortcut to the correct property\nvar cssTextProp;\nvar byName = {};\nvar remainder = [];\nvar needsInject = false;\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = ((function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style');\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]');\n\n    setAttr(newNode, 'type', 'text/css');\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) { newNode.id = userNode.id; }\n      userNode.parentNode.replaceChild(newNode, userNode);\n    } else { document.getElementsByTagName('head')[0].appendChild(newNode); }\n\n    return newNode\n  }))();\n  cssTextProp = styleNode.styleSheet;\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = {\n  styleNode: styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add: function add(css, name) {\n    if (name) { byName[name] = css; }\n    else { remainder.push(css); }\n    needsInject = true;\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject: function inject() {\n    if (!WIN || !needsInject) { return }\n    needsInject = false;\n    var style = Object.keys(byName)\n      .map(function (k) { return byName[k]; })\n      .concat(remainder).join('\\n');\n    /* istanbul ignore next */\n    if (cssTextProp) { cssTextProp.cssText = style; }\n    else { styleNode.innerHTML = style; }\n  }\n};\n\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ];\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '');\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n  var RE_VN_CHAR = /[$\\w]/;\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos])){  }\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g;\n    var pos = re.lastIndex = start++;\n    var match = re.exec(code)[0].match(RE_REGEX);\n\n    if (match) {\n      var next = pos + match[0].length;\n\n      pos = prev(code, pos);\n      var c = code[pos];\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next;\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next;\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1;\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){  }\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next;\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})();\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\n/* istanbul ignore next */\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }';\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ];\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings;\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) { bp = _cache; }\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) { return _pairs }\n\n    var arr = pair.split(' ');\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n    arr[6] = _rewrite(_pairs[6], arr);\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n    arr[8] = pair;\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) { _bp = _cache; }\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6];\n\n    var qblocks = [];\n    var prevStr = '';\n    var mark, lastIndex;\n\n    isexpr = start = re.lastIndex = 0;\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex;\n      pos = match.index;\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2];\n          var rech = FINDBRACES[ch];\n          var ix = 1;\n\n          rech.lastIndex = lastIndex;\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) { ++ix; }\n              else if (!--ix) { break }\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex;\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos));\n        start = re.lastIndex;\n        re = _bp[6 + (isexpr ^= 1)];\n        re.lastIndex = start;\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start));\n    }\n\n    parts.qblocks = qblocks;\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s;\n        prevStr = '';\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'));\n      } else {\n        parts.push(s);\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos);\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~';\n        qblocks.push(str.slice(_pos, _lastIndex));\n        prevStr += str.slice(start, _pos) + mark;\n        start = _lastIndex;\n      }\n      return _lastIndex\n    }\n  };\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  };\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9]);\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  };\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  };\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair);\n      _regex = pair === DEFAULT ? _loopback : _rewrite;\n      _cache[9] = _regex(_pairs[9]);\n    }\n    cachedBrackets = pair;\n  }\n\n  function _setSettings (o) {\n    var b;\n\n    o = o || {};\n    b = o.brackets;\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    });\n    _settings = o;\n    _reset(b);\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  });\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n  _brackets.set = _reset;\n  _brackets.skipRegex = skipRegex;\n\n  _brackets.R_STRINGS = R_STRINGS;\n  _brackets.R_MLCOMMS = R_MLCOMMS;\n  _brackets.S_QBLOCKS = S_QBLOCKS;\n  _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n  return _brackets\n\n})();\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\n/* istanbul ignore next */\nvar tmpl = (function () {\n\n  var _cache = {};\n\n  function _tmpl (str, data) {\n    if (!str) { return str }\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr;\n\n  _tmpl.loopKeys = brackets.loopKeys;\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {}; };\n\n  _tmpl.errorHandler = null;\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    };\n\n    if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message);\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n      console.log(this.data); // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str);\n\n    if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g;\n  var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n    var qstr = parts.qblocks;\n    var expr;\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = [];\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i];\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) { list[j++] = expr; }\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")';\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr);\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      });\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    };\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match;\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g;\n\n        expr = RegExp.rightContext;\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n        while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n        jsb  = expr.slice(0, match.index);\n        expr = RegExp.rightContext;\n\n        list[cnt++] = _wrapExpr(jsb, 1, key);\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch];\n\n      ir.lastIndex = re.lastIndex;\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) { ++lv; }\n        else if (!--lv) { break }\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex;\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n  function _wrapExpr (expr, asText, key) {\n    var tb;\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length;\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n          if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos));\n        }\n      }\n      return match\n    });\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"';\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)';\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8';\n\n  return _tmpl\n\n})();\n\n/* istanbul ignore next */\nvar observable$1 = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {};\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice;\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          { (callbacks[event] = callbacks[event] || []).push(fn); }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) { callbacks = {}; }\n        else {\n          if (fn) {\n            var arr = callbacks[event];\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) { arr.splice(i--, 1); }\n            }\n          } else { delete callbacks[event]; }\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on);\n          fn.apply(el, arguments);\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n        var arguments$1 = arguments;\n\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i;\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments$1[i + 1]; // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0);\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args);\n        }\n\n        if (callbacks['*'] && event != '*')\n          { el.trigger.apply(el, ['*', event].concat(args)); }\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  });\n\n  return el\n\n};\n\nvar settings$1 = extend(Object.create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n});\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  var ptag = this.__.parent;\n  var item = this.__.item;\n\n  if (!item)\n    { while (ptag && !item) {\n      item = ptag.__.item;\n      ptag = ptag.__.parent;\n    } }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) { e.target = e.srcElement; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n  e.item = item;\n\n  handler.call(this, e);\n\n  // avoid auto updates\n  if (!settings$1.autoUpdate) { return }\n\n  if (!e.preventUpdate) {\n    var p = getImmediateCustomParentTag(this);\n    // fixes #2083\n    if (p.isMounted) { p.update(); }\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n  var eventName;\n  var cb = handleEvent.bind(tag, dom, handler);\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null;\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n  if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n  if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n  dom[RIOT_EVENTS_KEY][name] = cb;\n  dom.addEventListener(eventName, cb, false);\n}\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nfunction updateDataIs(expr, parent, tagName) {\n  var tag = expr.tag || expr.dom._tag;\n  var ref;\n\n  var ref$1 = tag ? tag.__ : {};\n  var head = ref$1.head;\n  var isVirtual = expr.dom.tagName === 'VIRTUAL';\n\n  if (tag && expr.tagName === tagName) {\n    tag.update();\n    return\n  }\n\n  // sync _parent to accommodate changing tagnames\n  if (tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      ref = createDOMPlaceholder();\n      head.parentNode.insertBefore(ref, head);\n    }\n\n    tag.unmount(true);\n  }\n\n  // unable to get the tag name\n  if (!isString(tagName)) { return }\n\n  expr.impl = __TAG_IMPL[tagName];\n\n  // unknown implementation\n  if (!expr.impl) { return }\n\n  expr.tag = tag = initChildTag(\n    expr.impl, {\n      root: expr.dom,\n      parent: parent,\n      tagName: tagName\n    },\n    expr.dom.innerHTML,\n    parent\n  );\n\n  each(expr.attrs, function (a) { return setAttr(tag.root, a.name, a.value); });\n  expr.tagName = tagName;\n  tag.mount();\n\n  // root exist first time, after use placeholder\n  if (isVirtual) { makeReplaceVirtual(tag, ref || tag.root); }\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = function () {\n    var delName = tag.opts.dataIs;\n    arrayishRemove(tag.parent.tags, delName, tag);\n    arrayishRemove(tag.__.parent.tags, delName, tag);\n    tag.unmount();\n  };\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nfunction normalizeAttrName(attrName) {\n  if (!attrName) { return null }\n  attrName = attrName.replace(ATTRS_PREFIX, '');\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nfunction updateExpression(expr) {\n  if (this.root && getAttr(this.root,'virtualized')) { return }\n\n  var dom = expr.dom;\n  // remove the riot- prefix\n  var attrName = normalizeAttrName(expr.attr);\n  var isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName);\n  var isVirtual = expr.root && expr.root.tagName === 'VIRTUAL';\n  var ref = this.__;\n  var isAnonymous = ref.isAnonymous;\n  var parent = dom && (expr.parent || dom.parentNode);\n  // detect the style attributes\n  var isStyleAttr = attrName === 'style';\n  var isClassAttr = attrName === 'class';\n\n  var value;\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.__.wasCreated) {\n      expr.update();\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount();\n      if (isVirtual) {\n        makeReplaceVirtual(expr, expr.root);\n      }\n    }\n    return\n  }\n\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) { return expr.update() }\n\n  var context = isToggle && !isAnonymous ? extend(Object.create(this), this.parent) : this;\n\n  // ...it seems to be a simple expression so we try to calculate its value\n  value = tmpl(expr.expr, context);\n\n  var hasValue = !isBlank(value);\n  var isObj = isObject(value);\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this);\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value);\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.wasParsedOnce || !hasValue || value === false)) {\n    // remove either riot-* attributes or just the attribute name\n    remAttr(dom, getAttr(dom, expr.attr) ? expr.attr : attrName);\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) { value = value ? attrName : false; }\n  if (expr.isRtag) { return updateDataIs(expr, this, value) }\n  if (expr.wasParsedOnce && expr.value === value) { return }\n\n  // update the expression value\n  expr.value = value;\n  expr.wasParsedOnce = true;\n\n  // if the value is an object (and it's not a style or class attribute) we can not do much more with it\n  if (isObj && !isClassAttr && !isStyleAttr && !isToggle) { return }\n  // avoid to render undefined/null values\n  if (!hasValue) { value = ''; }\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += '';\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent;\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value;                    // #1113\n        if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else { dom.nodeValue = value; }\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this);\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value;\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value;\n    } else if (hasValue && value !== false) {\n      setAttr(dom, attrName, value);\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nfunction updateAllExpressions(expressions) {\n  each(expressions, updateExpression.bind(this));\n}\n\nvar IfExpr = {\n  init: function init(dom, tag, expr) {\n    remAttr(dom, CONDITIONAL_DIRECTIVE);\n    this.tag = tag;\n    this.expr = expr;\n    this.stub = createDOMPlaceholder();\n    this.pristine = dom;\n\n    var p = dom.parentNode;\n    p.insertBefore(this.stub, dom);\n    p.removeChild(dom);\n\n    return this\n  },\n  update: function update() {\n    this.value = tmpl(this.expr, this.tag);\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true);\n      this.stub.parentNode.insertBefore(this.current, this.stub);\n      this.expressions = [];\n      parseExpressions.apply(this.tag, [this.current, this.expressions, true]);\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions);\n      if (this.current._tag) {\n        this.current._tag.unmount();\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current);\n      }\n      this.current = null;\n      this.expressions = [];\n    }\n\n    if (this.value) { updateAllExpressions.call(this.tag, this.expressions); }\n  },\n  unmount: function unmount() {\n    unmountAll(this.expressions || []);\n  }\n};\n\nvar RefExpr = {\n  init: function init(dom, parent, attrName, attrValue) {\n    this.dom = dom;\n    this.attr = attrName;\n    this.rawValue = attrValue;\n    this.parent = parent;\n    this.hasExp = tmpl.hasExpr(attrValue);\n    return this\n  },\n  update: function update() {\n    var old = this.value;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) { arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      ); }\n\n      if (this.value !== old) {\n        setAttr(this.dom, this.attr, this.value);\n      }\n    } else {\n      remAttr(this.dom, this.attr);\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n  },\n  unmount: function unmount() {\n    var tagOrDom = this.tag || this.dom;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    if (!isBlank(this.value) && customParent)\n      { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n  }\n};\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  var item = base ? Object.create(base) : {};\n  item[expr.key] = key;\n  if (expr.pos) { item[expr.pos] = val; }\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  var i = tags.length;\n  var j = items.length;\n\n  while (i > j) {\n    i--;\n    remove.apply(tags[i], [tags, i]);\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1);\n  this.unmount();\n  arrayishRemove(this.parent, this, this.__.tagName, true);\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  var this$1 = this;\n\n  each(Object.keys(this.tags), function (tagName) {\n    moveChildTag.apply(this$1.tags[tagName], [tagName, i]);\n  });\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { moveVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.call(this, root); }\n  else\n    { root.appendChild(this.root); }\n}\n\n/**\n * Return the value we want to use to lookup the postion of our items in the collection\n * @param   { String }  keyAttr         - lookup string or expression\n * @param   { * }       originalItem    - original item from the collection\n * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n * @returns { * } value that we will use to figure out the item position via collection.indexOf\n */\nfunction getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n  if (keyAttr) {\n    return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n  }\n\n  return originalItem\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nfunction _each(dom, parent, expr) {\n  var mustReorder = typeof getAttr(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || remAttr(dom, LOOP_NO_REORDER_DIRECTIVE);\n  var keyAttr = getAttr(dom, KEY_DIRECTIVE);\n  var hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false;\n  var tagName = getTagName(dom);\n  var impl = __TAG_IMPL[tagName];\n  var parentNode = dom.parentNode;\n  var placeholder = createDOMPlaceholder();\n  var child = getTag(dom);\n  var ifExpr = getAttr(dom, CONDITIONAL_DIRECTIVE);\n  var tags = [];\n  var isLoop = true;\n  var innerHTML = dom.innerHTML;\n  var isAnonymous = !__TAG_IMPL[tagName];\n  var isVirtual = dom.tagName === 'VIRTUAL';\n  var oldItems = [];\n  var hasKeys;\n\n  // remove the each property from the original tag\n  remAttr(dom, LOOP_DIRECTIVE);\n  remAttr(dom, KEY_DIRECTIVE);\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr);\n  expr.isLoop = true;\n\n  if (ifExpr) { remAttr(dom, CONDITIONAL_DIRECTIVE); }\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom);\n  parentNode.removeChild(dom);\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent);\n\n    var items = expr.value;\n    var frag = createFrag();\n    var isObject$$1 = !isArray(items) && !isString(items);\n    var root = placeholder.parentNode;\n    var tmpItems = [];\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) { return }\n\n    // object loop. any changes cause full redraw\n    if (isObject$$1) {\n      hasKeys = items || false;\n      items = hasKeys ?\n        Object.keys(items).map(function (key) { return mkitem(expr, items[key], key); }) : [];\n    } else {\n      hasKeys = false;\n    }\n\n    if (ifExpr) {\n      items = items.filter(function (item, i) {\n        if (expr.key && !isObject$$1)\n          { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n        return !!tmpl(ifExpr, extend(Object.create(parent), item))\n      });\n    }\n\n    // loop all the new items\n    each(items, function (_item, i) {\n      var item = !hasKeys && expr.key ? mkitem(expr, _item, i) : _item;\n      var itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr);\n      // reorder only if the items are objects\n      var doReorder = mustReorder && typeof _item === T_OBJECT && !hasKeys;\n      var oldPos = oldItems.indexOf(itemId);\n      var isNew = oldPos === -1;\n      var pos = !isNew && doReorder ? oldPos : i;\n      // does a tag exist in this position?\n      var tag = tags[pos];\n      var mustAppend = i >= oldItems.length;\n      var mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n      // new tag\n      if (mustCreate) {\n        tag = createTag(impl, {\n          parent: parent,\n          isLoop: isLoop,\n          isAnonymous: isAnonymous,\n          tagName: tagName,\n          root: dom.cloneNode(isAnonymous),\n          item: item,\n          index: i,\n        }, innerHTML);\n\n        // mount the tag\n        tag.mount();\n\n        if (mustAppend)\n          { append.apply(tag, [frag || root, isVirtual]); }\n        else\n          { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n        if (!mustAppend) { oldItems.splice(i, 0, item); }\n        tags.splice(i, 0, tag);\n        if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n      } else if (pos !== i && doReorder) {\n        // move\n        if (keyAttr || contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual]);\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0]);\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) { tag[expr.pos] = i; }\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag.__.item = item;\n      tag.__.index = i;\n      tag.__.parent = parent;\n\n      tmpItems[i] = itemId;\n\n      if (!mustCreate) { tag.update(item); }\n    });\n\n    // remove the redundant tags\n    unmountRedundant(items, tags);\n\n    // clone the items array\n    oldItems = tmpItems.slice();\n\n    root.insertBefore(frag, placeholder);\n  };\n\n  expr.unmount = function () {\n    each(tags, function (t) { t.unmount(); });\n  };\n\n  return expr\n}\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Array } expressions - empty array where the expressions will be added\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Object } an object containing the root noode and the dom tree\n */\nfunction parseExpressions(root, expressions, mustIncludeRoot) {\n  var this$1 = this;\n\n  var tree = {parent: {children: expressions}};\n\n  walkNodes(root, function (dom, ctx) {\n    var type = dom.nodeType;\n    var parent = ctx.parent;\n    var attr;\n    var expr;\n    var tagImpl;\n\n    if (!mustIncludeRoot && dom === root) { return {parent: parent} }\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      { parent.children.push({dom: dom, expr: dom.nodeValue}); }\n\n    if (type !== 1) { return ctx } // not an element\n\n    var isVirtual = dom.tagName === 'VIRTUAL';\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttr(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) { setAttr(dom, 'loopVirtual', true); } // ignore here, handled in _each\n      parent.children.push(_each(dom, this$1, attr));\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttr(dom, CONDITIONAL_DIRECTIVE)) {\n      parent.children.push(Object.create(IfExpr).init(dom, this$1, attr));\n      return false\n    }\n\n    if (expr = getAttr(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(expr)) {\n        parent.children.push({\n          isRtag: true,\n          expr: expr,\n          dom: dom,\n          attrs: [].slice.call(dom.attributes)\n        });\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom);\n    if(isVirtual) {\n      if(getAttr(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n      if(!tagImpl && !getAttr(dom, 'virtualized') && !getAttr(dom, 'loopVirtual'))  // ok to create virtual tag\n        { tagImpl = { tmpl: dom.outerHTML }; }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual && !getAttr(dom, IS_DIRECTIVE)) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttr(dom, 'virtualized', true);\n        var tag = createTag(\n          {tmpl: dom.outerHTML},\n          {root: dom, parent: this$1},\n          dom.innerHTML\n        );\n        parent.children.push(tag); // no return, anonymous tag, keep parsing\n      } else {\n        parent.children.push(\n          initChildTag(\n            tagImpl,\n            {\n              root: dom,\n              parent: this$1\n            },\n            dom.innerHTML,\n            this$1\n          )\n        );\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this$1, [dom, dom.attributes, function (attr, expr) {\n      if (!expr) { return }\n      parent.children.push(expr);\n    }]);\n\n    // whatever the parent is, all child elements get the same parent.\n    // If this element had an if-attr, that's the parent for all child elements\n    return {parent: parent}\n  }, tree);\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nfunction parseAttributes(dom, attrs, fn) {\n  var this$1 = this;\n\n  each(attrs, function (attr) {\n    if (!attr) { return false }\n\n    var name = attr.name;\n    var bool = isBoolAttr(name);\n    var expr;\n\n    if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n      expr =  Object.create(RefExpr).init(dom, this$1, name, attr.value);\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n    }\n\n    fn(attr, expr);\n  });\n}\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nvar reHasYield  = /<yield\\b/i;\nvar reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig;\nvar reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig;\nvar reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig;\nvar rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' };\nvar tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION;\nvar GENERIC = 'div';\nvar SVG = 'svg';\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  var\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>';\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n  parent = el.firstChild;\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    var tname = rootEls[tagName];\n    if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) { return tmpl }\n\n  // be careful with #1343 - string on the source having `$1`\n  var src = {};\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text;   // preserve first definition\n    return ''\n  }).trim();\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nfunction mkdom(tmpl, html, isSvg$$1) {\n  var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/);\n  var  tagName = match && match[1].toLowerCase();\n  var el = mkEl(isSvg$$1 ? SVG : GENERIC);\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html);\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    { el = specialTags(el, tmpl, tagName); }\n  else\n    { setInnerHTML(el, tmpl); }\n\n  return el\n}\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nfunction Tag$1(el, opts) {\n  // get the tag properties from the class constructor\n  var ref = this;\n  var name = ref.name;\n  var tmpl = ref.tmpl;\n  var css = ref.css;\n  var attrs = ref.attrs;\n  var onCreate = ref.onCreate;\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag$1(name, tmpl, css, attrs, onCreate);\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor;\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this);\n  // inject the component css\n  if (css) { styleManager.inject(); }\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag$1(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs;\n\n    if (/^[\\w-]+\\s?=/.test(css)) {\n      attrs = css;\n      css = '';\n    } else\n      { attrs = ''; }\n  }\n\n  if (css) {\n    if (isFunction(css))\n      { fn = css; }\n    else\n      { styleManager.add(css); }\n  }\n\n  name = name.toLowerCase();\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag2$1(name, tmpl, css, attrs, fn) {\n  if (css) { styleManager.add(css, name); }\n\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nfunction mount$1(selector, tagName, opts) {\n  var tags = [];\n  var elem, allTags;\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, IS_DIRECTIVE), tag;\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName;\n        setAttr(root, IS_DIRECTIVE, tagName);\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts);\n\n      if (tag)\n        { tags.push(tag); }\n    } else if (root.length)\n      { each(root, pushTagsTo); } // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject();\n\n  if (isObject(tagName)) {\n    opts = tagName;\n    tagName = 0;\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = selectTags() :\n      // or just the ones named like the selector\n      selector + selectTags(selector.split(/, */));\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : [];\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    { elem = selector; }\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectTags();\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      { elem = $$(tagName, elem); }\n    else {\n      // select all the children for all the different root elements\n      var nodeList = [];\n\n      each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n      elem = nodeList;\n    }\n    // get rid of the tagName\n    tagName = 0;\n  }\n\n  pushTagsTo(elem);\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nvar mixins = {};\nvar globals = mixins[GLOBAL_MIXIN] = {};\nvar mixins_id = 0;\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nfunction mixin$1(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin$1((\"__\" + (mixins_id++) + \"__\"), name, true);\n    return\n  }\n\n  var store = g ? globals : mixins;\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      { throw new Error((\"Unregistered mixin: \" + name)) }\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix);\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nfunction update$1() {\n  return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n}\n\nfunction unregister$1(name) {\n  __TAG_IMPL[name] = null;\n}\n\nvar version$1 = 'v3.7.3';\n\n\nvar core = Object.freeze({\n\tTag: Tag$1,\n\ttag: tag$1,\n\ttag2: tag2$1,\n\tmount: mount$1,\n\tmixin: mixin$1,\n\tupdate: update$1,\n\tunregister: unregister$1,\n\tversion: version$1\n});\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nfunction updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) { return }\n  var ctx = !isAnonymous && isLoop ? this : parent || this;\n\n  each(instAttrs, function (attr) {\n    if (attr.expr) { updateAllExpressions.call(ctx, [attr.expr]); }\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n  });\n}\n\n/**\n * Manage the mount state of a tag triggering also the observable events\n * @this Tag\n * @param { Boolean } value - ..of the isMounted flag\n */\nfunction setMountState(value) {\n  var ref = this.__;\n  var isAnonymous = ref.isAnonymous;\n\n  defineProperty(this, 'isMounted', value);\n\n  if (!isAnonymous) {\n    if (value) { this.trigger('mount'); }\n    else {\n      this.trigger('unmount');\n      this.off('*');\n      this.__.wasCreated = false;\n    }\n  }\n}\n\n\n/**\n * Tag creation factory function\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nfunction createTag(impl, conf, innerHTML) {\n  if ( impl === void 0 ) impl = {};\n  if ( conf === void 0 ) conf = {};\n\n  var tag = conf.context || {};\n  var opts = extend({}, conf.opts);\n  var parent = conf.parent;\n  var isLoop = conf.isLoop;\n  var isAnonymous = !!conf.isAnonymous;\n  var skipAnonymous = settings$1.skipAnonymousTags && isAnonymous;\n  var item = conf.item;\n  // available only for the looped nodes\n  var index = conf.index;\n  // All attributes on the Tag when it's first parsed\n  var instAttrs = [];\n  // expressions on this type of Tag\n  var implAttrs = [];\n  var expressions = [];\n  var root = conf.root;\n  var tagName = conf.tagName || getTagName(root);\n  var isVirtual = tagName === 'virtual';\n  var isInline = !isVirtual && !impl.tmpl;\n  var dom;\n\n  // make this tag observable\n  if (!skipAnonymous) { observable$1(tag); }\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) { root._tag.unmount(true); }\n\n  // not yet mounted\n  defineProperty(tag, 'isMounted', false);\n\n  defineProperty(tag, '__', {\n    isAnonymous: isAnonymous,\n    instAttrs: instAttrs,\n    innerHTML: innerHTML,\n    tagName: tagName,\n    index: index,\n    isLoop: isLoop,\n    isInline: isInline,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    wasCreated: false,\n    tail: null,\n    head: null,\n    parent: null,\n    item: null\n  });\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(tag, '_riot_id', uid()); // base 1 allows test !t._riot_id\n  defineProperty(tag, 'root', root);\n  extend(tag, { opts: opts }, item);\n  // protect the \"tags\" and \"refs\" property from being overridden\n  defineProperty(tag, 'parent', parent || null);\n  defineProperty(tag, 'tags', {});\n  defineProperty(tag, 'refs', {});\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root;\n  } else {\n    if (!isVirtual) { root.innerHTML = ''; }\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'update', function tagUpdate(data) {\n    var nextOpts = {};\n    var canTrigger = tag.isMounted && !skipAnonymous;\n\n    // inherit properties from the parent tag\n    if (isAnonymous && parent) { extend(tag, parent); }\n    extend(tag, data);\n\n    updateOpts.apply(tag, [isLoop, parent, isAnonymous, nextOpts, instAttrs]);\n\n    if (\n      canTrigger &&\n      tag.isMounted &&\n      isFunction(tag.shouldUpdate) && !tag.shouldUpdate(data, nextOpts)\n    ) {\n      return tag\n    }\n\n    extend(opts, nextOpts);\n\n    if (canTrigger) { tag.trigger('update', data); }\n    updateAllExpressions.call(tag, expressions);\n    if (canTrigger) { tag.trigger('updated'); }\n\n    return tag\n  });\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'mixin', function tagMixin() {\n    each(arguments, function (mix) {\n      var instance;\n      var obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin$1(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to tag\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = getPropDescriptor(instance, key) || getPropDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!tag.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(tag, key, descriptor);\n          } else {\n            tag[key] = isFunction(instance[key]) ?\n              instance[key].bind(tag) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(tag)(opts); }\n    });\n\n    return tag\n  });\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'mount', function tagMount() {\n    root._tag = tag; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(parent, [root, root.attributes, function (attr, expr) {\n      if (!isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = tag; }\n      attr.expr = expr;\n      instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    walkAttrs(impl.attrs, function (k, v) { implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(tag, [root, implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttr(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(tag, [isLoop, parent, isAnonymous, opts, instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin$1(GLOBAL_MIXIN);\n\n    if (globalMixin && !skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          tag.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (impl.fn) { impl.fn.call(tag, opts); }\n\n    if (!skipAnonymous) { tag.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions.apply(tag, [dom, expressions, isAnonymous]);\n\n    tag.update(item);\n\n    if (!isAnonymous && !isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    defineProperty(tag, 'root', root);\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!skipAnonymous && tag.parent) {\n      var p = getImmediateCustomParentTag(tag.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        setMountState.call(tag, true);\n      });\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setMountState.call(tag, true);\n    }\n\n    tag.__.wasCreated = true;\n\n    return tag\n\n  });\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'unmount', function tagUnmount(mustKeepRoot) {\n    var el = tag.root;\n    var p = el.parentNode;\n    var tagIndex = __TAGS_CACHE.indexOf(tag);\n    var ptag;\n\n    if (!skipAnonymous) { tag.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttrs(impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      remAttr(root, name);\n    });\n\n    // remove all the event listeners\n    tag.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove tag tag instance from the global virtualDom variable\n    if (tagIndex !== -1)\n      { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    if (p || isVirtual) {\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent);\n\n        if (isVirtual) {\n          Object.keys(tag.tags).forEach(function (tagName) {\n            arrayishRemove(ptag.tags, tagName, tag.tags[tagName]);\n          });\n        } else {\n          arrayishRemove(ptag.tags, tagName, tag);\n          // remove from _parent too\n          if(parent !== ptag) {\n            arrayishRemove(parent.tags, tagName, tag);\n          }\n        }\n      } else {\n        // remove the tag contents\n        setInnerHTML(el, '');\n      }\n\n      if (p && !mustKeepRoot) { p.removeChild(el); }\n    }\n\n    if (tag.__.virts) {\n      each(tag.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // custom internal unmount function to avoid relying on the observable\n    if (tag.__.onUnmount) { tag.__.onUnmount(); }\n\n    // weird fix for a weird edge case #2409 and #2436\n    // some users might use your software not as you've expected\n    // so I need to add these dirty hacks to mitigate unexpected issues\n    if (!tag.isMounted) { setMountState.call(tag, true); }\n\n    setMountState.call(tag, false);\n\n    delete tag.root._tag;\n\n    return tag\n  });\n\n  return tag\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tagName, newPos) {\n  var parent = this.parent;\n  var tags;\n  // no parent no move\n  if (!parent) { return }\n\n  tags = parent.tags[tagName];\n\n  if (isArray(tags))\n    { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n  else { arrayishAdd(parent.tags, tagName, this); }\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = createTag(child, opts, innerHTML);\n  var tagName = opts.tagName || getTagName(opts.root, true);\n  var ptag = getImmediateCustomParentTag(parent);\n  // fix for the parent attribute in the looped elements\n  defineProperty(tag, 'parent', ptag);\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent;\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag);\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    { arrayishAdd(parent.tags, tagName, tag); }\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag;\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) { break }\n    ptag = ptag.parent;\n  }\n  return ptag\n}\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nfunction unmountAll(expressions) {\n  each(expressions, function (expr) {\n    if (expr.unmount) { expr.unmount(true); }\n    else if (expr.tagName) { expr.tag.unmount(true); }\n    else if (expr.unmount) { expr.unmount(); }\n  });\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom, skipDataIs) {\n  var child = getTag(dom);\n  var namedTag = !skipDataIs && getAttr(dom, IS_DIRECTIVE);\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n    namedTag : child ? child.name : dom.tagName.toLowerCase()\n}\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nfunction arrayishAdd(obj, key, value, ensureArray, index) {\n  var dest = obj[key];\n  var isArr = isArray(dest);\n  var hasIndex = !isUndefined(index);\n\n  if (dest && dest === value) { return }\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) { obj[key] = [value]; }\n  else if (!dest) { obj[key] = value; }\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      var oldIndex = dest.indexOf(value);\n      // this item never changed its position\n      if (oldIndex === index) { return }\n      // remove the item from its old position\n      if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value);\n      } else {\n        dest.push(value);\n      }\n    } else { obj[key] = [dest, value]; }\n  }\n}\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nfunction arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    var index = obj[key].indexOf(value);\n    if (index !== -1) { obj[key].splice(index, 1); }\n    if (!obj[key].length) { delete obj[key]; }\n    else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n  } else\n    { delete obj[key]; } // otherwise just delete the key\n}\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts, ctx) {\n  var impl = __TAG_IMPL[tagName];\n  var implClass = __TAG_IMPL[tagName].class;\n  var context = ctx || (implClass ? Object.create(implClass.prototype) : {});\n  // cache the inner HTML to fix #855\n  var innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n  var conf = extend({ root: root, opts: opts, context: context }, { parent: opts ? opts.parent : null });\n  var tag;\n\n  if (impl && root) { tag = createTag(impl, conf, innerHTML); }\n\n  if (tag && tag.mount) {\n    tag.mount(true);\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n  }\n\n  return tag\n}\n\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nfunction makeReplaceVirtual(tag, ref) {\n  var frag = createFrag();\n  makeVirtual.call(tag, frag);\n  ref.parentNode.replaceChild(frag, ref);\n}\n\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction makeVirtual(src, target) {\n  var this$1 = this;\n\n  var head = createDOMPlaceholder();\n  var tail = createDOMPlaceholder();\n  var frag = createFrag();\n  var sib;\n  var el;\n\n  this.root.insertBefore(head, this.root.firstChild);\n  this.root.appendChild(tail);\n\n  this.__.head = el = head;\n  this.__.tail = tail;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    this$1.__.virts.push(el); // hold for unmounting\n    el = sib;\n  }\n\n  if (target)\n    { src.insertBefore(frag, target.__.head); }\n  else\n    { src.appendChild(frag); }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nfunction moveVirtual(src, target) {\n  var this$1 = this;\n\n  var el = this.__.head;\n  var sib;\n  var frag = createFrag();\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    el = sib;\n    if (el === this$1.__.tail) {\n      frag.appendChild(el);\n      src.insertBefore(frag, target.__.head);\n      break\n    }\n  }\n}\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nfunction selectTags(tags) {\n  // select all tags\n  if (!tags) {\n    var keys = Object.keys(__TAG_IMPL);\n    return keys + selectTags(keys)\n  }\n\n  return tags\n    .filter(function (t) { return !/[^-\\w]/.test(t); })\n    .reduce(function (list, t) {\n      var name = t.trim().toLowerCase();\n      return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n    }, '')\n}\n\n\nvar tags = Object.freeze({\n\tgetTag: getTag,\n\tmoveChildTag: moveChildTag,\n\tinitChildTag: initChildTag,\n\tgetImmediateCustomParentTag: getImmediateCustomParentTag,\n\tunmountAll: unmountAll,\n\tgetTagName: getTagName,\n\tarrayishAdd: arrayishAdd,\n\tarrayishRemove: arrayishRemove,\n\tmountTo: mountTo,\n\tmakeReplaceVirtual: makeReplaceVirtual,\n\tmakeVirtual: makeVirtual,\n\tmoveVirtual: moveVirtual,\n\tselectTags: selectTags\n});\n\n/**\n * Riot public api\n */\nvar settings = settings$1;\nvar util = {\n  tmpl: tmpl,\n  brackets: brackets,\n  styleManager: styleManager,\n  vdom: __TAGS_CACHE,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom: dom,\n  check: check,\n  misc: misc,\n  tags: tags\n};\n\n// export the core props/methods\nvar Tag = Tag$1;\nvar tag = tag$1;\nvar tag2 = tag2$1;\nvar mount = mount$1;\nvar mixin = mixin$1;\nvar update = update$1;\nvar unregister = unregister$1;\nvar version = version$1;\nvar observable = observable$1;\n\nvar riot$1 = extend({}, core, {\n  observable: observable$1,\n  settings: settings,\n  util: util,\n});\n\nexports.settings = settings;\nexports.util = util;\nexports.Tag = Tag;\nexports.tag = tag;\nexports.tag2 = tag2;\nexports.mount = mount;\nexports.mixin = mixin;\nexports.update = update;\nexports.unregister = unregister;\nexports.version = version;\nexports.observable = observable;\nexports['default'] = riot$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n/***/ })\n\n},[438]);\n\n\n// WEBPACK FOOTER //\n// riot/build/riot.js","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e(require(\"@bosket/tools\"),require(\"@bosket/core\"),require(\"riot\")):\"function\"==typeof define&&define.amd?define([\"@bosket/tools\",\"@bosket/core\",\"riot\"],e):\"object\"==typeof exports?exports[\"bosket-riot\"]=e(require(\"@bosket/tools\"),require(\"@bosket/core\"),require(\"riot\")):t[\"bosket-riot\"]=e(t[\"bosket-tools\"],t[\"bosket-core\"],t.riot)}(this,function(t,e,n){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=50)}({0:function(e,n){e.exports=t},1:function(t,n){t.exports=e},10:function(t,e){t.exports=n},50:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(6);Object.keys(o).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),n(54)},51:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.optsMixin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"opts\";return{init:function(){this.on(\"update\",this.updateOpts),this._originalOpts=Object.keys(this.opts),this.updateOpts()},updateOpts:function(){if(this.opts)for(var e in this.opts[t])~this._originalOpts.indexOf(e)||(this.opts[e]=this.opts[t][e])}}}},52:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.transitionMixin=function(t){return{init:function(){var e=this;if(this.opts.transition){var n=this.opts.transition.name,o=this.unmount,i=function(){var o=(t||function(){return e.root})();o&&(o.classList.add(n),o.classList.add(n+\"-mount\"),setTimeout(function(){o.classList.remove(n+\"-mount\")},10))},r=!1,s=function(){if(!r){r=!0;var i=(t||function(){return e.root})();if(!i)return o.call(e);i.addEventListener(\"transitionend\",function(){o.call(e)}),i.classList.add(n+\"-unmount\")}};this.one(\"mount\",i),Object.defineProperty(this,\"unmount\",{value:s})}}}}},53:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});e.listenerMixin=function(t){var e=t.eventType,n=void 0===e?\"click\":e,o=t.callback,i=t.regulate,r=void 0!==i&&i;return{init:function(){var t=!1,e=function(e){o&&(r?(t||window.requestAnimationFrame(function(){return o(e,function(){return t=!1})}),t=!0):o(e))};this.one(\"mount\",function(){document.addEventListener(n,e)}),this.one(\"unmount\",function(){document.removeEventListener(n,e)})}}}},54:function(t,e,n){\"use strict\";n(55),n(56),n(57)},55:function(t,e,n){n(10).tag2(\"treeview\",'<div class=\"{rootNode.mixCss(TreeView)}\"> <input type=\"search\" class=\"{rootNode.mixCss(search)}\" if=\"{inputs.get().search}\" placeholder=\"{inputs.get().labels[search.placeholder]}\" oninput=\"{onSearch}\"> <treeviewnode opts=\"{inputs.get()}\" selection=\"{opts.selection}\" model=\"{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}\" filteredmodel=\"{filtered}\" onselection=\"{rootNode.onSelect}\" dragndrop=\"{rootNode.wrapDragNDrop()}\" ancestors=\"{[]}\" searched=\"{search.trim()}\" depth=\"{0}\"> </TreeViewNode> </div>',\"\",\"\",function(t){\"use strict\";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o=this,i=n(0),r=n(1),s=n(6);this.mixin((0,s.optsMixin)()),this.mixin((0,s.listenerMixin)({eventType:\"keyup\",callback:function(t){return o.rootNode.onKey(t)}})),this.mixin((0,s.listenerMixin)({eventType:\"keydown\",callback:function(t){return o.rootNode.onKey(t)}})),this.filtered=null,this.search=\"\",this.onSearch=function(t){var e=t.currentTarget.value;o.search=e,o.filtered=e.trim()?(0,i.tree)(o.inputs.get().model,o.inputs.get().category).treeFilter(o.inputs.get().search(e.trim())):null},this.inputs={get:function(){return e({},r.defaults,o.opts,{onSelect:o.opts.onselection})}},this.outputs={onSelect:this.inputs.get().onselection,onDrag:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drag,onOver:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.over,onEnter:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.enter,onLeave:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.leave,onDrop:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drop,onCancel:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.cancel},this.state={get:function(){return e({},o)},set:function(t){for(var e in t)e in o&&(o[e]=t[e])}},this.rootNode=new r.RootNode(this.inputs,this.outputs,this.state,this.update)})},56:function(t,e,n){n(10).tag2(\"treeviewnode\",'<ul if=\"{!opts.folded && !opts.loading}\" data-is=\"with-transition\" transition=\"{opts.transition}\" class=\"{node.ulCss()}\" ondragover=\"{!opts.depth ? rootEvents.onDragOver : null}\" ondragenter=\"{!opts.depth ? rootEvents.onDragEnter : null}\" ondragleave=\"{!opts.depth ? rootEvents.onDragLeave : null}\" ondrop=\"{!opts.depth ? rootEvents.onDrop : null}\"> <li each=\"{item in getModel()}\" class=\"{node.liCss(item)}\" draggable=\"{node.getDragEvents(item).draggable}\" ondragstart=\"{node.getDragEvents(item).onDragStart}\" ondragover=\"{node.getDragEvents(item).onDragOver}\" ondragenter=\"{node.getDragEvents(item).onDragEnter}\" ondragleave=\"{node.getDragEvents(item).onDragLeave}\" ondragend=\"{node.getDragEvents(item).onDragEnd}\" ondrop=\"{node.getDragEvents(item).onDrop}\"> <span class=\"{parent.node.mixCss(item)}\" onclick=\"{parent.node.onClick(item)}\"> <virtual if=\"{!parent.opts.displaytag}\"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if=\"{parent.opts.displaytag}\" data-is=\"{parent.opts.displaytag(item, parent.opts)}\" item=\"{item}\" inputs=\"{inputs.get()}\"></virtual> <span if=\"{node.hasChildren(item) || node.isAsync(item) && !parent.opts.noopener}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item)}\"></span> </span> <treeviewnode if=\"{node.hasChildren(item) || node.isAsync(item)}\" opts=\"{parent.opts}\" selection=\"{parent.opts.selection}\" model=\"{getChildModel(item)}\" filteredmodel=\"{getChildFiltered(item)}\" ancestors=\"{getAncestors(item)}\" depth=\"{parent.opts.depth + 1}\" folded=\"{node.isFolded(item)}\" loading=\"{node.isAsync(item) && !node.isFolded(item)}\"> </TreeViewNode> </li> </ul> <span if=\"{opts.loading}\"></span>',\"\",\"\",function(t){\"use strict\";var e=this,o=n(1),i=n(6);this.mixin((0,i.optsMixin)()),this.unfolded=[],this.getModel=function(){return e.opts.searched?e.opts.model.filter(function(t){return e.opts.filteredmodel.has(t)}):e.opts.model},this.getChildModel=function(t){var n=t[e.opts.category];return e.node.isAsync(t)&&!e.node.isFolded(t)&&e.node.pending.indexOf(t)<0&&e.node.unwrapPromise(t),e.node.isAsync(t)||(n=e.opts.sort?n.sort(e.opts.sort):n),n},this.getChildFiltered=function(t){return e.opts.searched?e.opts.filteredmodel.get(t):null},this.getAncestors=function(t){return[].concat(e.opts.ancestors,[t])};var r=function(){e.opts.onSelect=e.opts.onselection,e.opts.disabled=e.opts.disable};this.on(\"update\",r),r(),this.inputs={get:function(){return e.opts}},this.state={get:function(){return e},set:function(t){for(var n in t)n in e&&(e[n]=t[n])}},this.node=new o.TreeNode(this.inputs,null,this.state,this.update),this.rootEvents=this.node.getDragEvents()})},57:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(10),i=function(t){return t&&t.__esModule?t:{default:t}}(o),r=n(6);e.default=i.default.tag(\"with-transition\",!1,function(t){var e=this;this.mixin((0,r.transitionMixin)());var n=function(){for(var t in e.parent)e.parent.hasOwnProperty(t)&&(e[t]=e.parent[t])};n(),this.on(\"update\",n)})},6:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(51);Object.keys(o).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var i=n(52);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=n(53);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})}})});\n//# sourceMappingURL=riot.umd.min.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/riot/bundle/riot.umd.min.js","import \"./Planner.tag\"\n\nimport introduction from \"./introduction\"\nimport usage from \"./usage\"\nimport treeview from \"./treeview\"\n\nexport default [\n    introduction,\n    usage,\n    treeview\n]\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/index.js","import riot from \"riot\"\nimport \"self/common/libs/prismjs/prism\"\nimport \"@bosket/riot\"\nimport \"./components\"\nimport \"./plan\"\n\nwindow.onload = () => {\n    riot.mount(\"*\")\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/index.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 439\n// module chunks = 1","import \"./App.tag\"\nimport \"./Syntax.tag\"\nimport \"./ComponentDemo.tag\"\nimport \"./Demos\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/index.js","\n    var riot = require('riot')\n    riot.tag2('app', '    <div class=\"App\">\\n            <planner plan=\"{plan}\" maxdepth=\"{1}\" sticky=\"{true}\"></planner>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nrequire(\"self/common/styles/App.css\");\n\nvar _plan = require(\"../plan\");\n\nvar _plan2 = _interopRequireDefault(_plan);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.plan = _plan2.default;\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/App.tag\n// module id = 441\n// module chunks = 1","\n    var riot = require('riot')\n    riot.tag2('planner', '    <div class=\"Planner\">\\n        <div class=\"Planner opener\" ref=\"opener\">\\n            <i class=\"{fa: true,                 fa-bars: !opened,                 fa-times: opened}\"></i>\\n        </div>\\n        <aside ref=\"sidePanel\" class=\"{Planner: true, side-panel: true, opened: opened}\">\\n            <div><h1>Table of contents</h1></div>\\n            <treeview model=\"{opts.plan}\" css=\"{{ TreeView: PlannerTree }}\" category=\"subs\" selection=\"{selection}\" onselection=\"{updateSelection}\" strategies=\"{{ selection: [ancestors], fold: [ foldDepth(), not-selected, no-child-selection ]}}\" noopener=\"true\" displaytag=\"{display}\">\\n            </TreeView>\\n        </aside>\\n        <div ref=\"content\" class=\"Planner content\">\\n            <div each=\"{p in opts.plan}\">\\n                <planner-content plan=\"{p}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _riot = require(\"@bosket/riot\");\n\nrequire(\"self/common/styles/Planner.css\");\n\nthis.mixin((0, _riot.listenerMixin)({ callback: function callback(e) {\n        return _this.onDocumentClick(e);\n    } }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onDocumentScroll.apply(_this, arguments);\n    }, regulate: true }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onStickyScroll.apply(_this, arguments);\n    }, regulate: true }));\n\nthis.selection = [];\nthis.opened = false;\nthis.updateSelection = function (_) {\n    _this.selection = _;\n    _this.update();\n};\nthis.display = function (item) {\n    return \"display-planner-content\";\n};\nthis.foldDepth = function () {\n    var max = _this.opts.maxdepth;\n    return function () {\n        return this.inputs.get().depth >= max;\n    };\n};\nthis.findPosition = function () {\n    var position = [];\n    var loop = function loop(arr) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n        for (var i = 0; i < arr.length; i++) {\n            var elt = arr[i];\n            var domElt = document.getElementById(acc.length > 0 ? acc.join(\"#\") + \"#\" + elt.title : elt.title);\n            if (domElt && domElt.parentElement && domElt.parentElement.getBoundingClientRect().top <= 50 && domElt.parentElement.getBoundingClientRect().bottom > 10) {\n                position.push(elt);\n                if (elt.subs) loop(elt.subs, [].concat(acc, [elt.title]));\n                break;\n            }\n        }\n    };\n    loop(_this.opts.plan);\n    return position;\n};\nthis.one(\"mount\", function () {\n    _this.selection = _this.findPosition();\n    _this.update();\n});\n\nthis.onDocumentClick = function (ev) {\n    if (!(ev.target instanceof HTMLElement)) return;\n    if (_this.refs.opener && _this.refs.opener.contains(ev.target)) {\n        _this.opened = !_this.opened;\n    } else if (_this.opened && _this.refs.sidePanel && !_this.refs.sidePanel.contains(ev.target)) {\n        _this.opened = false;\n    }\n    _this.update();\n};\n\nthis.onDocumentScroll = function (ev, end) {\n    var position = _this.findPosition();\n    var newHash = \"#\" + position.map(function (_) {\n        return _.title;\n    }).join(\"#\");\n    if (newHash !== (window.location.hash || \"#\")) {\n        _this.selection = position;\n        _this.update();\n        window.history && window.history.replaceState({}, document.title, \"#\" + position.map(function (_) {\n            return _.title;\n        }).join(\"#\"));\n    }\n\n    // Prevents safari security exception (SecurityError (DOM Exception 18): Attempt to use history.replaceState() more than 100 times per 30.000000 seconds)\n    setTimeout(function () {\n        return end();\n    }, 100);\n};\n\nthis.onStickyScroll = function (ev, end) {\n    if (!_this.opts.sticky) return;\n    if (_this.refs.content.getBoundingClientRect().top > 0) {\n        _this.refs.sidePanel.style.position = \"absolute\";\n        _this.refs.sidePanel.style.top = \"\";\n        end();\n    } else {\n        _this.refs.sidePanel.style.position = \"fixed\";\n        _this.refs.sidePanel.style.top = \"0px\";\n        end();\n    }\n};\n});\n\nriot.tag2('planner-content', '    <div class=\"{depth === 1 ? chapter : planner-section}\">\\n        <h1 if=\"{depth === 1}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h1>\\n        <h2 if=\"{depth === 2}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h2>\\n        <h3 if=\"{depth === 3}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h3>\\n        <h4 if=\"{depth === 4}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h4>\\n        <h5 if=\"{depth === 5}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h5>\\n        <h6 if=\"{depth === 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h6>\\n        <p if=\"{depth > 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </p>\\n        <div data-is=\"{plan.content}\"></div>\\n        <div if=\"{plan.subs}\">\\n            <div each=\"{s in plan.subs}\">\\n                <planner-content plan=\"{s}\" prefix=\"{prefix ? prefix+\\'#\\'+plan.title : plan.title}\" depth=\"{depth + 1}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.plan = this.opts.plan;\nthis.depth = this.opts.depth || 1;\nthis.prefix = this.opts.prefix || \"\";\nthis.id = function () {\n        return _this.prefix ? _this.prefix + \"#\" + _this.plan.title : _this.plan.title;\n};\n});\n\nriot.tag2('display-planner-content', '    <a href=\"{href()}\">{opts.item.title}</a>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.href = function () {\n    return _this.opts.inputs.ancestors.map(function (a) {\n        return \"#\" + a.title;\n    }).join(\"\") + \"#\" + _this.opts.item.title;\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/Planner.tag\n// module id = 442\n// module chunks = 1","import \"./component.tag\"\nimport \"./IntroductionDemos.tag\"\n\nexport default {\n    title: \"Introduction\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/introduction/index.js\",\n    content: \"introduction\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/introduction/index.js","\n    var riot = require('riot')\n    riot.tag2('introduction', '    <p>\\n        This page covers the <em class=\"highlight\"><a href=\"http://riotjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Riot.js</a></em> implementation of the <em><a href=\"..\">Bosket library</a></em>.<br>\\n        Versatile and flexible, Bosket eases the creation and design of tree view components.<br><br>\\n        As a matter of fact <em><a href=\"https://github.com/elbywan/bosket/tree/master/docs/riot/plan\" target=\"_blank\" rel=\"noopener noreferrer\">this whole documentation</a></em> is built around Bosket using <em><a href=\"https://github.com/elbywan/bosket/blob/master/docs/riot/plan/Planner.tag\" target=\"_blank\" rel=\"noopener noreferrer\">a custom component</a></em> which automatically creates the table of contents and the anchors.<br>\\n        <br>\\n        Multiple use case examples (including the source code and the css stylesheet) are provided alongside the documentation.\\n    </p>\\n    <h4 class=\"center-text\">API views implemented with Bosket</h4>\\n    <introductiondemos></introductiondemos>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/introduction/component.tag\n// module id = 444\n// module chunks = 1","\n    var riot = require('riot')\n    riot.tag2('introductiondemos', '    <div class=\"IntroductionDemos\">\\n       <div class=\"center-text\">\\n           <span class=\"button-row\">\\n               <button each=\"{d in demos}\" onclick=\"{setDemo(d)}\" class=\"{selected: d === demo}\">\\n                   {d}\\n               </button>\\n           </span>\\n       </div>\\n       <componentdemo files=\"{getFiles(demo)}\">\\n            <virtual data-is=\"{parent.demo.toLowerCase()}\"></virtual>\\n       </ComponentDemo>\\n   </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/IntroductionDemos.css\");\n\nthis.demos = [\"HackerNews\", \"Pokeapi\", \"ChuckNorris\"];\nthis.demo = this.demos[0];\nthis.setDemo = function (d) {\n    return function (_) {\n        return _this.demo = d;\n    };\n};\nthis.getFiles = function (demo) {\n    return [\"./components/Demos/\" + demo + \"/\" + demo + \".tag\", \"../common/styles/\" + demo + \".css\", \"./components/Demos/\" + demo + \"/models.js\"];\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/introduction/IntroductionDemos.tag\n// module id = 445\n// module chunks = 1","import \"./component.tag\"\nimport _import from \"./import\"\nimport datamodel from \"./data model\"\nimport style from \"./style\"\nimport snippets from \"./online-snippets\"\n\nexport default {\n    title: \"Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/index.js\",\n    content: \"usage\",\n    subs: [\n        _import,\n        snippets,\n        datamodel,\n        style\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/index.js","\n    var riot = require('riot')\n    riot.tag2('usage', '    <div>\\n        <p>It is assumed that you followed the installation <em><a href=\"../#Setup\">guidelines</a></em>.</p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/component.tag\n// module id = 447\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Import\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/import/index.js\",\n    content: \"import\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/import/index.js","\n    var riot = require('riot')\n    riot.tag2('import', '    <p>Bosket/riot is bundled in <em><a href=\"http://bob.yexley.net/umd-javascript-that-runs-anywhere/\" target=\"_blank\" ref=\"noopener noreferrer\">UMD</a></em> format.</p>\\n\\n    <syntax-highlight offset=\"{8}\">\\n        /* How to register Bosket tags : */\\n\\n        // ESM imports\\n        import \"@bosket/riot\"\\n\\n        // Commonjs\\n        require(\"@bosket/riot\")\\n    </syntax-highlight>\\n\\n    <p>Or just include a link to the <em><code>@bosket/riot/bundle/riot.umd.min.js</code></em> file inside a script tag.</p>\\n\\n    <syntax-highlight language=\"html\" content=\"{htmlCode}\"></syntax-highlight>\\n', '', '', function(opts) {\n\"use strict\";\n\n/* eslint-disable */\nthis.htmlCode = \"\\n            <script src=\\\".../path/to/riot.js\\\"></script>\\n            <script src=\\\".../path/to/riot.umd.min.js\\\"></script>\";\n/* eslint-enable */\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/import/component.tag\n// module id = 449\n// module chunks = 1","import \"./component.tag\"\nimport \"./dataModelTree.tag\"\n\nexport default {\n    title: \"Data model\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/data%20model/index.js\",\n    content: \"datamodel\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/data model/index.js","\n    var riot = require('riot')\n    riot.tag2('datamodel', '    <span>\\n        <p>To populate the component you need to provide a suitable data model.</p>\\n        <syntax-highlight offset=\"{12}\">\\n            // A model is simply an array of objects.\\n\\n            const model = [\\\\{\\n                a: 1,\\n                b: 2,\\n                /* ... */\\n                // If the object has \\'children\\', it must contain a property value\\n                // being an array of objects that respects the same contract.\\n                // \\'children\\' is just a placeholer name, you can use and specify any\\n                // label as a prop of the component.\\n                children: [\\\\{\\n                    /* ... */,\\n                    // If you would like the children to be loaded asynchronously when\\n                    // the node is unfolded, you may use a function returning a Promise.\\n                    children: () => \\\\{\\n                        return new Promise(resolve =>\\n                            setTimeout(() =>\\n                                // resolves into the children model\\n                                resolve([\\\\{ a: 1, b: 2 \\\\}]), 1000))\\n                    \\\\}\\n                \\\\}],\\n            \\\\},\\n            /* ... */\\n            ]\\n        </syntax-highlight>\\n\\n        <p>The logic is pretty simple as you can see below, a model and its tree representation as a Bosket view :</p>\\n\\n        <syntax-highlight offset=\"{12}\">\\n            [\\n                \\\\{ label: \"Click me, I\\'m a node with two children.\", children: [\\n                    \\\\{ label: \"I am a childless leaf.\" \\\\},\\n                    \\\\{ label: \"I am a also a childless leaf.\" \\\\}\\n                ]\\\\},\\n                \\\\{ label: \"I\\'m a leaf, I do not have children.\" \\\\},\\n                \\\\{ label: \"I am an asynchronous node, click me and wait one second.\", children: () =>\\n                    new Promise(resolve =>\\n                        setTimeout(() =>\\n                            resolve([\\\\{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" \\\\}]), 1000))\\n                \\\\}\\n            ]\\n        </syntax-highlight>\\n\\n        <div style=\"border: 2px solid black; cursor: pointer;\">\\n           <data-model-tree></data-model-tree>\\n        </div>\\n    </span>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/data model/component.tag\n// module id = 451\n// module chunks = 1","\n    var riot = require('riot')\n    riot.tag2('data-model-tree', '    <treeview model=\"{sampleModel}\" category=\"children\" selection=\"{selection}\" onselection=\"{updateSelection}\" display=\"{display}\">\\n    </TreeView>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.sampleModel = [{ label: \"Click me, I'm a node with two children.\", children: [{ label: \"I am a childless leaf.\" }, { label: \"I am a also a childless leaf.\" }] }, { label: \"I'm a leaf, I do not have children.\" }, { label: \"I am an asynchronous node, click me and wait one second.\", children: function children() {\n        return new Promise(function (resolve) {\n            return setTimeout(function () {\n                return resolve([{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" }]);\n            }, 1000);\n        });\n    }\n}];\n\nthis.updateSelection = function (_) {\n    _this.selection = _;_this.update();\n};\nthis.selection = [];\nthis.display = function (_) {\n    return _.label;\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/data model/dataModelTree.tag\n// module id = 452\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Style\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/style/index.js\",\n    content: \"usage-style\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/style/index.js","\n    var riot = require('riot')\n    riot.tag2('online-snippets', '    <iframe width=\"100%\" height=\"300\" title=\"jsfiddle-react\" src=\"//jsfiddle.net/elbywan/w17o67vw/embedded/js,html,result/dark/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/style/component.tag\n// module id = 454\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Online snippets\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/online-snippets/index.js\",\n    content: \"online-snippets\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/online-snippets/index.js","\n    var riot = require('riot')\n    \n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/online-snippets/component.tag\n// module id = 456\n// module chunks = 1","import basicUsage from \"./basic usage\"\nimport demo from \"./demo\"\nimport css from \"./css\"\nimport requiredProperties from \"./required-properties\"\nimport optionalProperties from \"./optional-properties\"\n\nexport default {\n    title: \"TreeView\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/index.js\",\n    subs: [\n        basicUsage,\n        demo,\n        requiredProperties,\n        optionalProperties,\n        css\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/index.js","import \"./component.tag\"\n\nexport default {\n    title: \"Basic Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/basic%20usage/index.js\",\n    content: \"basic-usage\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/basic usage/index.js","\n    var riot = require('riot')\n    riot.tag2('basic-usage', '    <div>\\n        <p>\\n            Just drop the TreeView tag in your templates after <em><a href=\"#Usage#Import\">registering it</a></em>.<br>\\n            <br>\\n            Appearance can be tweaked using <em><a href=\"#TreeView#Css\">css</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView\\n\\n            // Required //\\n\\n            model=         /* [the data model](#TreeView#Required properties#model) */\\n            category=      /* [name of the property containing the children](#TreeView#Required properties#category) */\\n            selection=     /* [the selection array, updated when the user (de)selects items](#TreeView#Required properties#selection) */\\n            onselection=   /* [selection callback](#TreeView#Required properties#onselection) */\\n\\n            // Optional //\\n\\n            display=       /* [customize output for each element in the tree](#TreeView#Optional properties#display) */\\n            displaytag=    /* [wrap output inside a tag of your choice](#TreeView#Optional properties#displaytag) */\\n            strategies=    /* [behaviour on selection, click or fold](#TreeView#Optional properties#strategies) */\\n            sort=          /* [sort items](#TreeView#Optional properties#sort) */\\n            disable=       /* [disable certain items](#TreeView#Optional properties#disabled) */\\n            search=        /* [enables the search bar](#TreeView#Optional properties#search) */\\n            async=         /* [how to perform asynchronous loading](#TreeView#Optional properties#async) */\\n            dragndrop=     /* [drag'n'drop configuration](#TreeView#Optional properties#dragndrop) */\\n            noopener=      /* [hide opener 'arrow'](#TreeView#Optional properties#noopener) */\\n            labels=        /* [override default labels](#TreeView#Optional properties#labels) */\\n            css=           /* [override default css classes](#TreeView#Optional properties#css) */\\n            transition=    /* [transitions on mount / unmount](#TreeView#Optional properties#transition) */\\n        />\\n        \";\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/basic usage/component.tag\n// module id = 459\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Demo\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/demo/index.js\",\n    content: \"treeview-demo-section\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/demo/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-demo-section', '    <div>\\n        <h4>\\n            <a download=\"BosketTreeView.css\" href=\"./components/Demos/TreeView/TreeViewDemo.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>Download stylesheet\\n            </a>\\n        </h4>\\n        <treeviewsection></treeviewsection>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/demo/component.tag\n// module id = 461\n// module chunks = 1","import \"./component.tag\"\nimport layout from \"./layout\"\nimport emptyStylesheet from \"./empty-stylesheet\"\n\nexport default {\n    title: \"Css\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/index.js\",\n    content: \"treeview-css\",\n    subs: [\n        layout,\n        emptyStylesheet\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-css', '    <div>\\n        <p>\\n            A TreeView is basically made of multiple nested unordered lists.\\n            The component applies css classes to the lists and their items throughout its lifecycle.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/css/component.tag\n// module id = 463\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Layout\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/layout/index.js\",\n    content: \"treeview-layout\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/layout/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-layout', '    <div>\\n        <p>\\n            Below is the <em>full HTML layout</em> of a TreeView, with the <em><a href=\"#TreeView#Optional properties#css\">default classes</a></em>.<br>\\n        </p>\\n        <syntax-highlight language=\"html\">{parent.htmlLayout}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _html_layout = require(\"./html_layout\");\n\nvar _html_layout2 = _interopRequireDefault(_html_layout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.htmlLayout = _html_layout2.default;\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/css/layout/component.tag\n// module id = 465\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Empty stylesheet\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/empty-stylesheet/index.js\",\n    content: \"treeview-empty-stylesheet\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/empty-stylesheet/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-empty-stylesheet', '    <div>\\n        <h4>\\n            <a ref=\"anchor\" download=\"bosket_empty_stylesheet.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>\\n                Download stylesheet\\n            </a>\\n        </h4>\\n\\n        <syntax-highlight language=\"css\">{parent.emptyStylesheet}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _empty_stylesheet = require(\"./empty_stylesheet\");\n\nvar _empty_stylesheet2 = _interopRequireDefault(_empty_stylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.emptyStylesheet = _empty_stylesheet2.default;\nthis.one(\"mount\", function () {\n    _this.refs.anchor.href = window.URL.createObjectURL(new Blob([_empty_stylesheet2.default], { type: \"text/css\" }));\n});\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/css/empty-stylesheet/component.tag\n// module id = 468\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Required properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n    subs: [\n        {\n            title: \"model\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"model-prop\"\n        },\n        {\n            title: \"category\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"category-prop\"\n        },\n        {\n            title: \"selection\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"selection-prop\"\n        },\n        {\n            title: \"onselection\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/required-properties/index.js\",\n            content: \"onselection-prop\"\n        }\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/required-properties/index.js","\n    var riot = require('riot')\n    riot.tag2('model-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object[]</pre>\\n        <p>\\n            An array of objects which is used to populate the component.<br>\\n            The format is detailed in the <em><a href=\"#Usage#Data model\">data model</a></em> section.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ model={ model } />\\n            <script>\\n                this.model = [\\n                    { label: \\\"One\\\" },\\n                    { label: \\\"Two\\\" },\\n                    { label: \\\"Three\\\", list: [\\n                        { label: \\\"Four\\\" },\\n                        { label: \\\"Five\\\" }\\n                    ] }\\n                ]\\n            </script>\"; // eslint-disable-line no-useless-escape\n});\n\nriot.tag2('category-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">string</pre>\\n        <p>\\n            The name of the property containing the children.<br>\\n            In the example above, it would be \"list\".\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"<TreeView /* ... */ category=\\\"list\\\" />\";\n});\n\nriot.tag2('selection-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object[]</pre>\\n        <p>\\n            An array which references the selected objects.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ selection={ selection } />\\n            <script>\\n                this.selection = []\\n            </script>\";\n});\n\nriot.tag2('onselection-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(newSelection: Object[], item: Object, ancestors: Object[], neighbours: Object[]) => void</pre>\\n        <p>\\n            A callback which is fired when the selection is updated (for instance when the user clicks on an item).<br>\\n            This method should update the <em><a href=\"#TreeView#Required properties#selection\">selection array</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ selection={ selection } onselection={ onselection } />\\n            <script>\\n                this.selection = []\\n                this.onselection = _ => this.update({ selection : _ })\\n            </script>\\n        \";\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/required-properties/component.tag\n// module id = 471\n// module chunks = 1","import \"./component.tag\"\n\nexport default {\n    title: \"Optional properties\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n    subs: [\n        {\n            title: \"display\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"display-prop\"\n        },\n        {\n            title: \"displaytag\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"displaytag-prop\"\n        },\n        {\n            title: \"strategies\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"strategies-prop\"\n        },\n        {\n            title: \"sort\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"sort-prop\"\n        },\n        {\n            title: \"disable\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"disable-prop\"\n        },\n        {\n            title: \"search\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"search-prop\"\n        },\n        {\n            title: \"async\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"async-prop\"\n        },\n        {\n            title: \"dragndrop\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"dragndrop-prop\"\n        },\n        {\n            title: \"noopener\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"noopener-prop\"\n        },\n        {\n            title: \"labels\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"labels-prop\"\n        },\n        {\n            title: \"css\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"css-prop\"\n        },\n        {\n            title: \"transition\",\n            editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/optional-properties/index.js\",\n            content: \"transition-prop\"\n        }\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/optional-properties/index.js","\n    var riot = require('riot')\n    riot.tag2('display-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\\n        <p>\\n            A custom rendering function. Called for every item, its return value is displayed in the view.<br>\\n            The \"inputs\" argument is an object containing the input properties of the component which is rendering the item.\\n        </p>\\n        <div class=\"emphasis\">\\n            Defaults to the&nbsp;\\n            <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString\" target=\"_blank\" rel=\"noopener noreferrer\">toString</a></em>&nbsp;\\n            function.\\n\\n            <syntax-highlight>item => item.toString()</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ display={ display } />\\n            <script>\\n                // The display function is run for every item in the model.\\n                // Here, we choose to display the 'label' property in lower case.\\n                this.display = item => item.display.toLowerCase()\\n            </script>\"; // eslint-disable-line\n});\n\nriot.tag2('displaytag-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object, inputs: Object) => string</pre>\\n        <p>\\n            <em>The display and displaytag properties are mutually exclusive.</em><br>\\n            <br>\\n            Allows more customization than the display property, by wrapping items inside a custom tag.<br>\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView /* ... */ displaytag={ displaytag } />\\n\\n        <script>\\n            // A custom defined tag used to wrap items in an anchor tag\\n            // opts.item is a reference to the displayed item\\n            riot.tag(\\\"customtag\\\", \\\"<a href={\\xA0opts.item.link }>{ opts.item.label }</a>\\\")\\n            this.displaytag = () => \\\"customtag\\\"\\n        </script>\"; // eslint-disable-line\n});\n\nriot.tag2('strategies-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">{strategies}</pre>\\n        <p>\\n            <em>Strategies determine the action(s) to perform on click, fold or selection.</em><br><br>\\n            The <em>strategies prop</em> is an object containing 3 properties (click, fold, selection). Each property value is an array of strategies.<br>\\n            A <em>strategy</em> is either a string (containing a predefined strategy name), or a function (executed in the tree context).<br><br>\\n            In case of multiple strategies, they are chained.\\n        </p>\\n\\n        <syntax-highlight language=\"typescript\">{parent.type}</syntax-highlight>\\n\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n\\n        <p>Check the <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/core/strategies.js\" target=\"_blank\" rel=\"noopener noreferrer\">strategies.js file</a></em> for the list of available strategies and descriptions.</p>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _templateObject = _taggedTemplateLiteralLoose([\"\\n            {\\n                selection: (string | selectionStrategy)[],\\n                click: (string | clickStrategy)[],\\n                fold: (string | foldStrategy)[]\\n            }\\n        \"], [\"\\n            {\\n                selection: (string | selectionStrategy)[],\\n                click: (string | clickStrategy)[],\\n                fold: (string | foldStrategy)[]\\n            }\\n        \"]);\n\nvar _tools = require(\"self/common/tools\");\n\nfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\nthis.strategies = (0, _tools.indent)(_templateObject);\nthis.type = \"\\n            type selectionStrategy<Item extends Object> = (item: Item, selection: Array<Item>, neighbours: Array<Item>, ancestors: Array<Item>) => Array<Item>\\n            type clickStrategy<Item extends Object> = (item: Item, event: MouseEvent, ancestors: Array<Item>, neighbours: Array<Item>) => void\\n            type foldStrategy<Item extends Object> = (item: Item, folded: boolean) => boolean\";\nthis.default = \"\\n            {\\n                // One item selected at a time\\n                selection: [\\\"single\\\"],\\n                // No click callbacks\\n                click: [],\\n                // Folds an item when itself or its children are not selected\\n                fold: [ \\\"not-selected\\\", \\\"no-child-selection\\\" ]\\n            }\";\nthis.code = \"\\n            <TreeView /* ... */ strategies={ strategies } />\\n\\n            <script>\\n                // The object is mixed in with the default properties, so you can override only the keys you want.\\n                this.strategies = {\\n                    // Select only the items beginning with the letter a\\n                    selection: [\\\"multiple\\\", (item, selection) => selection.filter(elt => elt.label.charAt(0) === 'a' )]\\n                    click: [\\\"unfold-on-selection\\\"],\\n                    fold: [\\\"opener-control\\\", \\\"no-child-selection\\\"]\\n                }\\n            </script> // eslint-disable-line\\n        \";\n});\n\nriot.tag2('sort-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item1, item2) => boolean</pre>\\n        <p>A custom sorting function.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ sort={ sort } />\\n            <script>\\n                this.sort = (a, b) => a.label.localeCompare(b.label)\\n            </script>\";\n});\n\nriot.tag2('disable-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(item: Object) => boolean</pre>\\n        <p>Disables elements based on the result of the provided function, which prevents selection and apply the css \\'disabled\\' class.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ disable={\\xA0disable } />\\n            <script>\\n                this.disable = item => !item.children\\n            </script>\";\n});\n\nriot.tag2('search-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(query: string) => (item: Object) => boolean</pre>\\n        <p>If provided, enables the built-in search bar and is called when the user types a search query.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ search={\\xA0search } />\\n            <script>\\n                this.search = input => item => item.label.match(new RegExp(`.*${ input }.*`, \\\"gi\\\"))\\n            </script>\";\n});\n\nriot.tag2('async-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">(mixed => Promise&lt;Object[]&gt;) => Promise&lt;Object[]&gt;</pre>\\n        <p>A function used to unwrap <em><a href=\"https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Promise\" target=\"_blank\" rel=\"noopener noreferrer\">Promises</a></em> in case of asynchronous children.</p>\\n\\n        <div class=\"emphasis\">\\n            Defaults to simple method call :\\n            <syntax-highlight>_ => _()</syntax-highlight>\\n        </div>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ async={\\xA0async } model={ model } />\\n\\n            <script>\\n                this.model = [{\\n                    label: \\\"Asynchronous children\\\",\\n                    children: timer =>\\n                         new Promise(resolve =>\\n                            setTimeout(() =>\\n                                resolve([{ label: \\\"timer is provided by the async property\\\" }]), timer))\\n                }]\\n                this.async = _ => _(Math.random() * 1000 + 500)\\n            </script>\";\n});\n\nriot.tag2('dragndrop-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object (details below)</pre>\\n        <p>The drag\\'n\\'drop configuration object.</p>\\n\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n\\n\\n        <p>Tip: for mobile drag\\'n\\'drop, use a <em><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Bernardo-Castilho/dragdroptouch\">polyfill</a></em>.</p>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n\\n        <p>Example of a draggable tree associated with a droppable tree :</p>\\n\\n        <dragtree></dragtree>\\n        <droptree></droptree>\\n\\n        <syntax-highlight>{parent.dragdroptrees}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            dragndrop: {\\n                draggable: false, // make items draggable\\n                droppable: false, // make the tree droppable\\n                drag:      null,  // action to perform on drag\\n                over:      null,  // hook on dragover\\n                enter:     null,  // hook on dragenter\\n                leave:     null,  // hook on dragleave\\n                drop:      null,  // action to perform on drop\\n                cancel:    null,  // action to perform on cancellation\\n                guard:     null   // prevents dragover and drop\\n            }\\n        \";\n\nthis.code = \"\\n            /* [Drag'n'drop presets](https://github.com/elbywan/bosket/blob/master/src/core/dragndrop.js) */\\n\\n            <TreeView /* ... */ dragndrop={\\xA0dragndrop }/>\\n\\n            <script>\\n                this.dragndrop = {\\n                    // To drag or drop on specific items\\n                    // you can use a function : (item) => true/false\\n                    draggable: true,\\n                    droppable: true,\\n\\n                    // target       -> the model item targeted by the event\\n                    // event        -> the dragndrop event\\n                    // inputs       -> props of the component where the event is triggered\\n\\n                    drag: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    over: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    enter: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    leave: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    drop: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    cancel: (target, event, inputs) => {\\n                        /* ... */\\n                    },\\n                    guard: (target, event, inputs) => {\\n                        /* ... */\\n                    }\\n                }\\n            </script>\\n        \";\n\nthis.dragdroptrees = \"\\n            <DragTree>\\n                <div class=\\\"tree-sample\\\">\\n                    <TreeView opts={ conf } />\\n                </div>\\n                <script>\\n                    import { dragndrop } from \\\"@bosket/core\\\"\\n                    this.dragModel = [\\n                        { name: \\\"< Drag these items >\\\" },\\n                        { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }]},\\n                        { name: 2, children: [{ name: 21 }, { name: 22 }]},\\n                        { name: 3 },\\n                        { name: 4 }\\n                    ]\\n                    this.conf = {\\n                        model: this.dragModel,\\n                        category: \\\"children\\\",\\n                        selection: [],\\n                        onselection: _ => this.update({ selection: _ }),\\n                        display: i => i.name,\\n                        strategies: { fold: [() => false]},\\n                        // Pluck preset\\n                        dragndrop: { ...dragndrop.pluck(() => this.conf.model, m => {\\xA0this.conf.model = m; this.update() }) }\\n                    }\\n                </script>\\n            </DragTree>\\n\\n            <DropTree>\\n                <div class=\\\"tree-sample\\\">\\n                    <TreeView opts={ conf } />\\n                </div>\\n                <script>\\n                    import { dragndrop } from \\\"@bosket/core\\\"\\n                    this.conf = {\\n                        model: [{ name: \\\"< Drop items here >\\\", children: []}],\\n                        category: \\\"children\\\",\\n                        selection: [],\\n                        onselection: _ => this.update({ selection: _ }),\\n                        display: i => i.name,\\n                        strategies: { fold: [() => false]},\\n                        // Paste preset + only drop on items with children\\n                        dragndrop: {\\n                            ...dragndrop.paste(() => this.conf.model, m => {\\xA0this.conf.model = m; this.update() }),\\n                            droppable: item => item && item.children\\n                        }\\n                    }\\n                </script>\\n            </DropTree>\\n        \";\n});\n\nriot.tag2('dragtree', '    <div class=\"tree-sample\">\\n        <treeview opts=\"{conf}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nvar _core = require(\"@bosket/core\");\n\nthis.dragModel = [{ name: \"< Drag these items >\" }, { name: 1, children: [{ name: 11 }, { name: 12 }, { name: 13 }] }, { name: 2, children: [{ name: 21 }, { name: 22 }] }, { name: 3 }, { name: 4 }];\nthis.conf = {\n    model: this.dragModel,\n    category: \"children\",\n    selection: [],\n    onselection: function onselection(_) {\n        return _this.update({ selection: _ });\n    },\n    display: function display(i) {\n        return i.name;\n    },\n    strategies: { fold: [function () {\n            return false;\n        }] },\n    // Pluck preset\n    dragndrop: _extends({}, _core.dragndrop.pluck(function () {\n        return _this.conf.model;\n    }, function (m) {\n        _this.conf.model = m;_this.update();\n    }))\n};\n});\n\nriot.tag2('droptree', '    <div class=\"tree-sample\">\\n        <treeview opts=\"{conf}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nvar _core = require(\"@bosket/core\");\n\nthis.conf = {\n    model: [{ name: \"< Drop items here >\", children: [] }],\n    category: \"children\",\n    selection: [],\n    onselection: function onselection(_) {\n        return _this.update({ selection: _ });\n    },\n    display: function display(i) {\n        return i.name;\n    },\n    strategies: { fold: [function () {\n            return false;\n        }] },\n    // Paste preset + only drop on items with children\n    dragndrop: _extends({}, _core.dragndrop.paste(function () {\n        return _this.conf.model;\n    }, function (m) {\n        _this.conf.model = m;_this.update();\n    }), {\n        droppable: function droppable(item) {\n            return item && item.children;\n        }\n    })\n};\n});\n\nriot.tag2('noopener-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">boolean</pre>\\n        <p>Hides the opener, which is usually the little arrow or arrow-like icon used to unfold a node.</p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"<TreeView /* ... */ noopener={\\xA0true } />\";\n});\n\nriot.tag2('labels-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>Labels override.</p>\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            labels: {\\n                \\\"search.placeholder\\\": \\\"Search ...\\\"\\n            }\\n        \";\nthis.code = \"\\n            <TreeView /* ... */ labels={\\xA0labels } />\\n\\n            <script>\\n                this.labels = {\\n                    \\\"search.placeholder\\\": \\\"I am the text displayed in the search bar as a placeholder.\\\"\\n                }\\n            </script>\\n        \";\n});\n\nriot.tag2('css-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>Css classnames override.</p>\\n        <div class=\"emphasis\">\\n            Defaults to :\\n            <syntax-highlight>{parent.default}</syntax-highlight>\\n        </div>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.default = \"\\n            css: {\\n                TreeView:           \\\"TreeView\\\",\\n                opener:             \\\"opener\\\",\\n                depth:              \\\"depth\\\",\\n                selected:           \\\"selected\\\",\\n                category:           \\\"category\\\",\\n                folded:             \\\"folded\\\",\\n                disabled:           \\\"disabled\\\",\\n                async:              \\\"async\\\",\\n                loading:            \\\"loading\\\",\\n                nodrop:             \\\"nodrop\\\",\\n                dragover:           \\\"dragover\\\",\\n                search:             \\\"search\\\",\\n                item:               \\\"item\\\"\\n            }\\n        \";\nthis.code = \"\\n            <TreeView /* ... */ css={ css } />\\n\\n            <script>\\n                this.css = { TreeView: \\\"CustomTree\\\", loading: \\\"customLoading\\\" }\\n            </script>\\n        \";\n});\n\nriot.tag2('transition-prop', '    <div class=\"marged\">\\n        <pre class=\"itemType\">Object</pre>\\n        <p>\\n            Allows transitions by <em><a href=\"https://github.com/elbywan/bosket/blob/master/src/riot/mixins/transition.js\">applying css classes on mount/unmount</a></em>.<br>\\n        </p>\\n\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n            <TreeView /* ... */ transition={ transition } />\\n\\n            <style>\\n                .TransitionName {\\n                    transition: opacity .3s;\\n                }\\n                .TransitionName-mount, .TransitionName-unmount {\\n                    opacity: 0;\\n                }\\n            </style>\\n            <script>\\n                /*\\n                    During the whole life of the tree, the \\\"TransitionName\\\" css class\\n                        is set on the element.\\n                    On mount the  \\\"TransitionName-mount\\\" css class is applied,\\n                        then removed next tick.\\n                    On unmount the  \\\"TransitionName-unmount\\\" css class is applied,\\n                        and the node destruction is delayed until the transition completes.\\n                 */\\n                this.transition = {\\n                     name: \\\"TransitionName\\\"\\n                }\\n            </script>\\n        \";\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/optional-properties/component.tag\n// module id = 473\n// module chunks = 1","\n    var riot = require('riot')\n    riot.tag2('syntax-highlight', '    <pre class=\"{language- + language}\"><code class=\"{language- + language}\" ref=\"ref\"><yield></yield></code></pre>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _tools = require(\"self/common/tools\");\n\nthis.language = this.opts.language || \"javascript\";\n\nvar makePrefix = function makePrefix(i) {\n    var str = \"\";\n    for (var _ = 0; _ < i; _++) {\n        str += \" \";\n    }\n    return str;\n};\nvar offsetPrefix = this.opts.offset ? makePrefix(this.opts.offset) : \"\";\nthis.one(\"mount\", function () {\n    _this.refs.ref.textContent = (0, _tools.indent)(offsetPrefix + (_this.opts.content || _this.refs.ref.textContent));\n    window.Prism.highlightElement(_this.refs.ref);\n});\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Syntax.tag\n// module id = 474\n// module chunks = 1","\n    var riot = require('riot')\n    riot.tag2('componentdemo', '    <div class=\"ComponentDemo section\">\\n        <h3 if=\"{componentname}\">{componentname}</h3>\\n        <p if=\"{description}\">{description}</p>\\n        <div class=\"{ComponentDemo: true, flex-container: true, expanded: expand}\">\\n            <div class=\"{ComponentDemo: true, demo-area: true, expand: expand === demo}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(demo)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === demo,                         fa-expand:    expand !== demo}\"></i>\\n                </div>\\n\\n                <div class=\"ComponentDemo padded\">\\n                    <yield></yield>\\n                </div>\\n            </div>\\n            <div class=\"{ComponentDemo: true, code: true, expand: expand === code}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(code)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === code,                         fa-expand:    expand !== code}\"></i>\\n                </div>\\n\\n                <div class=\"tabs\">\\n                    <div each=\"{file in files}\" onclick=\"{setTab(file)}\" class=\"{selected: parent.tab === file}\">\\n                        {getFileName(file)}\\n                    </div>\\n                </div>\\n\\n                <pre class=\"{language- + getPrismExtension(tab)}\"><code class=\"{language- + getPrismExtension(tab)}\" ref=\"tabContents\"></code></pre>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/ComponentDemo.css\");\n\nvar _tools = require(\"self/common/tools\");\n\nObject.assign(this, this.opts);\nif (!this.files) this.files = [];\n\nthis.expand = \"demo\";\nthis.doExpand = function (target) {\n    return function (_) {\n        return _this.expand = _this.expand === target ? \"\" : target;\n    };\n};\n\nthis._tab = null;\nthis.setTab = function (file) {\n    return function (e) {\n        return _this.tab = file;\n    };\n};\nObject.defineProperty(this, \"tab\", {\n    configurable: true,\n    get: function get() {\n        return _this._tab || (_this.files.length > 0 ? _this.files[0] : null);\n    },\n    set: function set(file) {\n        _this._tab = file;\n        (0, _tools.loadFile)(file, function (code) {\n            _this.refs.tabContents.innerHTML = window[\"Prism\"].highlight(code, window[\"Prism\"].languages[_this.getPrismExtension(file)]);\n        });\n    }\n});\nthis.tab = this.files.length > 0 ? this.files[0] : null;\n\nthis.getFileName = function (file) {\n    return file.split(\"/\").splice(-1);\n};\nthis.getPrismExtension = function (file) {\n    var split = file.split(\".\");\n    var extension = \"javascript\";\n    if (split[split.length - 1] === \"css\") extension = \"css\";else if (split[split.length - 1] === \"ts\") extension = \"typescript\";\n    return extension;\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/ComponentDemo.tag\n// module id = 475\n// module chunks = 1","import \"./TreeView\"\nimport \"./ChuckNorris\"\nimport \"./HackerNews\"\nimport \"./Pokeapi\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/index.js","import \"./TreeViewDemo.tag\"\nimport \"./TreeViewSection.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/TreeView/index.js","\n    var riot = require('riot')\n    riot.tag2('treeviewdemo', '\\n    <treeview opts=\"{options}\" selection=\"{opts.selection}\" onselection=\"{opts.onselection}\"></treeview>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Model\n\n// Style\n\nvar _tools = require(\"@bosket/tools\");\n\nvar _core = require(\"@bosket/core\");\n\nvar _riot = require(\"riot\");\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _TreeViewModel = require(\"self/common/models/TreeViewModel\");\n\nvar _TreeViewModel2 = _interopRequireDefault(_TreeViewModel);\n\nrequire(\"./TreeViewDemo.css\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.dragImage = new Image();\nthis.dragImage.src = \"../assets/drag-image.png\";\n\n// A custom defined tag used to wrap items on display\n_riot2.default.tag(\"wrappedlabel\", \"<a>{ opts.item.label }</a>\");\n\nthis.options = {\n    // Data model\n    model: _TreeViewModel2.default,\n    // Property of the model containing children\n    category: \"items\",\n    // Wrapper tag\n    displaytag: function displaytag(item) {\n        return \"wrappedlabel\";\n    },\n    // Alphabetical sort\n    sort: function sort(a, b) {\n        return a.label.localeCompare(b.label);\n    },\n    // Search by regex\n    search: function search(input) {\n        return function (i) {\n            return (0, _tools.string)(i.label).contains(input);\n        };\n    },\n    strategies: {\n        // Use keyboard modifiers\n        selection: [\"modifiers\"],\n        // Use the opener to control element folding\n        fold: [\"opener-control\"]\n    },\n    // Custom css root class name\n    css: { TreeView: \"TreeViewDemo\" },\n    dragndrop: _extends({}, _core.dragndrop.selection(function () {\n        return _this.options.model;\n    }, function (m) {\n        _this.options.model = m;_this.update();\n    }), {\n        // Add a custom image on drag\n        drag: function drag(_, event) {\n            event.dataTransfer.setDragImage(_this.dragImage, 0, 0);\n            event.dataTransfer.setData(\"application/json\", JSON.stringify(_this.options.selection));\n        },\n        // Drop only on categories or root (excluding asynchronous promises)\n        droppable: function droppable(_) {\n            return !_ || _.items && _.items instanceof Array;\n        }\n    }),\n    // Allow css transitions on mount/unmount\n    transition: {\n        name: \"TreeViewDemoTransition\"\n    }\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/TreeView/TreeViewDemo.tag\n// module id = 478\n// module chunks = 1","\n    var riot = require('riot')\n    riot.tag2('treeviewsection', '    <div>\\n        <p>\\n            <span>Demonstrates a basic usage of the TreeView component </span>\\n            <span>and how to override and use most of its </span>\\n            <em><a href=\"#TreeView#Required properties\">component props</a></em>, and&nbsp;\\n            <em><a href=\"#TreeView#Css\">css styles</a></em>.\\n        </p>\\n        <span>Featuring :</span>\\n        <ul>\\n            <li>Drag and drop, with a custom drag image.</li>\\n            <li>Asynchronous children loading</li>\\n            <li>Multiselection using keyboard modifiers (shift / ctrl or cmd)</li>\\n            <li>Transitions on fold / unfold</li>\\n            <li>Alphabetical sort</li>\\n            <li>Search bar</li>\\n        </ul>\\n    </div>\\n    <componentdemo componentname=\"Nested items\" files=\"{files}\">\\n        <div style=\"text-align: center\">\\n            <div style=\"display: inline-block; text-align: left\">\\n                <treeviewdemo selection=\"{parent.selection}\" onselection=\"{parent.onselection}\"></TreeViewDemo>\\n            </div>\\n\\n            <p>\\n                <span if=\"{parent.selection.length === 0}\">No elements are</span>\\n                <span if=\"{parent.selection.length === 1}\">One element is</span>\\n                <span if=\"{parent.selection.length > 1}\">{parent.selection.length} elements are</span>\\n                selected.\\n            </p>\\n\\n            <div class=\"select-blocks\">\\n                <button each=\"{item in parent.selection}\" onclick=\"{parent.parent.deselect(item)}\">\\n                    {item.label}\\n                </button>\\n            </div>\\n        </div>\\n    </ComponentDemo>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.files = [\"./components/Demos/TreeView/TreeViewDemo.tag\", \"./components/Demos/TreeView/TreeViewDemo.css\", \"../common/models/TreeViewModel.js\"];\n\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.deselect = function (item) {\n    return function (_) {\n        return _this.selection = _this.selection.filter(function (i) {\n            return i !== item;\n        });\n    };\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/TreeView/TreeViewSection.tag\n// module id = 480\n// module chunks = 1","import \"./ChuckNorris.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/ChuckNorris/index.js","\n    var riot = require('riot')\n    riot.tag2('chucknorriscategory', '    <span class=\"value\">{item.value}\\n        <i class=\"{fa fa-refresh + (item.children.length === 0 ?  loading : )}\" onclick=\"{onClick}\">\\n        </i>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nthis.onClick = function (e) {\n    _this.item.children = [];\n    _this.item.loadJoke().then(function (joke) {\n        _this.item.children = joke;\n        _this.parent.update();\n    });\n};\n});\n\nriot.tag2('chucknorrisjoke', '    <div class=\"value\">\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.value}</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('chucknorris', '    <div>\\n       <div style=\"text-align: center; margin: 10px;\">\\n           <div>\\n               <a href=\"https://api.chucknorris.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                   <img src=\"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png\" alt=\"Chuck Norris api logo\" style=\"width: 100px; filter: drop-shadow(0 0 2px #444);\">\\n               </a>\\n           </div>\\n           <h5>A curated list of Chuck Norris jokes.</h5>\\n           <div>\\n               <button onclick=\"{init}\" class=\"ChuckNorrisButton\">Reset</button>\\n           </div>\\n            <i if=\"{categories.length === 0}\" class=\"ChuckNorrisSpinner fa fa-spinner fa-3x\"></i>\\n       </div>\\n       <treeview if=\"{categories.length > 0}\" model=\"{categories}\" category=\"children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/ChuckNorris.css\");\n\nvar _models = require(\"./models\");\n\nthis.categories = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"], click: [\"unfold-on-selection\"] },\n    css: { TreeView: \"ChuckNorrisDemo\" }\n};\nthis.init = function () {\n    fetch(\"https://api.chucknorris.io/jokes/categories\").then(function (response) {\n        return response.json();\n    }).then(function (categories) {\n        _this.categories = categories.map(function (cat) {\n            return new _models.Category(cat);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\nthis.display = function (item) {\n    return item.display();\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/ChuckNorris/ChuckNorris.tag\n// module id = 482\n// module chunks = 1","export class Category {\n    constructor(category) {\n        this.value = category\n        this.children = this.loadJoke\n    }\n\n    loadJoke = () =>\n        fetch(`https://api.chucknorris.io/jokes/random?category=${ this.value }`)\n            .then(response => response.json())\n            .then(joke => [new Joke(joke)])\n\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"chucknorriscategory\"\n}\n\nexport class Joke {\n    constructor(joke) { Object.assign(this, joke) }\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"chucknorrisjoke\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/ChuckNorris/models.js","import \"./HackerNews.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/HackerNews/index.js","\n    var riot = require('riot')\n    riot.tag2('hackernewsfetchmore', '    <div class=\"fetchMore\" onclick=\"{more}\">\\n        <a>Load more comments</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.more = function (e) {\n    _this.opts.item.fetchKids().then(_this.parent.parent.update);\n};\n});\n\nriot.tag2('hackernewstopstories', '    <span class=\"story\">\\n        <span class=\"commentCount\"><span if=\"{item.descendants}\">({item.descendants}) </span>({item.score} points) - by <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a></span>\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">\\n            {item.title}\\n        </a>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('hackernewscomment', '    <div class=\"comment\">\\n        <div class=\"infobar\">\\n            <span class=\"commentCount\" if=\"{item.kids && item.kids.length > 0}\">({item.kids.length})</span>\\n            <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a> {item.date}\\n        </div>\\n        <div class=\"text\" if=\"{item.deleted}\"><em>Deleted.</em></div>\\n        <div class=\"text\" if=\"{!item.deleted}\" ref=\"content\"></div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nvar refreshContent = function refreshContent() {\n        return _this.refs.content.innerHTML = _this.item.text;\n};\nthis.on(\"update\", refreshContent);\nthis.one(\"mount\", refreshContent);\n});\n\nriot.tag2('hackernews', '    <div>\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://news.ycombinator.com\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"http://www.ycombinator.com/images/ycombinator-logo-fb889e2e.png\" alt=\"HackerNews logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>The top 10 stories from HackerNews.</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"HackerNewsButton\">Reset</button>\\n            </div>\\n            <i if=\"{stories.length === 0}\" class=\"HackerNewsSpinner fa fa-spinner fa-3x\"></i>\\n        </div>\\n        <treeview if=\"{stories.length > 0}\" model=\"{stories}\" category=\"children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></TreeView>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/HackerNews.css\");\n\nvar _models = require(\"./models\");\n\nthis.stories = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"] },\n    css: { TreeView: \"HackerNewsDemo\" }\n};\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    fetch(\"https://hacker-news.firebaseio.com/v0/beststories.json\").then(function (response) {\n        return response.json();\n    }).then(function (topStories) {\n        return (0, _models.fetchLast)(topStories, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        });\n    }).then(function (topStories) {\n        _this.stories = topStories.map(function (story) {\n            return new _models.TopStory(story);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/HackerNews/HackerNews.tag\n// module id = 485\n// module chunks = 1","import sanitize from \"sanitize-html\"\n\nexport const fetchLast = (arr, getUrl, limit = 10, offset = 0) =>\n    Promise.all(arr.slice(offset, offset + limit).map(_ => fetch(getUrl(_)).then(response => response.json())))\n\nclass Item {\n\n    constructor(data) {\n        Object.assign(this, data)\n        if(this.kids) {\n            this.children = () => this.fetchKids()\n        }\n    }\n\n    offset = 0\n    fetchLimit = 5\n\n    fetchKids() {\n        if(this.children instanceof Array && this.children[this.children.length - 1].id === -1)\n            this.children = this.children.slice(0, this.children.length - 1)\n        return fetchLast(this.kids, _ => `https://hacker-news.firebaseio.com/v0/item/${_}.json`, this.fetchLimit, this.offset)\n            .then(kids => {\n                const result = kids.map(k => new Comment(k))\n                this.offset += this.fetchLimit\n                if(this.offset < this.kids.length) {\n                    result.push({\n                        id: -1,\n                        fetchKids: () => this.fetchKids().then(_ => {\n                            if(this.children instanceof Array)\n                                this.children = [ ...this.children, ..._ ]\n                        }),\n                        // Riotjs tags are lowercased by the compiler\n                        display: () => \"hackernewsfetchmore\"\n                    })\n                }\n                return result\n            })\n    }\n}\n\nexport class TopStory extends Item {\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"hackernewstopstories\"\n\n}\n\nexport class Comment extends Item {\n\n    constructor(data) {\n        super(data)\n        this.text = sanitize(this.text)\n        this.date = new Date(this.time * 1000).toLocaleDateString()\n    }\n\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"hackernewscomment\"\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/HackerNews/models.js","import \"./Pokeapi.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/Pokeapi/index.js","\n    var riot = require('riot')\n    riot.tag2('pokeapisubcategory', '    <span class=\"subcategory\">{opts.item.name}</span>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapiitem', '    <div class=\"{subsection : opts.item.__subsection}\">\\n        <img if=\"{opts.item.__image}\" riot-src=\"{opts.item.__image}\" alt=\"sprite\">\\n        <div class=\"property-row\" each=\"{prop in filterProps()}\">\\n            <label>{prop}</label><span>{ + parent.opts.item[prop]}</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _this = this;\n\nthis.filterProps = function () {\n    var props = Object.getOwnPropertyNames(_this.opts.item);\n    return props.filter(function (prop) {\n        return !prop.startsWith(\"__\") && !(_typeof(_this[prop]) === \"object\") && !(typeof _this[prop] === \"function\");\n    });\n};\n});\n\nriot.tag2('pokemondisplay', '    <virtual>{opts.item.name} </virtual>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapi', '    <div style=\"position: relative;\">\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://pokeapi.co/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"https://avatars3.githubusercontent.com/u/19692032?v=4&s=200\" alt=\"Pokapi logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>Pokmon API crawler</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"PokeapiButton\">Reset</button>\\n            </div>\\n        </div>\\n        <treeview model=\"{data}\" category=\"__children\" selection=\"{selection}\" onselection=\"{onselection}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\" disable=\"{conf.disable}\" search=\"{conf.search}\"></treeview>\\n        <div class=\"{PokeapiLoadMore: true, center-text: true, loading: loading}\" riot-style=\"{display: + loadUrl ? block : none}\" onclick=\"{loadMorePokemons}\">\\n            <i class=\"fa fa-spinner fa-2x\" if=\"{loading}\"></i>\\n            <span if=\"{!loading}\">Show more pokmons</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nrequire(\"self/common/styles/Pokeapi.css\");\n\nvar _models = require(\"./models\");\n\nthis.conf = {\n    strategies: { fold: [\"opener-control\", function (_) {\n            return !_.__subsection;\n        }], click: [\"toggle-fold\"] },\n    css: { TreeView: \"PokeapiDemo\" },\n    disable: function disable(_) {\n        return _.__children && _.__children instanceof Array && _.__children.length === 0;\n    },\n    search: function search(input) {\n        return function (item) {\n            return item.name && item.name.startsWith(input);\n        };\n    }\n};\nthis.data = [];\nthis.selection = [];\nthis.onselection = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.loading = false;\nthis.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    _this.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: _ });\n    });\n};\nthis.one(\"mount\", this.init);\n\nthis.loadPokemons = function () {\n    if (!_this.loadUrl) return;\n    _this.loading = true;\n    return (0, _models.cachedFetch)(_this.loadUrl).then(function (json) {\n        _this.loadUrl = json.next;\n        _this.loading = false;\n        return json.results.map(function (i) {\n            return _extends({}, i, {\n                display: function display() {\n                    return \"pokemondisplay\";\n                },\n                __children: function __children() {\n                    return (0, _models.cachedFetch)(i.url).then(function (json) {\n                        return [new _models.Item(json)];\n                    });\n                }\n            });\n        });\n    }).catch(function (err) {\n        return _this.loading = false;\n    });\n};\nthis.loadMorePokemons = function () {\n    if (_this.loading) return;\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: [].concat(_this.data, _) });\n    });\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/Pokeapi/Pokeapi.tag\n// module id = 488\n// module chunks = 1","export class Item {\n\n    constructor(data) {\n        Object.assign(this, formatData(data))\n    }\n\n    display() { return this.name && this.url ? \"pokeapisubcategory\" : \"pokeapiitem\" }\n}\n\nconst cache = new Map()\nexport const cachedFetch = (url, ...args) => {\n    if(cache.has(url)) return Promise.resolve(cache.get(url))\n    return fetch(url, ...args)\n        .then(response => response.json())\n        .then(json => {\n            cache.set(url, json)\n            return json\n        })\n}\n\nconst imageMatch = (name, val) =>\n    name === \"sprites\" && val.front_default\n\nconst formatData = d => {\n    const data = { ...d }\n    if(data.url) {\n        const url = data.url\n        data.__children = () => cachedFetch(url).then(json => [new Item(json)])\n        return data\n    }\n    data.__subsection = true\n    for(const prop in data) {\n        if(prop.startsWith(\"__\")) continue\n\n        if(data[prop] instanceof Array) {\n            if(!data.__children) data.__children = []\n            data.__children.push({\n                name: \"\" + prop,\n                display: () => \"pokeapisubcategory\",\n                __children: data[prop].map(_ => new Item(_))\n            })\n            delete data[prop]\n        } else if(data[prop] && typeof data[prop] === \"object\") {\n            if(!data.__children) data.__children = []\n            if(data[prop].url && data[prop].name) {\n                const name = data[prop].name\n                const url = data[prop].url\n                data.__children.push({\n                    name: name,\n                    display: () => \"pokeapisubcategory\",\n                    __children: () => cachedFetch(url).then(json => [new Item(json)])\n                })\n            } else {\n                data.__children.push({\n                    name: \"\" + prop,\n                    display: () => \"pokeapisubcategory\",\n                    __children: [new Item(data[prop])]\n                })\n            }\n            const img = imageMatch(prop, data[prop])\n            if(img) data.__image = img\n            delete data[prop]\n        }\n    }\n    return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/Pokeapi/models.js","/* Riot v3.7.3, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.riot = {})));\n}(this, (function (exports) { 'use strict';\n\nvar __TAGS_CACHE = [];\nvar __TAG_IMPL = {};\nvar YIELD_TAG = 'yield';\nvar GLOBAL_MIXIN = '__global_mixin';\nvar ATTRS_PREFIX = 'riot-';\nvar REF_DIRECTIVES = ['ref', 'data-ref'];\nvar IS_DIRECTIVE = 'data-is';\nvar CONDITIONAL_DIRECTIVE = 'if';\nvar LOOP_DIRECTIVE = 'each';\nvar LOOP_NO_REORDER_DIRECTIVE = 'no-reorder';\nvar SHOW_DIRECTIVE = 'show';\nvar HIDE_DIRECTIVE = 'hide';\nvar KEY_DIRECTIVE = 'key';\nvar RIOT_EVENTS_KEY = '__riot-events__';\nvar T_STRING = 'string';\nvar T_OBJECT = 'object';\nvar T_UNDEF  = 'undefined';\nvar T_FUNCTION = 'function';\nvar XLINK_NS = 'http://www.w3.org/1999/xlink';\nvar SVG_NS = 'http://www.w3.org/2000/svg';\nvar XLINK_REGEX = /^xlink:(\\w+)/;\nvar WIN = typeof window === T_UNDEF ? undefined : window;\nvar RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;\nvar RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;\nvar RE_EVENTS_PREFIX = /^on/;\nvar RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g;\nvar CASE_SENSITIVE_ATTRIBUTES = {\n    'viewbox': 'viewBox',\n    'preserveaspectratio': 'preserveAspectRatio'\n  };\nvar RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;\nvar IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(list, fn) {\n  var len = list ? list.length : 0;\n  var i = 0;\n  for (; i < len; i++) { fn(list[i], i); }\n  return list\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nfunction contains(array, item) {\n  return array.indexOf(item) !== -1\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(str) {\n  return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nfunction startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  return el\n}\n\n/**\n * Function returning always a unique identifier\n * @returns { Number } - number from 0...n\n */\nvar uid = (function() {\n  var i = 0;\n  return function () { return ++i; }\n})();\n\n/**\n * Short alias for Object.getOwnPropertyDescriptor\n */\nvar getPropDescriptor = function (o, k) { return Object.getOwnPropertyDescriptor(o, k); };\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj;\n  var i = 1;\n  var args = arguments;\n  var l = args.length;\n\n  for (; i < l; i++) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          { src[key] = obj[key]; }\n      }\n    }\n  }\n  return src\n}\n\nvar misc = Object.freeze({\n\teach: each,\n\tcontains: contains,\n\ttoCamel: toCamel,\n\tstartsWith: startsWith,\n\tdefineProperty: defineProperty,\n\tuid: uid,\n\tgetPropDescriptor: getPropDescriptor,\n\textend: extend\n});\n\n/**\n * Check if the passed argument is a boolean attribute\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}\n\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isFunction(value) {\n  return typeof value === T_FUNCTION\n}\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isUndefined(value) {\n  return typeof value === T_UNDEF\n}\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isString(value) {\n  return typeof value === T_STRING\n}\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nfunction isBlank(value) {\n  return isNil(value) || value === ''\n}\n\n/**\n * Check against the null and undefined values\n * @param   { * }  value -\n * @returns {Boolean} -\n */\nfunction isNil(value) {\n  return isUndefined(value) || value === null\n}\n\n/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}\n\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } true if writable\n */\nfunction isWritable(obj, key) {\n  var descriptor = getPropDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n\n\nvar check = Object.freeze({\n\tisBoolAttr: isBoolAttr,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tisUndefined: isUndefined,\n\tisString: isString,\n\tisBlank: isBlank,\n\tisNil: isNil,\n\tisArray: isArray,\n\tisWritable: isWritable\n});\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return Array.prototype.slice.call((ctx || document).querySelectorAll(selector))\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nfunction createFrag() {\n  return document.createDocumentFragment()\n}\n\n/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nfunction createDOMPlaceholder() {\n  return document.createTextNode('')\n}\n\n/**\n * Check if a DOM node is an svg tag\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nfunction isSvg(el) {\n  return !!el.ownerSVGElement\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - true if we need to use an svg node\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n */\n/* istanbul ignore next */\nfunction setInnerHTML(container, html) {\n  if (!isUndefined(container.innerHTML))\n    { container.innerHTML = html; }\n    // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml');\n    var node = container.ownerDocument.importNode(doc.documentElement, true);\n    container.appendChild(node);\n  }\n}\n\n/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nfunction toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none';\n  dom.hidden = show ? false : true;\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name);\n}\n\n/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nfunction styleObjectToString(style) {\n  return Object.keys(style).reduce(function (acc, prop) {\n    return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n  }, '')\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  var xlink = XLINK_REGEX.exec(name);\n  if (xlink && xlink[1])\n    { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n  else\n    { dom.setAttribute(name, val); }\n}\n\n/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nfunction safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next);\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttrs(html, fn) {\n  if (!html) { return }\n  var m;\n  while (m = RE_HTML_ATTRS.exec(html))\n    { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nfunction walkNodes(dom, fn, context) {\n  if (dom) {\n    var res = fn(dom, context);\n    var next;\n    // stop the recursion\n    if (res === false) { return }\n\n    dom = dom.firstChild;\n\n    while (dom) {\n      next = dom.nextSibling;\n      walkNodes(dom, fn, res);\n      dom = next;\n    }\n  }\n}\n\nvar dom = Object.freeze({\n\t$$: $$,\n\t$: $,\n\tcreateFrag: createFrag,\n\tcreateDOMPlaceholder: createDOMPlaceholder,\n\tisSvg: isSvg,\n\tmkEl: mkEl,\n\tsetInnerHTML: setInnerHTML,\n\ttoggleVisibility: toggleVisibility,\n\tremAttr: remAttr,\n\tstyleObjectToString: styleObjectToString,\n\tgetAttr: getAttr,\n\tsetAttr: setAttr,\n\tsafeInsert: safeInsert,\n\twalkAttrs: walkAttrs,\n\twalkNodes: walkNodes\n});\n\nvar styleNode;\n// Create cache and shortcut to the correct property\nvar cssTextProp;\nvar byName = {};\nvar remainder = [];\nvar needsInject = false;\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = ((function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style');\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]');\n\n    setAttr(newNode, 'type', 'text/css');\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) { newNode.id = userNode.id; }\n      userNode.parentNode.replaceChild(newNode, userNode);\n    } else { document.getElementsByTagName('head')[0].appendChild(newNode); }\n\n    return newNode\n  }))();\n  cssTextProp = styleNode.styleSheet;\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = {\n  styleNode: styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add: function add(css, name) {\n    if (name) { byName[name] = css; }\n    else { remainder.push(css); }\n    needsInject = true;\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject: function inject() {\n    if (!WIN || !needsInject) { return }\n    needsInject = false;\n    var style = Object.keys(byName)\n      .map(function (k) { return byName[k]; })\n      .concat(remainder).join('\\n');\n    /* istanbul ignore next */\n    if (cssTextProp) { cssTextProp.cssText = style; }\n    else { styleNode.innerHTML = style; }\n  }\n};\n\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ];\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '');\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n  var RE_VN_CHAR = /[$\\w]/;\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos])){  }\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g;\n    var pos = re.lastIndex = start++;\n    var match = re.exec(code)[0].match(RE_REGEX);\n\n    if (match) {\n      var next = pos + match[0].length;\n\n      pos = prev(code, pos);\n      var c = code[pos];\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next;\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next;\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1;\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){  }\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next;\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})();\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\n/* istanbul ignore next */\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }';\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ];\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings;\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) { bp = _cache; }\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) { return _pairs }\n\n    var arr = pair.split(' ');\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n    arr[6] = _rewrite(_pairs[6], arr);\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n    arr[8] = pair;\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) { _bp = _cache; }\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6];\n\n    var qblocks = [];\n    var prevStr = '';\n    var mark, lastIndex;\n\n    isexpr = start = re.lastIndex = 0;\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex;\n      pos = match.index;\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2];\n          var rech = FINDBRACES[ch];\n          var ix = 1;\n\n          rech.lastIndex = lastIndex;\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) { ++ix; }\n              else if (!--ix) { break }\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex;\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos));\n        start = re.lastIndex;\n        re = _bp[6 + (isexpr ^= 1)];\n        re.lastIndex = start;\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start));\n    }\n\n    parts.qblocks = qblocks;\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s;\n        prevStr = '';\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'));\n      } else {\n        parts.push(s);\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos);\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~';\n        qblocks.push(str.slice(_pos, _lastIndex));\n        prevStr += str.slice(start, _pos) + mark;\n        start = _lastIndex;\n      }\n      return _lastIndex\n    }\n  };\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  };\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9]);\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  };\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  };\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair);\n      _regex = pair === DEFAULT ? _loopback : _rewrite;\n      _cache[9] = _regex(_pairs[9]);\n    }\n    cachedBrackets = pair;\n  }\n\n  function _setSettings (o) {\n    var b;\n\n    o = o || {};\n    b = o.brackets;\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    });\n    _settings = o;\n    _reset(b);\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  });\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n  _brackets.set = _reset;\n  _brackets.skipRegex = skipRegex;\n\n  _brackets.R_STRINGS = R_STRINGS;\n  _brackets.R_MLCOMMS = R_MLCOMMS;\n  _brackets.S_QBLOCKS = S_QBLOCKS;\n  _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n  return _brackets\n\n})();\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\n/* istanbul ignore next */\nvar tmpl = (function () {\n\n  var _cache = {};\n\n  function _tmpl (str, data) {\n    if (!str) { return str }\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr;\n\n  _tmpl.loopKeys = brackets.loopKeys;\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {}; };\n\n  _tmpl.errorHandler = null;\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    };\n\n    if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message);\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n      console.log(this.data); // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str);\n\n    if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g;\n  var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n    var qstr = parts.qblocks;\n    var expr;\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = [];\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i];\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) { list[j++] = expr; }\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")';\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr);\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      });\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    };\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match;\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g;\n\n        expr = RegExp.rightContext;\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n        while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n        jsb  = expr.slice(0, match.index);\n        expr = RegExp.rightContext;\n\n        list[cnt++] = _wrapExpr(jsb, 1, key);\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch];\n\n      ir.lastIndex = re.lastIndex;\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) { ++lv; }\n        else if (!--lv) { break }\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex;\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n  function _wrapExpr (expr, asText, key) {\n    var tb;\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length;\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n          if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos));\n        }\n      }\n      return match\n    });\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"';\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)';\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8';\n\n  return _tmpl\n\n})();\n\n/* istanbul ignore next */\nvar observable$1 = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {};\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice;\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          { (callbacks[event] = callbacks[event] || []).push(fn); }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) { callbacks = {}; }\n        else {\n          if (fn) {\n            var arr = callbacks[event];\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) { arr.splice(i--, 1); }\n            }\n          } else { delete callbacks[event]; }\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on);\n          fn.apply(el, arguments);\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n        var arguments$1 = arguments;\n\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i;\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments$1[i + 1]; // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0);\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args);\n        }\n\n        if (callbacks['*'] && event != '*')\n          { el.trigger.apply(el, ['*', event].concat(args)); }\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  });\n\n  return el\n\n};\n\nvar settings$1 = extend(Object.create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n});\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  var ptag = this.__.parent;\n  var item = this.__.item;\n\n  if (!item)\n    { while (ptag && !item) {\n      item = ptag.__.item;\n      ptag = ptag.__.parent;\n    } }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) { e.target = e.srcElement; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n  e.item = item;\n\n  handler.call(this, e);\n\n  // avoid auto updates\n  if (!settings$1.autoUpdate) { return }\n\n  if (!e.preventUpdate) {\n    var p = getImmediateCustomParentTag(this);\n    // fixes #2083\n    if (p.isMounted) { p.update(); }\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n  var eventName;\n  var cb = handleEvent.bind(tag, dom, handler);\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null;\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n  if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n  if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n  dom[RIOT_EVENTS_KEY][name] = cb;\n  dom.addEventListener(eventName, cb, false);\n}\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nfunction updateDataIs(expr, parent, tagName) {\n  var tag = expr.tag || expr.dom._tag;\n  var ref;\n\n  var ref$1 = tag ? tag.__ : {};\n  var head = ref$1.head;\n  var isVirtual = expr.dom.tagName === 'VIRTUAL';\n\n  if (tag && expr.tagName === tagName) {\n    tag.update();\n    return\n  }\n\n  // sync _parent to accommodate changing tagnames\n  if (tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      ref = createDOMPlaceholder();\n      head.parentNode.insertBefore(ref, head);\n    }\n\n    tag.unmount(true);\n  }\n\n  // unable to get the tag name\n  if (!isString(tagName)) { return }\n\n  expr.impl = __TAG_IMPL[tagName];\n\n  // unknown implementation\n  if (!expr.impl) { return }\n\n  expr.tag = tag = initChildTag(\n    expr.impl, {\n      root: expr.dom,\n      parent: parent,\n      tagName: tagName\n    },\n    expr.dom.innerHTML,\n    parent\n  );\n\n  each(expr.attrs, function (a) { return setAttr(tag.root, a.name, a.value); });\n  expr.tagName = tagName;\n  tag.mount();\n\n  // root exist first time, after use placeholder\n  if (isVirtual) { makeReplaceVirtual(tag, ref || tag.root); }\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = function () {\n    var delName = tag.opts.dataIs;\n    arrayishRemove(tag.parent.tags, delName, tag);\n    arrayishRemove(tag.__.parent.tags, delName, tag);\n    tag.unmount();\n  };\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nfunction normalizeAttrName(attrName) {\n  if (!attrName) { return null }\n  attrName = attrName.replace(ATTRS_PREFIX, '');\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nfunction updateExpression(expr) {\n  if (this.root && getAttr(this.root,'virtualized')) { return }\n\n  var dom = expr.dom;\n  // remove the riot- prefix\n  var attrName = normalizeAttrName(expr.attr);\n  var isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName);\n  var isVirtual = expr.root && expr.root.tagName === 'VIRTUAL';\n  var ref = this.__;\n  var isAnonymous = ref.isAnonymous;\n  var parent = dom && (expr.parent || dom.parentNode);\n  // detect the style attributes\n  var isStyleAttr = attrName === 'style';\n  var isClassAttr = attrName === 'class';\n\n  var value;\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.__.wasCreated) {\n      expr.update();\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount();\n      if (isVirtual) {\n        makeReplaceVirtual(expr, expr.root);\n      }\n    }\n    return\n  }\n\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) { return expr.update() }\n\n  var context = isToggle && !isAnonymous ? extend(Object.create(this), this.parent) : this;\n\n  // ...it seems to be a simple expression so we try to calculate its value\n  value = tmpl(expr.expr, context);\n\n  var hasValue = !isBlank(value);\n  var isObj = isObject(value);\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this);\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value);\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.wasParsedOnce || !hasValue || value === false)) {\n    // remove either riot-* attributes or just the attribute name\n    remAttr(dom, getAttr(dom, expr.attr) ? expr.attr : attrName);\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) { value = value ? attrName : false; }\n  if (expr.isRtag) { return updateDataIs(expr, this, value) }\n  if (expr.wasParsedOnce && expr.value === value) { return }\n\n  // update the expression value\n  expr.value = value;\n  expr.wasParsedOnce = true;\n\n  // if the value is an object (and it's not a style or class attribute) we can not do much more with it\n  if (isObj && !isClassAttr && !isStyleAttr && !isToggle) { return }\n  // avoid to render undefined/null values\n  if (!hasValue) { value = ''; }\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += '';\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent;\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value;                    // #1113\n        if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else { dom.nodeValue = value; }\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this);\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value;\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value;\n    } else if (hasValue && value !== false) {\n      setAttr(dom, attrName, value);\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nfunction updateAllExpressions(expressions) {\n  each(expressions, updateExpression.bind(this));\n}\n\nvar IfExpr = {\n  init: function init(dom, tag, expr) {\n    remAttr(dom, CONDITIONAL_DIRECTIVE);\n    this.tag = tag;\n    this.expr = expr;\n    this.stub = createDOMPlaceholder();\n    this.pristine = dom;\n\n    var p = dom.parentNode;\n    p.insertBefore(this.stub, dom);\n    p.removeChild(dom);\n\n    return this\n  },\n  update: function update() {\n    this.value = tmpl(this.expr, this.tag);\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true);\n      this.stub.parentNode.insertBefore(this.current, this.stub);\n      this.expressions = [];\n      parseExpressions.apply(this.tag, [this.current, this.expressions, true]);\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions);\n      if (this.current._tag) {\n        this.current._tag.unmount();\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current);\n      }\n      this.current = null;\n      this.expressions = [];\n    }\n\n    if (this.value) { updateAllExpressions.call(this.tag, this.expressions); }\n  },\n  unmount: function unmount() {\n    unmountAll(this.expressions || []);\n  }\n};\n\nvar RefExpr = {\n  init: function init(dom, parent, attrName, attrValue) {\n    this.dom = dom;\n    this.attr = attrName;\n    this.rawValue = attrValue;\n    this.parent = parent;\n    this.hasExp = tmpl.hasExpr(attrValue);\n    return this\n  },\n  update: function update() {\n    var old = this.value;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) { arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      ); }\n\n      if (this.value !== old) {\n        setAttr(this.dom, this.attr, this.value);\n      }\n    } else {\n      remAttr(this.dom, this.attr);\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n  },\n  unmount: function unmount() {\n    var tagOrDom = this.tag || this.dom;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    if (!isBlank(this.value) && customParent)\n      { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n  }\n};\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  var item = base ? Object.create(base) : {};\n  item[expr.key] = key;\n  if (expr.pos) { item[expr.pos] = val; }\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  var i = tags.length;\n  var j = items.length;\n\n  while (i > j) {\n    i--;\n    remove.apply(tags[i], [tags, i]);\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1);\n  this.unmount();\n  arrayishRemove(this.parent, this, this.__.tagName, true);\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  var this$1 = this;\n\n  each(Object.keys(this.tags), function (tagName) {\n    moveChildTag.apply(this$1.tags[tagName], [tagName, i]);\n  });\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { moveVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.call(this, root); }\n  else\n    { root.appendChild(this.root); }\n}\n\n/**\n * Return the value we want to use to lookup the postion of our items in the collection\n * @param   { String }  keyAttr         - lookup string or expression\n * @param   { * }       originalItem    - original item from the collection\n * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n * @returns { * } value that we will use to figure out the item position via collection.indexOf\n */\nfunction getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n  if (keyAttr) {\n    return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n  }\n\n  return originalItem\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nfunction _each(dom, parent, expr) {\n  var mustReorder = typeof getAttr(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || remAttr(dom, LOOP_NO_REORDER_DIRECTIVE);\n  var keyAttr = getAttr(dom, KEY_DIRECTIVE);\n  var hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false;\n  var tagName = getTagName(dom);\n  var impl = __TAG_IMPL[tagName];\n  var parentNode = dom.parentNode;\n  var placeholder = createDOMPlaceholder();\n  var child = getTag(dom);\n  var ifExpr = getAttr(dom, CONDITIONAL_DIRECTIVE);\n  var tags = [];\n  var isLoop = true;\n  var innerHTML = dom.innerHTML;\n  var isAnonymous = !__TAG_IMPL[tagName];\n  var isVirtual = dom.tagName === 'VIRTUAL';\n  var oldItems = [];\n  var hasKeys;\n\n  // remove the each property from the original tag\n  remAttr(dom, LOOP_DIRECTIVE);\n  remAttr(dom, KEY_DIRECTIVE);\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr);\n  expr.isLoop = true;\n\n  if (ifExpr) { remAttr(dom, CONDITIONAL_DIRECTIVE); }\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom);\n  parentNode.removeChild(dom);\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent);\n\n    var items = expr.value;\n    var frag = createFrag();\n    var isObject$$1 = !isArray(items) && !isString(items);\n    var root = placeholder.parentNode;\n    var tmpItems = [];\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) { return }\n\n    // object loop. any changes cause full redraw\n    if (isObject$$1) {\n      hasKeys = items || false;\n      items = hasKeys ?\n        Object.keys(items).map(function (key) { return mkitem(expr, items[key], key); }) : [];\n    } else {\n      hasKeys = false;\n    }\n\n    if (ifExpr) {\n      items = items.filter(function (item, i) {\n        if (expr.key && !isObject$$1)\n          { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n        return !!tmpl(ifExpr, extend(Object.create(parent), item))\n      });\n    }\n\n    // loop all the new items\n    each(items, function (_item, i) {\n      var item = !hasKeys && expr.key ? mkitem(expr, _item, i) : _item;\n      var itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr);\n      // reorder only if the items are objects\n      var doReorder = mustReorder && typeof _item === T_OBJECT && !hasKeys;\n      var oldPos = oldItems.indexOf(itemId);\n      var isNew = oldPos === -1;\n      var pos = !isNew && doReorder ? oldPos : i;\n      // does a tag exist in this position?\n      var tag = tags[pos];\n      var mustAppend = i >= oldItems.length;\n      var mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n      // new tag\n      if (mustCreate) {\n        tag = createTag(impl, {\n          parent: parent,\n          isLoop: isLoop,\n          isAnonymous: isAnonymous,\n          tagName: tagName,\n          root: dom.cloneNode(isAnonymous),\n          item: item,\n          index: i,\n        }, innerHTML);\n\n        // mount the tag\n        tag.mount();\n\n        if (mustAppend)\n          { append.apply(tag, [frag || root, isVirtual]); }\n        else\n          { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n        if (!mustAppend) { oldItems.splice(i, 0, item); }\n        tags.splice(i, 0, tag);\n        if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n      } else if (pos !== i && doReorder) {\n        // move\n        if (keyAttr || contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual]);\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0]);\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) { tag[expr.pos] = i; }\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag.__.item = item;\n      tag.__.index = i;\n      tag.__.parent = parent;\n\n      tmpItems[i] = itemId;\n\n      if (!mustCreate) { tag.update(item); }\n    });\n\n    // remove the redundant tags\n    unmountRedundant(items, tags);\n\n    // clone the items array\n    oldItems = tmpItems.slice();\n\n    root.insertBefore(frag, placeholder);\n  };\n\n  expr.unmount = function () {\n    each(tags, function (t) { t.unmount(); });\n  };\n\n  return expr\n}\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Array } expressions - empty array where the expressions will be added\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Object } an object containing the root noode and the dom tree\n */\nfunction parseExpressions(root, expressions, mustIncludeRoot) {\n  var this$1 = this;\n\n  var tree = {parent: {children: expressions}};\n\n  walkNodes(root, function (dom, ctx) {\n    var type = dom.nodeType;\n    var parent = ctx.parent;\n    var attr;\n    var expr;\n    var tagImpl;\n\n    if (!mustIncludeRoot && dom === root) { return {parent: parent} }\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      { parent.children.push({dom: dom, expr: dom.nodeValue}); }\n\n    if (type !== 1) { return ctx } // not an element\n\n    var isVirtual = dom.tagName === 'VIRTUAL';\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttr(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) { setAttr(dom, 'loopVirtual', true); } // ignore here, handled in _each\n      parent.children.push(_each(dom, this$1, attr));\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttr(dom, CONDITIONAL_DIRECTIVE)) {\n      parent.children.push(Object.create(IfExpr).init(dom, this$1, attr));\n      return false\n    }\n\n    if (expr = getAttr(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(expr)) {\n        parent.children.push({\n          isRtag: true,\n          expr: expr,\n          dom: dom,\n          attrs: [].slice.call(dom.attributes)\n        });\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom);\n    if(isVirtual) {\n      if(getAttr(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n      if(!tagImpl && !getAttr(dom, 'virtualized') && !getAttr(dom, 'loopVirtual'))  // ok to create virtual tag\n        { tagImpl = { tmpl: dom.outerHTML }; }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual && !getAttr(dom, IS_DIRECTIVE)) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttr(dom, 'virtualized', true);\n        var tag = createTag(\n          {tmpl: dom.outerHTML},\n          {root: dom, parent: this$1},\n          dom.innerHTML\n        );\n        parent.children.push(tag); // no return, anonymous tag, keep parsing\n      } else {\n        parent.children.push(\n          initChildTag(\n            tagImpl,\n            {\n              root: dom,\n              parent: this$1\n            },\n            dom.innerHTML,\n            this$1\n          )\n        );\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this$1, [dom, dom.attributes, function (attr, expr) {\n      if (!expr) { return }\n      parent.children.push(expr);\n    }]);\n\n    // whatever the parent is, all child elements get the same parent.\n    // If this element had an if-attr, that's the parent for all child elements\n    return {parent: parent}\n  }, tree);\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nfunction parseAttributes(dom, attrs, fn) {\n  var this$1 = this;\n\n  each(attrs, function (attr) {\n    if (!attr) { return false }\n\n    var name = attr.name;\n    var bool = isBoolAttr(name);\n    var expr;\n\n    if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n      expr =  Object.create(RefExpr).init(dom, this$1, name, attr.value);\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n    }\n\n    fn(attr, expr);\n  });\n}\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nvar reHasYield  = /<yield\\b/i;\nvar reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig;\nvar reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig;\nvar reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig;\nvar rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' };\nvar tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION;\nvar GENERIC = 'div';\nvar SVG = 'svg';\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  var\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>';\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n  parent = el.firstChild;\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    var tname = rootEls[tagName];\n    if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) { return tmpl }\n\n  // be careful with #1343 - string on the source having `$1`\n  var src = {};\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text;   // preserve first definition\n    return ''\n  }).trim();\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nfunction mkdom(tmpl, html, isSvg$$1) {\n  var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/);\n  var  tagName = match && match[1].toLowerCase();\n  var el = mkEl(isSvg$$1 ? SVG : GENERIC);\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html);\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    { el = specialTags(el, tmpl, tagName); }\n  else\n    { setInnerHTML(el, tmpl); }\n\n  return el\n}\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nfunction Tag$1(el, opts) {\n  // get the tag properties from the class constructor\n  var ref = this;\n  var name = ref.name;\n  var tmpl = ref.tmpl;\n  var css = ref.css;\n  var attrs = ref.attrs;\n  var onCreate = ref.onCreate;\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag$1(name, tmpl, css, attrs, onCreate);\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor;\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this);\n  // inject the component css\n  if (css) { styleManager.inject(); }\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag$1(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs;\n\n    if (/^[\\w-]+\\s?=/.test(css)) {\n      attrs = css;\n      css = '';\n    } else\n      { attrs = ''; }\n  }\n\n  if (css) {\n    if (isFunction(css))\n      { fn = css; }\n    else\n      { styleManager.add(css); }\n  }\n\n  name = name.toLowerCase();\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag2$1(name, tmpl, css, attrs, fn) {\n  if (css) { styleManager.add(css, name); }\n\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nfunction mount$1(selector, tagName, opts) {\n  var tags = [];\n  var elem, allTags;\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, IS_DIRECTIVE), tag;\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName;\n        setAttr(root, IS_DIRECTIVE, tagName);\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts);\n\n      if (tag)\n        { tags.push(tag); }\n    } else if (root.length)\n      { each(root, pushTagsTo); } // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject();\n\n  if (isObject(tagName)) {\n    opts = tagName;\n    tagName = 0;\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = selectTags() :\n      // or just the ones named like the selector\n      selector + selectTags(selector.split(/, */));\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : [];\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    { elem = selector; }\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectTags();\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      { elem = $$(tagName, elem); }\n    else {\n      // select all the children for all the different root elements\n      var nodeList = [];\n\n      each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n      elem = nodeList;\n    }\n    // get rid of the tagName\n    tagName = 0;\n  }\n\n  pushTagsTo(elem);\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nvar mixins = {};\nvar globals = mixins[GLOBAL_MIXIN] = {};\nvar mixins_id = 0;\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nfunction mixin$1(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin$1((\"__\" + (mixins_id++) + \"__\"), name, true);\n    return\n  }\n\n  var store = g ? globals : mixins;\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      { throw new Error((\"Unregistered mixin: \" + name)) }\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix);\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nfunction update$1() {\n  return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n}\n\nfunction unregister$1(name) {\n  __TAG_IMPL[name] = null;\n}\n\nvar version$1 = 'v3.7.3';\n\n\nvar core = Object.freeze({\n\tTag: Tag$1,\n\ttag: tag$1,\n\ttag2: tag2$1,\n\tmount: mount$1,\n\tmixin: mixin$1,\n\tupdate: update$1,\n\tunregister: unregister$1,\n\tversion: version$1\n});\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nfunction updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) { return }\n  var ctx = !isAnonymous && isLoop ? this : parent || this;\n\n  each(instAttrs, function (attr) {\n    if (attr.expr) { updateAllExpressions.call(ctx, [attr.expr]); }\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n  });\n}\n\n/**\n * Manage the mount state of a tag triggering also the observable events\n * @this Tag\n * @param { Boolean } value - ..of the isMounted flag\n */\nfunction setMountState(value) {\n  var ref = this.__;\n  var isAnonymous = ref.isAnonymous;\n\n  defineProperty(this, 'isMounted', value);\n\n  if (!isAnonymous) {\n    if (value) { this.trigger('mount'); }\n    else {\n      this.trigger('unmount');\n      this.off('*');\n      this.__.wasCreated = false;\n    }\n  }\n}\n\n\n/**\n * Tag creation factory function\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nfunction createTag(impl, conf, innerHTML) {\n  if ( impl === void 0 ) impl = {};\n  if ( conf === void 0 ) conf = {};\n\n  var tag = conf.context || {};\n  var opts = extend({}, conf.opts);\n  var parent = conf.parent;\n  var isLoop = conf.isLoop;\n  var isAnonymous = !!conf.isAnonymous;\n  var skipAnonymous = settings$1.skipAnonymousTags && isAnonymous;\n  var item = conf.item;\n  // available only for the looped nodes\n  var index = conf.index;\n  // All attributes on the Tag when it's first parsed\n  var instAttrs = [];\n  // expressions on this type of Tag\n  var implAttrs = [];\n  var expressions = [];\n  var root = conf.root;\n  var tagName = conf.tagName || getTagName(root);\n  var isVirtual = tagName === 'virtual';\n  var isInline = !isVirtual && !impl.tmpl;\n  var dom;\n\n  // make this tag observable\n  if (!skipAnonymous) { observable$1(tag); }\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) { root._tag.unmount(true); }\n\n  // not yet mounted\n  defineProperty(tag, 'isMounted', false);\n\n  defineProperty(tag, '__', {\n    isAnonymous: isAnonymous,\n    instAttrs: instAttrs,\n    innerHTML: innerHTML,\n    tagName: tagName,\n    index: index,\n    isLoop: isLoop,\n    isInline: isInline,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    wasCreated: false,\n    tail: null,\n    head: null,\n    parent: null,\n    item: null\n  });\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(tag, '_riot_id', uid()); // base 1 allows test !t._riot_id\n  defineProperty(tag, 'root', root);\n  extend(tag, { opts: opts }, item);\n  // protect the \"tags\" and \"refs\" property from being overridden\n  defineProperty(tag, 'parent', parent || null);\n  defineProperty(tag, 'tags', {});\n  defineProperty(tag, 'refs', {});\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root;\n  } else {\n    if (!isVirtual) { root.innerHTML = ''; }\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'update', function tagUpdate(data) {\n    var nextOpts = {};\n    var canTrigger = tag.isMounted && !skipAnonymous;\n\n    // inherit properties from the parent tag\n    if (isAnonymous && parent) { extend(tag, parent); }\n    extend(tag, data);\n\n    updateOpts.apply(tag, [isLoop, parent, isAnonymous, nextOpts, instAttrs]);\n\n    if (\n      canTrigger &&\n      tag.isMounted &&\n      isFunction(tag.shouldUpdate) && !tag.shouldUpdate(data, nextOpts)\n    ) {\n      return tag\n    }\n\n    extend(opts, nextOpts);\n\n    if (canTrigger) { tag.trigger('update', data); }\n    updateAllExpressions.call(tag, expressions);\n    if (canTrigger) { tag.trigger('updated'); }\n\n    return tag\n  });\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'mixin', function tagMixin() {\n    each(arguments, function (mix) {\n      var instance;\n      var obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin$1(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to tag\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = getPropDescriptor(instance, key) || getPropDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!tag.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(tag, key, descriptor);\n          } else {\n            tag[key] = isFunction(instance[key]) ?\n              instance[key].bind(tag) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(tag)(opts); }\n    });\n\n    return tag\n  });\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'mount', function tagMount() {\n    root._tag = tag; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(parent, [root, root.attributes, function (attr, expr) {\n      if (!isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = tag; }\n      attr.expr = expr;\n      instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    walkAttrs(impl.attrs, function (k, v) { implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(tag, [root, implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttr(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(tag, [isLoop, parent, isAnonymous, opts, instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin$1(GLOBAL_MIXIN);\n\n    if (globalMixin && !skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          tag.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (impl.fn) { impl.fn.call(tag, opts); }\n\n    if (!skipAnonymous) { tag.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions.apply(tag, [dom, expressions, isAnonymous]);\n\n    tag.update(item);\n\n    if (!isAnonymous && !isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    defineProperty(tag, 'root', root);\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!skipAnonymous && tag.parent) {\n      var p = getImmediateCustomParentTag(tag.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        setMountState.call(tag, true);\n      });\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setMountState.call(tag, true);\n    }\n\n    tag.__.wasCreated = true;\n\n    return tag\n\n  });\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(tag, 'unmount', function tagUnmount(mustKeepRoot) {\n    var el = tag.root;\n    var p = el.parentNode;\n    var tagIndex = __TAGS_CACHE.indexOf(tag);\n    var ptag;\n\n    if (!skipAnonymous) { tag.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttrs(impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      remAttr(root, name);\n    });\n\n    // remove all the event listeners\n    tag.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove tag tag instance from the global virtualDom variable\n    if (tagIndex !== -1)\n      { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    if (p || isVirtual) {\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent);\n\n        if (isVirtual) {\n          Object.keys(tag.tags).forEach(function (tagName) {\n            arrayishRemove(ptag.tags, tagName, tag.tags[tagName]);\n          });\n        } else {\n          arrayishRemove(ptag.tags, tagName, tag);\n          // remove from _parent too\n          if(parent !== ptag) {\n            arrayishRemove(parent.tags, tagName, tag);\n          }\n        }\n      } else {\n        // remove the tag contents\n        setInnerHTML(el, '');\n      }\n\n      if (p && !mustKeepRoot) { p.removeChild(el); }\n    }\n\n    if (tag.__.virts) {\n      each(tag.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // custom internal unmount function to avoid relying on the observable\n    if (tag.__.onUnmount) { tag.__.onUnmount(); }\n\n    // weird fix for a weird edge case #2409 and #2436\n    // some users might use your software not as you've expected\n    // so I need to add these dirty hacks to mitigate unexpected issues\n    if (!tag.isMounted) { setMountState.call(tag, true); }\n\n    setMountState.call(tag, false);\n\n    delete tag.root._tag;\n\n    return tag\n  });\n\n  return tag\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tagName, newPos) {\n  var parent = this.parent;\n  var tags;\n  // no parent no move\n  if (!parent) { return }\n\n  tags = parent.tags[tagName];\n\n  if (isArray(tags))\n    { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n  else { arrayishAdd(parent.tags, tagName, this); }\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = createTag(child, opts, innerHTML);\n  var tagName = opts.tagName || getTagName(opts.root, true);\n  var ptag = getImmediateCustomParentTag(parent);\n  // fix for the parent attribute in the looped elements\n  defineProperty(tag, 'parent', ptag);\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent;\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag);\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    { arrayishAdd(parent.tags, tagName, tag); }\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag;\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) { break }\n    ptag = ptag.parent;\n  }\n  return ptag\n}\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nfunction unmountAll(expressions) {\n  each(expressions, function (expr) {\n    if (expr.unmount) { expr.unmount(true); }\n    else if (expr.tagName) { expr.tag.unmount(true); }\n    else if (expr.unmount) { expr.unmount(); }\n  });\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom, skipDataIs) {\n  var child = getTag(dom);\n  var namedTag = !skipDataIs && getAttr(dom, IS_DIRECTIVE);\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n    namedTag : child ? child.name : dom.tagName.toLowerCase()\n}\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nfunction arrayishAdd(obj, key, value, ensureArray, index) {\n  var dest = obj[key];\n  var isArr = isArray(dest);\n  var hasIndex = !isUndefined(index);\n\n  if (dest && dest === value) { return }\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) { obj[key] = [value]; }\n  else if (!dest) { obj[key] = value; }\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      var oldIndex = dest.indexOf(value);\n      // this item never changed its position\n      if (oldIndex === index) { return }\n      // remove the item from its old position\n      if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value);\n      } else {\n        dest.push(value);\n      }\n    } else { obj[key] = [dest, value]; }\n  }\n}\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nfunction arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    var index = obj[key].indexOf(value);\n    if (index !== -1) { obj[key].splice(index, 1); }\n    if (!obj[key].length) { delete obj[key]; }\n    else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n  } else\n    { delete obj[key]; } // otherwise just delete the key\n}\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts, ctx) {\n  var impl = __TAG_IMPL[tagName];\n  var implClass = __TAG_IMPL[tagName].class;\n  var context = ctx || (implClass ? Object.create(implClass.prototype) : {});\n  // cache the inner HTML to fix #855\n  var innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n  var conf = extend({ root: root, opts: opts, context: context }, { parent: opts ? opts.parent : null });\n  var tag;\n\n  if (impl && root) { tag = createTag(impl, conf, innerHTML); }\n\n  if (tag && tag.mount) {\n    tag.mount(true);\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n  }\n\n  return tag\n}\n\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nfunction makeReplaceVirtual(tag, ref) {\n  var frag = createFrag();\n  makeVirtual.call(tag, frag);\n  ref.parentNode.replaceChild(frag, ref);\n}\n\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction makeVirtual(src, target) {\n  var this$1 = this;\n\n  var head = createDOMPlaceholder();\n  var tail = createDOMPlaceholder();\n  var frag = createFrag();\n  var sib;\n  var el;\n\n  this.root.insertBefore(head, this.root.firstChild);\n  this.root.appendChild(tail);\n\n  this.__.head = el = head;\n  this.__.tail = tail;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    this$1.__.virts.push(el); // hold for unmounting\n    el = sib;\n  }\n\n  if (target)\n    { src.insertBefore(frag, target.__.head); }\n  else\n    { src.appendChild(frag); }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nfunction moveVirtual(src, target) {\n  var this$1 = this;\n\n  var el = this.__.head;\n  var sib;\n  var frag = createFrag();\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    el = sib;\n    if (el === this$1.__.tail) {\n      frag.appendChild(el);\n      src.insertBefore(frag, target.__.head);\n      break\n    }\n  }\n}\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nfunction selectTags(tags) {\n  // select all tags\n  if (!tags) {\n    var keys = Object.keys(__TAG_IMPL);\n    return keys + selectTags(keys)\n  }\n\n  return tags\n    .filter(function (t) { return !/[^-\\w]/.test(t); })\n    .reduce(function (list, t) {\n      var name = t.trim().toLowerCase();\n      return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n    }, '')\n}\n\n\nvar tags = Object.freeze({\n\tgetTag: getTag,\n\tmoveChildTag: moveChildTag,\n\tinitChildTag: initChildTag,\n\tgetImmediateCustomParentTag: getImmediateCustomParentTag,\n\tunmountAll: unmountAll,\n\tgetTagName: getTagName,\n\tarrayishAdd: arrayishAdd,\n\tarrayishRemove: arrayishRemove,\n\tmountTo: mountTo,\n\tmakeReplaceVirtual: makeReplaceVirtual,\n\tmakeVirtual: makeVirtual,\n\tmoveVirtual: moveVirtual,\n\tselectTags: selectTags\n});\n\n/**\n * Riot public api\n */\nvar settings = settings$1;\nvar util = {\n  tmpl: tmpl,\n  brackets: brackets,\n  styleManager: styleManager,\n  vdom: __TAGS_CACHE,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom: dom,\n  check: check,\n  misc: misc,\n  tags: tags\n};\n\n// export the core props/methods\nvar Tag = Tag$1;\nvar tag = tag$1;\nvar tag2 = tag2$1;\nvar mount = mount$1;\nvar mixin = mixin$1;\nvar update = update$1;\nvar unregister = unregister$1;\nvar version = version$1;\nvar observable = observable$1;\n\nvar riot$1 = extend({}, core, {\n  observable: observable$1,\n  settings: settings,\n  util: util,\n});\n\nexports.settings = settings;\nexports.util = util;\nexports.Tag = Tag;\nexports.tag = tag;\nexports.tag2 = tag2;\nexports.mount = mount;\nexports.mixin = mixin;\nexports.update = update;\nexports.unregister = unregister;\nexports.version = version;\nexports.observable = observable;\nexports['default'] = riot$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/riot/riot.js\n// module id = 6\n// module chunks = 1"],"sourceRoot":""}