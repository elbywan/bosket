{"version":3,"sources":["webpack:///riot/build/riot.js","webpack:///./node_modules/riot/riot.js","webpack:///./build/riot/index.js","webpack:///./docs/riot/plan/index.js","webpack:///./docs/riot/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./docs/riot/components/index.js","webpack:///./docs/riot/components/App.tag","webpack:///./docs/riot/plan/Planner.tag","webpack:///./docs/riot/plan/introduction/index.js","webpack:///./docs/riot/plan/introduction/component.tag","webpack:///./docs/riot/plan/introduction/IntroductionDemos.tag","webpack:///./docs/riot/plan/usage/index.js","webpack:///./docs/riot/plan/usage/component.tag","webpack:///./docs/riot/plan/usage/import/index.js","webpack:///./docs/riot/plan/usage/import/component.tag","webpack:///./docs/riot/plan/usage/data model/index.js","webpack:///./docs/riot/plan/usage/data model/component.tag","webpack:///./docs/riot/plan/usage/data model/dataModelTree.tag","webpack:///./docs/riot/plan/usage/style/index.js","webpack:///./docs/riot/plan/usage/style/component.tag","webpack:///./docs/riot/plan/treeview/index.js","webpack:///./docs/riot/plan/treeview/basic usage/index.js","webpack:///./docs/riot/plan/treeview/basic usage/component.tag","webpack:///./docs/riot/plan/treeview/demo/index.js","webpack:///./docs/riot/plan/treeview/demo/component.tag","webpack:///./docs/riot/plan/treeview/css/index.js","webpack:///./docs/riot/plan/treeview/css/component.tag","webpack:///./docs/riot/plan/treeview/css/layout/index.js","webpack:///./docs/riot/plan/treeview/css/layout/component.tag","webpack:///./docs/riot/plan/treeview/css/empty-stylesheet/index.js","webpack:///./docs/riot/plan/treeview/css/empty-stylesheet/component.tag","webpack:///./docs/riot/components/Syntax.tag","webpack:///./docs/riot/components/ComponentDemo.tag","webpack:///./docs/riot/components/Demos/index.js","webpack:///./docs/riot/components/Demos/TreeView/index.js","webpack:///./docs/riot/components/Demos/TreeView/TreeViewDemo.tag","webpack:///./docs/riot/components/Demos/TreeView/TreeViewSection.tag","webpack:///./docs/riot/components/Demos/ChuckNorris/index.js","webpack:///./docs/riot/components/Demos/ChuckNorris/ChuckNorris.tag","webpack:///./docs/riot/components/Demos/ChuckNorris/models.js","webpack:///./docs/riot/components/Demos/HackerNews/index.js","webpack:///./docs/riot/components/Demos/HackerNews/HackerNews.tag","webpack:///./docs/riot/components/Demos/HackerNews/models.js","webpack:///./docs/riot/components/Demos/Pokeapi/index.js","webpack:///./docs/riot/components/Demos/Pokeapi/Pokeapi.tag","webpack:///./docs/riot/components/Demos/Pokeapi/models.js"],"names":["webpackJsonp","10","module","exports","__webpack_require__","global","factory","this","isBoolAttr","value","RE_BOOL_ATTRS","test","isFunction","T_FUNCTION","isObject","T_OBJECT","isUndefined","T_UNDEF","isString","T_STRING","isBlank","isArray","Array","isWritable","obj","key","descriptor","Object","getOwnPropertyDescriptor","writable","$$","selector","ctx","prototype","slice","call","document","querySelectorAll","$","querySelector","createFrag","createDocumentFragment","createDOMPlaceholder","createTextNode","isSvg","el","ownerSVGElement","mkEl","name","createElementNS","SVG_NS","createElement","setInnerHTML","container","html","innerHTML","doc","DOMParser","parseFromString","node","ownerDocument","importNode","documentElement","appendChild","toggleVisibility","dom","show","style","display","remAttr","removeAttribute","styleObjectToString","keys","reduce","acc","prop","getAttr","getAttribute","setAttr","val","xlink","XLINK_REGEX","exec","setAttributeNS","XLINK_NS","setAttribute","safeInsert","root","curr","next","insertBefore","parentNode","walkAttrs","fn","m","RE_HTML_ATTRS","toLowerCase","walkNodes","context","res","firstChild","nextSibling","each","list","len","length","i","contains","array","item","indexOf","toCamel","str","replace","_","c","toUpperCase","startsWith","defineProperty","options","extend","enumerable","configurable","src","args","arguments","handleEvent","handler","e","ptag","__","parent","currentTarget","target","srcElement","which","charCode","keyCode","settings$1","autoUpdate","preventUpdate","p","getImmediateCustomParentTag","isMounted","update","setEventHandler","tag","eventName","cb","bind","RE_EVENTS_PREFIX","listeners","push","RIOT_EVENTS_KEY","removeEventListener","addEventListener","updateDataIs","expr","tagName","ref","_tag","ref$1","head","isVirtual","unmount","impl","__TAG_IMPL","initChildTag","attrs","a","mount","makeReplaceVirtual","onUnmount","delName","opts","dataIs","arrayishRemove","tags","normalizeAttrName","attrName","ATTRS_PREFIX","CASE_SENSITIVE_ATTRIBUTES","updateExpression","hasValue","isObj","attr","isToggle","SHOW_DIRECTIVE","HIDE_DIRECTIVE","isStyleAttr","isClassAttr","_riot_id","wasCreated","tmpl","create","JSON","stringify","isAttrRemoved","bool","isRtag","wasParsedOnce","IE_VERSION","nodeValue","hidden","updateAllExpressions","expressions","mkitem","base","pos","unmountRedundant","items","j","remove","apply","splice","moveNestedTags","this$1","moveChildTag","move","nextTag","moveVirtual","insert","makeVirtual","append","_each","hasKeys","mustReorder","LOOP_NO_REORDER_DIRECTIVE","getTagName","placeholder","child","getTag","ifExpr","CONDITIONAL_DIRECTIVE","isAnonymous","oldItems","LOOP_DIRECTIVE","loopKeys","isLoop","removeChild","frag","isObject$$1","map","filter","doReorder","oldPos","isNew","mustAppend","mustCreate","Tag$1","cloneNode","index","arrayishAdd","t","parseExpressions","mustIncludeRoot","tree","children","tagImpl","type","nodeType","hasExpr","IfExpr","init","IS_DIRECTIVE","attributes","parentElement","outerHTML","parseAttributes","REF_DIRECTIVES","RefExpr","specialTags","select","trim","selectedIndex","tname","rootEls","childElementCount","replaceYield","reHasYield","reYieldSrc","text","reYieldDest","def","reYieldAll","mkdom","isSvg$$1","match","SVG","GENERIC","tblTags","Tag$2","css","onCreate","tag$1","class","constructor","mountTo","styleManager","inject","add","tag2$1","mount$1","pushTagsTo","riotTag","elem","allTags","selectTags","split","nodeList","_el","mixin$1","mix","g","mixins_id","store","globals","mixins","Error","update$1","__TAGS_CACHE","unregister$1","updateOpts","instAttrs","setIsMounted","conf","skipAnonymous","skipAnonymousTags","implAttrs","isInline","propsInSyncWithParent","observable$1","virts","tail","uid","data","nextOpts","canTrigger","shouldUpdate","inheritFrom","trigger","instance","props","propsBlacklist","proto","getPrototypeOf","concat","getOwnPropertyNames","hasGetterSetter","get","set","hasOwnProperty","isPrototypeOf","k","v","globalMixin","GLOBAL_MIXIN","mixin","one","mustKeepRoot","tagIndex","forEach","unmountAll","off","mustSync","newPos","skipDataIs","namedTag","ensureArray","dest","isArr","hasIndex","oldIndex","implClass","_innerHTML","replaceChild","sib","styleNode","cssTextProp","WIN","window","undefined","RE_SPECIAL_TAGS","RE_SPECIAL_TAGS_NO_OPTION","viewbox","documentMode","check","freeze","byName","remainder","needsInject","newNode","userNode","id","getElementsByTagName","styleSheet","join","cssText","skipRegex","prev","code","_skipRegex","start","re","lastIndex","RE_REGEX","beforeReChars","RE_VN_CHAR","wordsLastChar","end","beforeReWords","s","w","brackets","UNDEF","_loopback","_rewrite","bp","_cache","RegExp","source","REGLOB","_create","pair","DEFAULT","_pairs","arr","UNSUPPORTED","NEED_ESCAPE","S_QBLOCK2","_brackets","reOrIdx","_regex","_reset","cachedBrackets","_setSettings","o","b","_settings","R_MLCOMMS","R_STRINGS","S_QBLOCKS","FINDBRACES","(","[","{","_bp","unescapeStr","prevStr","isexpr","parts","pushQBlock","_pos","_lastIndex","slash","mark","qblocks","ch","rech","ix","settings","riot","_tmpl","_logErr","err","riotData","errorHandler","console","error","message","log","_getTmpl","Function","RE_DQUOTE","qstr","_parseExpr","RE_QBMARK","asText","cnt","RE_CSNAME","jsb","rightContext","mm","lv","ir","RE_BREND","_wrapExpr","tb","JS_VARNAME","mvar","JS_CONTEXT","JS_NOPROPS","clearCache","version","callbacks","defineProperties","on","event","fns","arguments$1","arglen","misc","stub","pristine","current","attrValue","rawValue","hasExp","old","customParent","tagOrDom","__ref","refs","tr","th","td","col","core","Tag","tag2","unregister","util","vdom","observable","riot$1","252","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","n","r","l","d","__esModule","default","u","last","in","notIn","is","isIn","allIn","every","from","f","assign","selection","draggable","droppable","drag","dataTransfer","setData","guard","types","ancestors","drop","category","pluck","backup","setTimeout","cancel","parse","paste","getData","filesystem","kind","webkitGetAsEntry","getAsFile","onDragStart","stopPropagation","inputs","dragndrop","onDrag","onDragOver","preventDefault","dropEffect","addClass","mixCss","requestAnimationFrame","onDragEnter","hasChildren","isAsync","hasClass","state","unfolded","onDragLeave","removeClass","onDrop","onDragEnd","onCancel","onSelect","neighbours","outputs","done","return","TypeError","visit","single","multiple","modifiers","control","meta","lastSelection","lastPivot","shift","h","y","O","x","D","disabled","toString","unfold-on-selection","isSelected","toggle-fold","opener-control","not-selected","no-child-selection","some","max-depth","maxDepth","isNaN","parseInt","depth","labels","search.placeholder","TreeView","opener","selected","folded","async","loading","nodrop","dragover","search","strategies","click","fold","noOpener","optsMixin","_originalOpts","transitionMixin","transition","classList","listenerMixin","eventType","callback","regulate","rootNode","onKey","filtered","onSearch","model","treeFilter","defaults","onselect","RootNode","flatten","pop","Map","size","classes","HTMLElement","className","debug","shallowCompare","fullMap","nestPrefix","substring","ReferenceError","setPrototypeOf","__proto__","refresh","isFolded","searched","isDisabled","isDraggable","isDroppable","ulCss","liCss","pending","unwrapPromise","then","catch","Promise","reject","onClick","getDragEvents","getModifierState","wrapDragNDrop","filterTree","getModel","filteredmodel","has","getChildModel","sort","getChildFiltered","getAncestors","disable","TreeNode","rootEvents","253","_interopRequireDefault","_introduction","_introduction2","_usage","_usage2","_treeview","_treeview2","587","_riot","_riot2","onload","588","webpackPolyfill","deprecate","paths","589","590","_plan","_plan2","plan","591","_this","onDocumentClick","onDocumentScroll","onStickyScroll","opened","updateSelection","foldDepth","max","findPosition","position","loop","elt","domElt","getElementById","title","getBoundingClientRect","top","bottom","subs","ev","sidePanel","location","hash","history","replaceState","sticky","content","prefix","href","592","editLink","593","594","demos","demo","setDemo","getFiles","595","_import2","_import3","_dataModel","_dataModel2","_style","_style2","596","597","598","htmlCode","599","600","601","sampleModel","label","resolve","602","603","604","_basicUsage","_basicUsage2","_demo","_demo2","_css","_css2","605","606","607","608","609","_layout","_layout2","_emptyStylesheet","_emptyStylesheet2","610","611","612","_html_layout","_html_layout2","htmlLayout","613","614","615","_empty_stylesheet","_empty_stylesheet2","emptyStylesheet","anchor","URL","createObjectURL","Blob","616","617","_tools","language","offsetPrefix","offset","textContent","indent","Prism","highlightElement","618","files","expand","doExpand","_tab","setTab","file","tab","loadFile","tabContents","highlight","languages","getPrismExtension","getFileName","extension","619","620","621","_extends","_dragndrop","_TreeViewModel","_TreeViewModel2","dragImage","Image","displaytag","localeCompare","input","string","setDragImage","622","623","deselect","624","625","loadJoke","joke","_models","categories","fetch","response","json","cat","Category","626","_classCallCheck","Constructor","Joke","627","628","more","fetchKids","refreshContent","stories","topStories","fetchLast","story","TopStory","629","_possibleConstructorReturn","self","_inherits","subClass","superClass","Comment","_sanitizeHtml","_sanitizeHtml2","getUrl","limit","all","Item","fetchLimit","kids","_this2","result","_Item","_temp","_this3","_ret","_len","_key","_Item2","_this4","date","Date","time","toLocaleDateString","630","631","filterProps","__subsection","__children","loadUrl","loadPokemons","cachedFetch","results","url","loadMorePokemons","632","formatData","cache","imageMatch","front_default","img","__image"],"mappings":"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","file":"riot/build/riot.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* Riot v3.6.3, @license MIT */\n(function (global, factory) {\n\t true ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.riot = {})));\n}(this, (function (exports) { 'use strict';\n\nvar __TAGS_CACHE = [];\nvar __TAG_IMPL = {};\nvar GLOBAL_MIXIN = '__global_mixin';\nvar ATTRS_PREFIX = 'riot-';\nvar REF_DIRECTIVES = ['ref', 'data-ref'];\nvar IS_DIRECTIVE = 'data-is';\nvar CONDITIONAL_DIRECTIVE = 'if';\nvar LOOP_DIRECTIVE = 'each';\nvar LOOP_NO_REORDER_DIRECTIVE = 'no-reorder';\nvar SHOW_DIRECTIVE = 'show';\nvar HIDE_DIRECTIVE = 'hide';\nvar RIOT_EVENTS_KEY = '__riot-events__';\nvar T_STRING = 'string';\nvar T_OBJECT = 'object';\nvar T_UNDEF  = 'undefined';\nvar T_FUNCTION = 'function';\nvar XLINK_NS = 'http://www.w3.org/1999/xlink';\nvar SVG_NS = 'http://www.w3.org/2000/svg';\nvar XLINK_REGEX = /^xlink:(\\w+)/;\nvar WIN = typeof window === T_UNDEF ? undefined : window;\nvar RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;\nvar RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;\nvar RE_EVENTS_PREFIX = /^on/;\nvar RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g;\nvar CASE_SENSITIVE_ATTRIBUTES = { 'viewbox': 'viewBox' };\nvar RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;\nvar IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n/**\n * Check if the passed argument is a boolean attribute\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}\n\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isFunction(value) {\n  return typeof value === T_FUNCTION\n}\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isUndefined(value) {\n  return typeof value === T_UNDEF\n}\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isString(value) {\n  return typeof value === T_STRING\n}\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nfunction isBlank(value) {\n  return isUndefined(value) || value === null || value === ''\n}\n\n/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}\n\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } -\n */\nfunction isWritable(obj, key) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n\n\nvar check = Object.freeze({\n\tisBoolAttr: isBoolAttr,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tisUndefined: isUndefined,\n\tisString: isString,\n\tisBlank: isBlank,\n\tisArray: isArray,\n\tisWritable: isWritable\n});\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return Array.prototype.slice.call((ctx || document).querySelectorAll(selector))\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nfunction createFrag() {\n  return document.createDocumentFragment()\n}\n\n/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nfunction createDOMPlaceholder() {\n  return document.createTextNode('')\n}\n\n/**\n * Check if a DOM node is an svg tag\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nfunction isSvg(el) {\n  return !!el.ownerSVGElement\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - true if we need to use an svg node\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n */\n/* istanbul ignore next */\nfunction setInnerHTML(container, html) {\n  if (!isUndefined(container.innerHTML))\n    { container.innerHTML = html; }\n    // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml');\n    var node = container.ownerDocument.importNode(doc.documentElement, true);\n    container.appendChild(node);\n  }\n}\n\n/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nfunction toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none';\n  dom['hidden'] = show ? false : true;\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name);\n}\n\n/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nfunction styleObjectToString(style) {\n  return Object.keys(style).reduce(function (acc, prop) {\n    return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n  }, '')\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  var xlink = XLINK_REGEX.exec(name);\n  if (xlink && xlink[1])\n    { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n  else\n    { dom.setAttribute(name, val); }\n}\n\n/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nfunction safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next);\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttrs(html, fn) {\n  if (!html) { return }\n  var m;\n  while (m = RE_HTML_ATTRS.exec(html))\n    { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nfunction walkNodes(dom, fn, context) {\n  if (dom) {\n    var res = fn(dom, context);\n    var next;\n    // stop the recursion\n    if (res === false) { return }\n\n    dom = dom.firstChild;\n\n    while (dom) {\n      next = dom.nextSibling;\n      walkNodes(dom, fn, res);\n      dom = next;\n    }\n  }\n}\n\nvar dom = Object.freeze({\n\t$$: $$,\n\t$: $,\n\tcreateFrag: createFrag,\n\tcreateDOMPlaceholder: createDOMPlaceholder,\n\tisSvg: isSvg,\n\tmkEl: mkEl,\n\tsetInnerHTML: setInnerHTML,\n\ttoggleVisibility: toggleVisibility,\n\tremAttr: remAttr,\n\tstyleObjectToString: styleObjectToString,\n\tgetAttr: getAttr,\n\tsetAttr: setAttr,\n\tsafeInsert: safeInsert,\n\twalkAttrs: walkAttrs,\n\twalkNodes: walkNodes\n});\n\nvar styleNode;\n// Create cache and shortcut to the correct property\nvar cssTextProp;\nvar byName = {};\nvar remainder = [];\nvar needsInject = false;\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = ((function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style');\n    setAttr(newNode, 'type', 'text/css');\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]');\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) { newNode.id = userNode.id; }\n      userNode.parentNode.replaceChild(newNode, userNode);\n    }\n    else { document.getElementsByTagName('head')[0].appendChild(newNode); }\n\n    return newNode\n  }))();\n  cssTextProp = styleNode.styleSheet;\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = {\n  styleNode: styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add: function add(css, name) {\n    if (name) { byName[name] = css; }\n    else { remainder.push(css); }\n    needsInject = true;\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject: function inject() {\n    if (!WIN || !needsInject) { return }\n    needsInject = false;\n    var style = Object.keys(byName)\n      .map(function (k) { return byName[k]; })\n      .concat(remainder).join('\\n');\n    /* istanbul ignore next */\n    if (cssTextProp) { cssTextProp.cssText = style; }\n    else { styleNode.innerHTML = style; }\n  }\n};\n\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ];\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '');\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n  var RE_VN_CHAR = /[$\\w]/;\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos])){  }\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g;\n    var pos = re.lastIndex = start++;\n    var match = re.exec(code)[0].match(RE_REGEX);\n\n    if (match) {\n      var next = pos + match[0].length;\n\n      pos = prev(code, pos);\n      var c = code[pos];\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next;\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next;\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1;\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){  }\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next;\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})();\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\n/* istanbul ignore next */\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }';\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ];\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings;\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) { bp = _cache; }\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) { return _pairs }\n\n    var arr = pair.split(' ');\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n    arr[6] = _rewrite(_pairs[6], arr);\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n    arr[8] = pair;\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) { _bp = _cache; }\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6];\n\n    var qblocks = [];\n    var prevStr = '';\n    var mark, lastIndex;\n\n    isexpr = start = re.lastIndex = 0;\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex;\n      pos = match.index;\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2];\n          var rech = FINDBRACES[ch];\n          var ix = 1;\n\n          rech.lastIndex = lastIndex;\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) { ++ix; }\n              else if (!--ix) { break }\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex;\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos));\n        start = re.lastIndex;\n        re = _bp[6 + (isexpr ^= 1)];\n        re.lastIndex = start;\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start));\n    }\n\n    parts.qblocks = qblocks;\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s;\n        prevStr = '';\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'));\n      } else {\n        parts.push(s);\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos);\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~';\n        qblocks.push(str.slice(_pos, _lastIndex));\n        prevStr += str.slice(start, _pos) + mark;\n        start = _lastIndex;\n      }\n      return _lastIndex\n    }\n  };\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  };\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9]);\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  };\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  };\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair);\n      _regex = pair === DEFAULT ? _loopback : _rewrite;\n      _cache[9] = _regex(_pairs[9]);\n    }\n    cachedBrackets = pair;\n  }\n\n  function _setSettings (o) {\n    var b;\n\n    o = o || {};\n    b = o.brackets;\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    });\n    _settings = o;\n    _reset(b);\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  });\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n  _brackets.set = _reset;\n  _brackets.skipRegex = skipRegex;\n\n  _brackets.R_STRINGS = R_STRINGS;\n  _brackets.R_MLCOMMS = R_MLCOMMS;\n  _brackets.S_QBLOCKS = S_QBLOCKS;\n  _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n  return _brackets\n\n})();\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\n/* istanbul ignore next */\nvar tmpl = (function () {\n\n  var _cache = {};\n\n  function _tmpl (str, data) {\n    if (!str) { return str }\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr;\n\n  _tmpl.loopKeys = brackets.loopKeys;\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {}; };\n\n  _tmpl.errorHandler = null;\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    };\n\n    if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message);\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n      console.log(this.data); // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str);\n\n    if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g;\n  var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n    var qstr = parts.qblocks;\n    var expr;\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = [];\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i];\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) { list[j++] = expr; }\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")';\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr);\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      });\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    };\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match;\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g;\n\n        expr = RegExp.rightContext;\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n        while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n        jsb  = expr.slice(0, match.index);\n        expr = RegExp.rightContext;\n\n        list[cnt++] = _wrapExpr(jsb, 1, key);\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch];\n\n      ir.lastIndex = re.lastIndex;\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) { ++lv; }\n        else if (!--lv) { break }\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex;\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n  function _wrapExpr (expr, asText, key) {\n    var tb;\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length;\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n          if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos));\n        }\n      }\n      return match\n    });\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"';\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)';\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8';\n\n  return _tmpl\n\n})();\n\n/* istanbul ignore next */\nvar observable$1 = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {};\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice;\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          { (callbacks[event] = callbacks[event] || []).push(fn); }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) { callbacks = {}; }\n        else {\n          if (fn) {\n            var arr = callbacks[event];\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) { arr.splice(i--, 1); }\n            }\n          } else { delete callbacks[event]; }\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on);\n          fn.apply(el, arguments);\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n        var arguments$1 = arguments;\n\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i;\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments$1[i + 1]; // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0);\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args);\n        }\n\n        if (callbacks['*'] && event != '*')\n          { el.trigger.apply(el, ['*', event].concat(args)); }\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  });\n\n  return el\n\n};\n\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(list, fn) {\n  var len = list ? list.length : 0;\n  var i = 0;\n  for (; i < len; ++i) {\n    fn(list[i], i);\n  }\n  return list\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nfunction contains(array, item) {\n  return array.indexOf(item) !== -1\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(str) {\n  return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nfunction startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  return el\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj;\n  var args = arguments;\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          { src[key] = obj[key]; }\n      }\n    }\n  }\n  return src\n}\n\nvar misc = Object.freeze({\n\teach: each,\n\tcontains: contains,\n\ttoCamel: toCamel,\n\tstartsWith: startsWith,\n\tdefineProperty: defineProperty,\n\textend: extend\n});\n\nvar settings$1 = extend(Object.create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n});\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  var ptag = this.__.parent;\n  var item = this.__.item;\n\n  if (!item)\n    { while (ptag && !item) {\n      item = ptag.__.item;\n      ptag = ptag.__.parent;\n    } }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) { e.target = e.srcElement; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n  e.item = item;\n\n  handler.call(this, e);\n\n  // avoid auto updates\n  if (!settings$1.autoUpdate) { return }\n\n  if (!e.preventUpdate) {\n    var p = getImmediateCustomParentTag(this);\n    // fixes #2083\n    if (p.isMounted) { p.update(); }\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n  var eventName;\n  var cb = handleEvent.bind(tag, dom, handler);\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null;\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n  if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n  if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n  dom[RIOT_EVENTS_KEY][name] = cb;\n  dom.addEventListener(eventName, cb, false);\n}\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nfunction updateDataIs(expr, parent, tagName) {\n  var tag = expr.tag || expr.dom._tag,\n    ref;\n\n  var ref$1 = tag ? tag.__ : {};\n  var head = ref$1.head;\n  var isVirtual = expr.dom.tagName === 'VIRTUAL';\n\n  if (tag && expr.tagName === tagName) {\n    tag.update();\n    return\n  }\n\n  // sync _parent to accommodate changing tagnames\n  if (tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      ref = createDOMPlaceholder();\n      head.parentNode.insertBefore(ref, head);\n    }\n\n    tag.unmount(true);\n  }\n\n  // unable to get the tag name\n  if (!isString(tagName)) { return }\n\n  expr.impl = __TAG_IMPL[tagName];\n\n  // unknown implementation\n  if (!expr.impl) { return }\n\n  expr.tag = tag = initChildTag(\n    expr.impl, {\n      root: expr.dom,\n      parent: parent,\n      tagName: tagName\n    },\n    expr.dom.innerHTML,\n    parent\n  );\n\n  each(expr.attrs, function (a) { return setAttr(tag.root, a.name, a.value); });\n  expr.tagName = tagName;\n  tag.mount();\n\n  // root exist first time, after use placeholder\n  if (isVirtual) { makeReplaceVirtual(tag, ref || tag.root); }\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = function() {\n    var delName = tag.opts.dataIs;\n    arrayishRemove(tag.parent.tags, delName, tag);\n    arrayishRemove(tag.__.parent.tags, delName, tag);\n    tag.unmount();\n  };\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nfunction normalizeAttrName(attrName) {\n  if (!attrName) { return null }\n  attrName = attrName.replace(ATTRS_PREFIX, '');\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nfunction updateExpression(expr) {\n  if (this.root && getAttr(this.root,'virtualized')) { return }\n\n  var dom = expr.dom,\n    // remove the riot- prefix\n    attrName = normalizeAttrName(expr.attr),\n    isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName),\n    isVirtual = expr.root && expr.root.tagName === 'VIRTUAL',\n    parent = dom && (expr.parent || dom.parentNode),\n    // detect the style attributes\n    isStyleAttr = attrName === 'style',\n    isClassAttr = attrName === 'class',\n    hasValue,\n    isObj,\n    value;\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.__.wasCreated) {\n      expr.update();\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount();\n      if (isVirtual) {\n        makeReplaceVirtual(expr, expr.root);\n      }\n    }\n    return\n  }\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) { return expr.update() }\n\n  // ...it seems to be a simple expression so we try to calculat its value\n  value = tmpl(expr.expr, isToggle ? extend({}, Object.create(this.parent), this) : this);\n  hasValue = !isBlank(value);\n  isObj = isObject(value);\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    isObj = !isClassAttr && !isStyleAttr;\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this);\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value);\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.isAttrRemoved || !hasValue || value === false)) {\n    remAttr(dom, expr.attr);\n    expr.isAttrRemoved = true;\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) { value = value ? attrName : false; }\n  if (expr.isRtag) { return updateDataIs(expr, this, value) }\n  if (expr.wasParsedOnce && expr.value === value) { return }\n\n  // update the expression value\n  expr.value = value;\n  expr.wasParsedOnce = true;\n\n  // if the value is an object we can not do much more with it\n  if (isObj && !isToggle) { return }\n  // avoid to render undefined/null values\n  if (isBlank(value)) { value = ''; }\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += '';\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent;\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value;                    // #1113\n        if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else { dom.nodeValue = value; }\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this);\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value;\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value;\n    }\n\n    if (hasValue && value !== false) {\n      setAttr(dom, attrName, value);\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nfunction updateAllExpressions(expressions) {\n  each(expressions, updateExpression.bind(this));\n}\n\nvar IfExpr = {\n  init: function init(dom, tag, expr) {\n    remAttr(dom, CONDITIONAL_DIRECTIVE);\n    this.tag = tag;\n    this.expr = expr;\n    this.stub = createDOMPlaceholder();\n    this.pristine = dom;\n\n    var p = dom.parentNode;\n    p.insertBefore(this.stub, dom);\n    p.removeChild(dom);\n\n    return this\n  },\n  update: function update() {\n    this.value = tmpl(this.expr, this.tag);\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true);\n      this.stub.parentNode.insertBefore(this.current, this.stub);\n      this.expressions = [];\n      parseExpressions.apply(this.tag, [this.current, this.expressions, true]);\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions);\n      if (this.current._tag) {\n        this.current._tag.unmount();\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current);\n      }\n      this.current = null;\n      this.expressions = [];\n    }\n\n    if (this.value) { updateAllExpressions.call(this.tag, this.expressions); }\n  },\n  unmount: function unmount() {\n    unmountAll(this.expressions || []);\n  }\n};\n\nvar RefExpr = {\n  init: function init(dom, parent, attrName, attrValue) {\n    this.dom = dom;\n    this.attr = attrName;\n    this.rawValue = attrValue;\n    this.parent = parent;\n    this.hasExp = tmpl.hasExpr(attrValue);\n    return this\n  },\n  update: function update() {\n    var old = this.value;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) { arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      ); }\n\n      if (this.value !== old) {\n        setAttr(this.dom, this.attr, this.value);\n      }\n    } else {\n      remAttr(this.dom, this.attr);\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n  },\n  unmount: function unmount() {\n    var tagOrDom = this.tag || this.dom;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    if (!isBlank(this.value) && customParent)\n      { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n  }\n};\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  var item = base ? Object.create(base) : {};\n  item[expr.key] = key;\n  if (expr.pos) { item[expr.pos] = val; }\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  var i = tags.length;\n  var j = items.length;\n\n  while (i > j) {\n    i--;\n    remove.apply(tags[i], [tags, i]);\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1);\n  this.unmount();\n  arrayishRemove(this.parent, this, this.__.tagName, true);\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  var this$1 = this;\n\n  each(Object.keys(this.tags), function (tagName) {\n    moveChildTag.apply(this$1.tags[tagName], [tagName, i]);\n  });\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { moveVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.call(this, root); }\n  else\n    { root.appendChild(this.root); }\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nfunction _each(dom, parent, expr) {\n  var mustReorder = typeof getAttr(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || remAttr(dom, LOOP_NO_REORDER_DIRECTIVE);\n  var tagName = getTagName(dom);\n  var impl = __TAG_IMPL[tagName];\n  var parentNode = dom.parentNode;\n  var placeholder = createDOMPlaceholder();\n  var child = getTag(dom);\n  var ifExpr = getAttr(dom, CONDITIONAL_DIRECTIVE);\n  var tags = [];\n  var isLoop = true;\n  var isAnonymous = !__TAG_IMPL[tagName];\n  var isVirtual = dom.tagName === 'VIRTUAL';\n  var oldItems = [];\n  var hasKeys;\n\n  // remove the each property from the original tag\n  remAttr(dom, LOOP_DIRECTIVE);\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr);\n  expr.isLoop = true;\n\n  if (ifExpr) { remAttr(dom, CONDITIONAL_DIRECTIVE); }\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom);\n  parentNode.removeChild(dom);\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent);\n\n    var items = expr.value;\n    var frag = createFrag();\n    var isObject$$1 = !isArray(items) && !isString(items);\n    var root = placeholder.parentNode;\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) { return }\n\n    // object loop. any changes cause full redraw\n    if (isObject$$1) {\n      hasKeys = items || false;\n      items = hasKeys ?\n        Object.keys(items).map(function (key) { return mkitem(expr, items[key], key); }) : [];\n    } else {\n      hasKeys = false;\n    }\n\n    if (ifExpr) {\n      items = items.filter(function (item, i) {\n        if (expr.key && !isObject$$1)\n          { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n        return !!tmpl(ifExpr, extend(Object.create(parent), item))\n      });\n    }\n\n    // loop all the new items\n    each(items, function (item, i) {\n      // reorder only if the items are objects\n      var doReorder = mustReorder && typeof item === T_OBJECT && !hasKeys;\n      var oldPos = oldItems.indexOf(item);\n      var isNew = oldPos === -1;\n      var pos = !isNew && doReorder ? oldPos : i;\n      // does a tag exist in this position?\n      var tag = tags[pos];\n      var mustAppend = i >= oldItems.length;\n      var mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item;\n\n      // new tag\n      if (mustCreate) {\n        tag = new Tag$1(impl, {\n          parent: parent,\n          isLoop: isLoop,\n          isAnonymous: isAnonymous,\n          tagName: tagName,\n          root: dom.cloneNode(isAnonymous),\n          item: item,\n          index: i,\n        }, dom.innerHTML);\n\n        // mount the tag\n        tag.mount();\n\n        if (mustAppend)\n          { append.apply(tag, [frag || root, isVirtual]); }\n        else\n          { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n        if (!mustAppend) { oldItems.splice(i, 0, item); }\n        tags.splice(i, 0, tag);\n        if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n      } else if (pos !== i && doReorder) {\n        // move\n        if (contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual]);\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0]);\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) { tag[expr.pos] = i; }\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag.__.item = item;\n      tag.__.index = i;\n      tag.__.parent = parent;\n\n      if (!mustCreate) { tag.update(item); }\n    });\n\n    // remove the redundant tags\n    unmountRedundant(items, tags);\n\n    // clone the items array\n    oldItems = items.slice();\n\n    root.insertBefore(frag, placeholder);\n  };\n\n  expr.unmount = function () {\n    each(tags, function (t) { t.unmount(); });\n  };\n\n  return expr\n}\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Array } expressions - empty array where the expressions will be added\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Object } an object containing the root noode and the dom tree\n */\nfunction parseExpressions(root, expressions, mustIncludeRoot) {\n  var this$1 = this;\n\n  var tree = {parent: {children: expressions}};\n\n  walkNodes(root, function (dom, ctx) {\n    var type = dom.nodeType,\n      parent = ctx.parent,\n      attr,\n      expr,\n      tagImpl;\n\n    if (!mustIncludeRoot && dom === root) { return {parent: parent} }\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      { parent.children.push({dom: dom, expr: dom.nodeValue}); }\n\n    if (type !== 1) { return ctx } // not an element\n\n    var isVirtual = dom.tagName === 'VIRTUAL';\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttr(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) { setAttr(dom, 'loopVirtual', true); } // ignore here, handled in _each\n      parent.children.push(_each(dom, this$1, attr));\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttr(dom, CONDITIONAL_DIRECTIVE)) {\n      parent.children.push(Object.create(IfExpr).init(dom, this$1, attr));\n      return false\n    }\n\n    if (expr = getAttr(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(expr)) {\n        parent.children.push({\n          isRtag: true,\n          expr: expr,\n          dom: dom,\n          attrs: [].slice.call(dom.attributes)\n        });\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom);\n    if(isVirtual) {\n      if(getAttr(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n      if(!tagImpl && !getAttr(dom, 'virtualized') && !getAttr(dom, 'loopVirtual'))  // ok to create virtual tag\n        { tagImpl = { tmpl: dom.outerHTML }; }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual && !getAttr(dom, IS_DIRECTIVE)) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttr(dom, 'virtualized', true);\n        var tag = new Tag$1(\n          {tmpl: dom.outerHTML},\n          {root: dom, parent: this$1},\n          dom.innerHTML\n        );\n        parent.children.push(tag); // no return, anonymous tag, keep parsing\n      } else {\n        parent.children.push(\n          initChildTag(\n            tagImpl,\n            {\n              root: dom,\n              parent: this$1\n            },\n            dom.innerHTML,\n            this$1\n          )\n        );\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this$1, [dom, dom.attributes, function (attr, expr) {\n      if (!expr) { return }\n      parent.children.push(expr);\n    }]);\n\n    // whatever the parent is, all child elements get the same parent.\n    // If this element had an if-attr, that's the parent for all child elements\n    return {parent: parent}\n  }, tree);\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nfunction parseAttributes(dom, attrs, fn) {\n  var this$1 = this;\n\n  each(attrs, function (attr) {\n    if (!attr) { return false }\n\n    var name = attr.name;\n    var bool = isBoolAttr(name);\n    var expr;\n\n    if (contains(REF_DIRECTIVES, name)) {\n      expr =  Object.create(RefExpr).init(dom, this$1, name, attr.value);\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n    }\n\n    fn(attr, expr);\n  });\n}\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nvar reHasYield  = /<yield\\b/i;\nvar reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig;\nvar reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig;\nvar reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig;\nvar rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' };\nvar tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION;\nvar GENERIC = 'div';\nvar SVG = 'svg';\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  var\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>';\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n  parent = el.firstChild;\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    var tname = rootEls[tagName];\n    if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) { return tmpl }\n\n  // be careful with #1343 - string on the source having `$1`\n  var src = {};\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text;   // preserve first definition\n    return ''\n  }).trim();\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nfunction mkdom(tmpl, html, isSvg$$1) {\n  var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/);\n  var  tagName = match && match[1].toLowerCase();\n  var el = mkEl(isSvg$$1 ? SVG : GENERIC);\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html);\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    { el = specialTags(el, tmpl, tagName); }\n  else\n    { setInnerHTML(el, tmpl); }\n\n  return el\n}\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nfunction Tag$2(el, opts) {\n  // get the tag properties from the class constructor\n  var ref = this;\n  var name = ref.name;\n  var tmpl = ref.tmpl;\n  var css = ref.css;\n  var attrs = ref.attrs;\n  var onCreate = ref.onCreate;\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag$1(name, tmpl, css, attrs, onCreate);\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor;\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this);\n  // inject the component css\n  if (css) { styleManager.inject(); }\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag$1(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs;\n\n    if (/^[\\w-]+\\s?=/.test(css)) {\n      attrs = css;\n      css = '';\n    } else\n      { attrs = ''; }\n  }\n\n  if (css) {\n    if (isFunction(css))\n      { fn = css; }\n    else\n      { styleManager.add(css); }\n  }\n\n  name = name.toLowerCase();\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag2$1(name, tmpl, css, attrs, fn) {\n  if (css) { styleManager.add(css, name); }\n\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nfunction mount$1(selector, tagName, opts) {\n  var tags = [];\n  var elem, allTags;\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, IS_DIRECTIVE), tag;\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName;\n        setAttr(root, IS_DIRECTIVE, tagName);\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts);\n\n      if (tag)\n        { tags.push(tag); }\n    } else if (root.length)\n      { each(root, pushTagsTo); } // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject();\n\n  if (isObject(tagName)) {\n    opts = tagName;\n    tagName = 0;\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = selectTags() :\n      // or just the ones named like the selector\n      selector + selectTags(selector.split(/, */));\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : [];\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    { elem = selector; }\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectTags();\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      { elem = $$(tagName, elem); }\n    else {\n      // select all the children for all the different root elements\n      var nodeList = [];\n\n      each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n      elem = nodeList;\n    }\n    // get rid of the tagName\n    tagName = 0;\n  }\n\n  pushTagsTo(elem);\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nvar mixins = {};\nvar globals = mixins[GLOBAL_MIXIN] = {};\nvar mixins_id = 0;\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nfunction mixin$1(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin$1((\"__\" + (mixins_id++) + \"__\"), name, true);\n    return\n  }\n\n  var store = g ? globals : mixins;\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      { throw new Error((\"Unregistered mixin: \" + name)) }\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix);\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nfunction update$1() {\n  return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n}\n\nfunction unregister$1(name) {\n  __TAG_IMPL[name] = null;\n}\n\nvar version$1 = 'v3.6.3';\n\n\nvar core = Object.freeze({\n\tTag: Tag$2,\n\ttag: tag$1,\n\ttag2: tag2$1,\n\tmount: mount$1,\n\tmixin: mixin$1,\n\tupdate: update$1,\n\tunregister: unregister$1,\n\tversion: version$1\n});\n\n// counter to give a unique id to all the Tag instances\nvar uid = 0;\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nfunction updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) { return }\n  var ctx = !isAnonymous && isLoop ? this : parent || this;\n\n  each(instAttrs, function (attr) {\n    if (attr.expr) { updateAllExpressions.call(ctx, [attr.expr]); }\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n  });\n}\n\n/**\n * Toggle the isMounted flag\n * @this Tag\n * @param { Boolean } value - ..of the isMounted flag\n */\nfunction setIsMounted(value) {\n  defineProperty(this, 'isMounted', value);\n}\n\n\n/**\n * Tag class\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nfunction Tag$1(impl, conf, innerHTML) {\n  if ( impl === void 0 ) impl = {};\n  if ( conf === void 0 ) conf = {};\n\n  var opts = extend({}, conf.opts),\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    isAnonymous = !!conf.isAnonymous,\n    skipAnonymous = settings$1.skipAnonymousTags && isAnonymous,\n    item = conf.item,\n    index = conf.index, // available only for the looped nodes\n    instAttrs = [], // All attributes on the Tag when it's first parsed\n    implAttrs = [], // expressions on this type of Tag\n    expressions = [],\n    root = conf.root,\n    tagName = conf.tagName || getTagName(root),\n    isVirtual = tagName === 'virtual',\n    isInline = !isVirtual && !impl.tmpl,\n    propsInSyncWithParent = [],\n    dom;\n\n  // make this tag observable\n  if (!skipAnonymous) { observable$1(this); }\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) { root._tag.unmount(true); }\n\n  // not yet mounted\n  setIsMounted.call(this, false);\n\n  defineProperty(this, '__', {\n    isAnonymous: isAnonymous,\n    instAttrs: instAttrs,\n    innerHTML: innerHTML,\n    tagName: tagName,\n    index: index,\n    isLoop: isLoop,\n    isInline: isInline,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    wasCreated: false,\n    tail: null,\n    head: null,\n    parent: null,\n    item: null\n  });\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++uid); // base 1 allows test !t._riot_id\n  defineProperty(this, 'root', root);\n  extend(this, { opts: opts }, item);\n  // protect the \"tags\" and \"refs\" property from being overridden\n  defineProperty(this, 'parent', parent || null);\n  defineProperty(this, 'tags', {});\n  defineProperty(this, 'refs', {});\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root;\n  } else {\n    if (!isVirtual) { root.innerHTML = ''; }\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'update', function tagUpdate(data) {\n    var nextOpts = {},\n      canTrigger = this.isMounted && !skipAnonymous;\n\n    extend(this, data);\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, nextOpts, instAttrs]);\n\n    if (\n      canTrigger &&\n      this.isMounted &&\n      isFunction(this.shouldUpdate) && !this.shouldUpdate(data, nextOpts)\n    ) {\n      return this\n    }\n\n    // inherit properties from the parent, but only for isAnonymous tags\n    if (isLoop && isAnonymous) { inheritFrom.apply(this, [this.parent, propsInSyncWithParent]); }\n    extend(opts, nextOpts);\n    if (canTrigger) { this.trigger('update', data); }\n    updateAllExpressions.call(this, expressions);\n    if (canTrigger) { this.trigger('updated'); }\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mixin', function tagMixin() {\n    var this$1 = this;\n\n    each(arguments, function (mix) {\n      var instance, obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin$1(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to this\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = Object.getOwnPropertyDescriptor(instance, key) || Object.getOwnPropertyDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!this$1.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(this$1, key, descriptor);\n          } else {\n            this$1[key] = isFunction(instance[key]) ?\n              instance[key].bind(this$1) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(this$1)(); }\n    });\n    return this\n  }.bind(this));\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mount', function tagMount() {\n    var this$1 = this;\n\n    root._tag = this; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(parent, [root, root.attributes, function (attr, expr) {\n      if (!isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = this$1; }\n      attr.expr = expr;\n      instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    implAttrs = [];\n    walkAttrs(impl.attrs, function (k, v) { implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(this, [root, implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttr(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, opts, instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin$1(GLOBAL_MIXIN);\n\n    if (globalMixin && !skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          this$1.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (impl.fn) { impl.fn.call(this, opts); }\n\n    if (!skipAnonymous) { this.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions.apply(this, [dom, expressions, isAnonymous]);\n\n    this.update(item);\n\n    if (!isAnonymous && !isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    defineProperty(this, 'root', root);\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!skipAnonymous && this.parent) {\n      var p = getImmediateCustomParentTag(this.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        setIsMounted.call(this$1, true);\n        this$1.trigger('mount');\n      });\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setIsMounted.call(this, true);\n      if (!skipAnonymous) { this.trigger('mount'); }\n    }\n\n    this.__.wasCreated = true;\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'unmount', function tagUnmount(mustKeepRoot) {\n    var this$1 = this;\n\n    var el = this.root;\n    var p = el.parentNode;\n    var tagIndex = __TAGS_CACHE.indexOf(this);\n    var ptag;\n\n    if (!skipAnonymous) { this.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttrs(impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      remAttr(root, name);\n    });\n\n    // remove all the event listeners\n    this.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove this tag instance from the global virtualDom variable\n    if (tagIndex !== -1)\n      { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    if (p || isVirtual) {\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent);\n\n        if (isVirtual) {\n          Object.keys(this.tags).forEach(function (tagName) {\n            arrayishRemove(ptag.tags, tagName, this$1.tags[tagName]);\n          });\n        } else {\n          arrayishRemove(ptag.tags, tagName, this);\n          // remove from _parent too\n          if(parent !== ptag) {\n            arrayishRemove(parent.tags, tagName, this);\n          }\n        }\n      } else {\n        // remove the tag contents\n        setInnerHTML(el, '');\n      }\n\n      if (p && !mustKeepRoot) { p.removeChild(el); }\n    }\n\n    if (this.__.virts) {\n      each(this.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // custom internal unmount function to avoid relying on the observable\n    if (this.__.onUnmount) { this.__.onUnmount(); }\n\n    if (!skipAnonymous) {\n      // weird fix for a weird edge case #2409\n      if (!this.isMounted) { this.trigger('mount'); }\n      this.trigger('unmount');\n      this.off('*');\n    }\n\n    defineProperty(this, 'isMounted', false);\n    this.__.wasCreated = false;\n\n    delete this.root._tag;\n\n    return this\n\n  }.bind(this));\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}\n\n/**\n * Inherit properties from a target tag instance\n * @this Tag\n * @param   { Tag } target - tag where we will inherit properties\n * @param   { Array } propsInSyncWithParent - array of properties to sync with the target\n */\nfunction inheritFrom(target, propsInSyncWithParent) {\n  var this$1 = this;\n\n  each(Object.keys(target), function (k) {\n    // some properties must be always in sync with the parent tag\n    var mustSync = contains(propsInSyncWithParent, k);\n\n    if (isUndefined(this$1[k]) || mustSync) {\n      // track the property to keep in sync\n      // so we can keep it updated\n      if (!mustSync) { propsInSyncWithParent.push(k); }\n      this$1[k] = target[k];\n    }\n  });\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tagName, newPos) {\n  var parent = this.parent;\n  var tags;\n  // no parent no move\n  if (!parent) { return }\n\n  tags = parent.tags[tagName];\n\n  if (isArray(tags))\n    { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n  else { arrayishAdd(parent.tags, tagName, this); }\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag$1(child, opts, innerHTML);\n  var tagName = opts.tagName || getTagName(opts.root, true);\n  var ptag = getImmediateCustomParentTag(parent);\n  // fix for the parent attribute in the looped elements\n  defineProperty(tag, 'parent', ptag);\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent;\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag);\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    { arrayishAdd(parent.tags, tagName, tag); }\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag;\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) { break }\n    ptag = ptag.parent;\n  }\n  return ptag\n}\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nfunction unmountAll(expressions) {\n  each(expressions, function (expr) {\n    if (expr instanceof Tag$1) { expr.unmount(true); }\n    else if (expr.tagName) { expr.tag.unmount(true); }\n    else if (expr.unmount) { expr.unmount(); }\n  });\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom, skipDataIs) {\n  var child = getTag(dom);\n  var namedTag = !skipDataIs && getAttr(dom, IS_DIRECTIVE);\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n    namedTag : child ? child.name : dom.tagName.toLowerCase()\n}\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nfunction arrayishAdd(obj, key, value, ensureArray, index) {\n  var dest = obj[key];\n  var isArr = isArray(dest);\n  var hasIndex = !isUndefined(index);\n\n  if (dest && dest === value) { return }\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) { obj[key] = [value]; }\n  else if (!dest) { obj[key] = value; }\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      var oldIndex = dest.indexOf(value);\n      // this item never changed its position\n      if (oldIndex === index) { return }\n      // remove the item from its old position\n      if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value);\n      } else {\n        dest.push(value);\n      }\n    } else { obj[key] = [dest, value]; }\n  }\n}\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nfunction arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    var index = obj[key].indexOf(value);\n    if (index !== -1) { obj[key].splice(index, 1); }\n    if (!obj[key].length) { delete obj[key]; }\n    else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n  } else\n    { delete obj[key]; } // otherwise just delete the key\n}\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts, ctx) {\n  var impl = __TAG_IMPL[tagName];\n  var implClass = __TAG_IMPL[tagName].class;\n  var tag = ctx || (implClass ? Object.create(implClass.prototype) : {});\n  // cache the inner HTML to fix #855\n  var innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n  var conf = extend({ root: root, opts: opts }, { parent: opts ? opts.parent : null });\n\n  if (impl && root) { Tag$1.apply(tag, [impl, conf, innerHTML]); }\n\n  if (tag && tag.mount) {\n    tag.mount(true);\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n  }\n\n  return tag\n}\n\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nfunction makeReplaceVirtual(tag, ref) {\n  var frag = createFrag();\n  makeVirtual.call(tag, frag);\n  ref.parentNode.replaceChild(frag, ref);\n}\n\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction makeVirtual(src, target) {\n  var this$1 = this;\n\n  var head = createDOMPlaceholder();\n  var tail = createDOMPlaceholder();\n  var frag = createFrag();\n  var sib;\n  var el;\n\n  this.root.insertBefore(head, this.root.firstChild);\n  this.root.appendChild(tail);\n\n  this.__.head = el = head;\n  this.__.tail = tail;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    this$1.__.virts.push(el); // hold for unmounting\n    el = sib;\n  }\n\n  if (target)\n    { src.insertBefore(frag, target.__.head); }\n  else\n    { src.appendChild(frag); }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nfunction moveVirtual(src, target) {\n  var this$1 = this;\n\n  var el = this.__.head, sib;\n  var frag = createFrag();\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    el = sib;\n    if (el === this$1.__.tail) {\n      frag.appendChild(el);\n      src.insertBefore(frag, target.__.head);\n      break\n    }\n  }\n}\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nfunction selectTags(tags) {\n  // select all tags\n  if (!tags) {\n    var keys = Object.keys(__TAG_IMPL);\n    return keys + selectTags(keys)\n  }\n\n  return tags\n    .filter(function (t) { return !/[^-\\w]/.test(t); })\n    .reduce(function (list, t) {\n      var name = t.trim().toLowerCase();\n      return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n    }, '')\n}\n\n\nvar tags = Object.freeze({\n\tgetTag: getTag,\n\tinheritFrom: inheritFrom,\n\tmoveChildTag: moveChildTag,\n\tinitChildTag: initChildTag,\n\tgetImmediateCustomParentTag: getImmediateCustomParentTag,\n\tunmountAll: unmountAll,\n\tgetTagName: getTagName,\n\tarrayishAdd: arrayishAdd,\n\tarrayishRemove: arrayishRemove,\n\tmountTo: mountTo,\n\tmakeReplaceVirtual: makeReplaceVirtual,\n\tmakeVirtual: makeVirtual,\n\tmoveVirtual: moveVirtual,\n\tselectTags: selectTags\n});\n\n/**\n * Riot public api\n */\nvar settings = settings$1;\nvar util = {\n  tmpl: tmpl,\n  brackets: brackets,\n  styleManager: styleManager,\n  vdom: __TAGS_CACHE,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom: dom,\n  check: check,\n  misc: misc,\n  tags: tags\n};\n\n// export the core props/methods\nvar Tag = Tag$2;\nvar tag = tag$1;\nvar tag2 = tag2$1;\nvar mount = mount$1;\nvar mixin = mixin$1;\nvar update = update$1;\nvar unregister = unregister$1;\nvar version = version$1;\nvar observable = observable$1;\n\nvar riot$1 = extend({}, core, {\n  observable: observable$1,\n  settings: settings,\n  util: util,\n});\n\nexports.settings = settings;\nexports.util = util;\nexports.Tag = Tag;\nexports.tag = tag;\nexports.tag2 = tag2;\nexports.mount = mount;\nexports.mixin = mixin;\nexports.update = update;\nexports.unregister = unregister;\nexports.version = version;\nexports.observable = observable;\nexports['default'] = riot$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function (t, n) {\n  if (\"object\" == ( false ? \"undefined\" : _typeof(exports)) && \"object\" == ( false ? \"undefined\" : _typeof(module))) module.exports = n(__webpack_require__(10));else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(10)], __WEBPACK_AMD_DEFINE_FACTORY__ = (n),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {\n    var e = n(\"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? require(\"riot\") : t.riot);for (var r in e) {\n      (\"object\" == (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) ? exports : t)[r] = e[r];\n    }\n  }\n}(this, function (t) {\n  return function (t) {\n    function n(r) {\n      if (e[r]) return e[r].exports;var i = e[r] = { i: r, l: !1, exports: {} };return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }var e = {};return n.m = t, n.c = e, n.d = function (t, e, r) {\n      n.o(t, e) || Object.defineProperty(t, e, { configurable: !1, enumerable: !0, get: r });\n    }, n.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };return n.d(e, \"a\", e), e;\n    }, n.o = function (t, n) {\n      return Object.prototype.hasOwnProperty.call(t, n);\n    }, n.p = \"\", n(n.s = 8);\n  }([function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });var r = e(9);Object.keys(r).forEach(function (t) {\n      \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(n, t, { enumerable: !0, get: function get() {\n          return r[t];\n        } });\n    });var i = e(10);Object.keys(i).forEach(function (t) {\n      \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(n, t, { enumerable: !0, get: function get() {\n          return i[t];\n        } });\n    });var o = e(11);Object.keys(o).forEach(function (t) {\n      \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(n, t, { enumerable: !0, get: function get() {\n          return o[t];\n        } });\n    });\n  }, function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });var r = e(3);e.d(n, \"array\", function () {\n      return r.a;\n    });var i = e(14);e.d(n, \"tree\", function () {\n      return i.a;\n    });var o = e(15);e.d(n, \"string\", function () {\n      return o.a;\n    });var s = e(16);e.d(n, \"deepMix\", function () {\n      return s.a;\n    });var a = e(17);e.d(n, \"css\", function () {\n      return a.a;\n    });var u = e(18);e.d(n, \"printer\", function () {\n      return u.a;\n    });var c = e(19);e.d(n, \"object\", function () {\n      return c.a;\n    });\n  }, function (n, e) {\n    n.exports = t;\n  }, function (t, n, e) {\n    \"use strict\";\n    e.d(n, \"a\", function () {\n      return r;\n    });var r = function r(t) {\n      return { last: function last() {\n          return t.length > 0 ? t[t.length - 1] : null;\n        }, in: function _in(n, e) {\n          return t.filter(function (t) {\n            return n.indexOf(t) >= 0 && (!e || e(t));\n          });\n        }, notIn: function notIn(n, e) {\n          return t.filter(function (t) {\n            return n.indexOf(t) < 0 && (!e || e(t));\n          });\n        }, is: function is(n, e) {\n          var r = n.isIn,\n              i = void 0 === r ? [] : r,\n              o = n.notIn,\n              s = void 0 === o ? [] : o;return t.filter(function (t) {\n            return i.reduce(function (n, e) {\n              return e.indexOf(t) >= 0 && n;\n            }, !0) && s.reduce(function (n, e) {\n              return e.indexOf(t) < 0 && n;\n            }, !0) && (!e || e(t));\n          });\n        }, contains: function contains(n) {\n          return t.indexOf(n) >= 0;\n        }, allIn: function allIn(n) {\n          return t.every(function (t) {\n            return n.indexOf(t) >= 0;\n          });\n        } };\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });var r = e(20);e.d(n, \"TreeNode\", function () {\n      return r.b;\n    }), e.d(n, \"RootNode\", function () {\n      return r.a;\n    });var i = e(6);e.d(n, \"selectionStrategies\", function () {\n      return i.c;\n    }), e.d(n, \"clickStrategies\", function () {\n      return i.a;\n    }), e.d(n, \"foldStrategies\", function () {\n      return i.b;\n    });var o = e(7);e.d(n, \"defaults\", function () {\n      return o.a;\n    });var s = e(5);e.d(n, \"dragndrop\", function () {\n      return s.a;\n    }), e.d(n, \"utils\", function () {\n      return s.c;\n    }), e.d(n, \"nodeEvents\", function () {\n      return s.b;\n    }), e.d(n, \"wrapEvents\", function () {\n      return s.d;\n    });\n  }, function (t, n, e) {\n    \"use strict\";\n    function r(t) {\n      if (Array.isArray(t)) {\n        for (var n = 0, e = Array(t.length); n < t.length; n++) {\n          e[n] = t[n];\n        }return e;\n      }return Array.from(t);\n    }e.d(n, \"a\", function () {\n      return s;\n    }), e.d(n, \"c\", function () {\n      return u;\n    }), e.d(n, \"b\", function () {\n      return f;\n    }), e.d(n, \"d\", function () {\n      return l;\n    });var i = e(1),\n        o = Object.assign || function (t) {\n      for (var n = 1; n < arguments.length; n++) {\n        var e = arguments[n];for (var r in e) {\n          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n        }\n      }return t;\n    },\n        s = { selection: function selection(t, n) {\n        return { draggable: !0, droppable: !0, drag: function drag(t, n, e) {\n            n.dataTransfer && n.dataTransfer.setData(\"application/json\", JSON.stringify(e.selection));\n          }, guard: function guard(t, n, e) {\n            if (n && n.dataTransfer && n.dataTransfer.types.indexOf(\"application/json\") < 0) return !1;return function () {\n              return t && Object(i.array)(e.selection).contains(t);\n            }() || function () {\n              return e.ancestors && e.ancestors.reduce(function (t, n) {\n                return t || Object(i.array)(e.selection).contains(n);\n              }, !1);\n            }();\n          }, drop: function drop(e, o, s) {\n            var a = Object(i.tree)(t(), s.category).filter(function (t) {\n              return s.selection.indexOf(t) < 0;\n            }),\n                u = e ? e[s.category] && e[s.category] instanceof Array ? e : Object(i.array)(s.ancestors).last() : null;u ? u[s.category] = [].concat(r(u[s.category]), r(s.selection)) : a = [].concat(r(a), r(s.selection)), n(a);\n          } };\n      }, pluck: function pluck(t, n) {\n        return { draggable: !0, backup: [], drag: function drag(e, r, o) {\n            a = JSON.stringify(t()), r.dataTransfer && r.dataTransfer.setData(\"application/json\", JSON.stringify(e)), setTimeout(function () {\n              return n(Object(i.tree)(t(), o.category).filter(function (t) {\n                return t !== e;\n              }));\n            }, 20);\n          }, cancel: function cancel() {\n            n(JSON.parse(a));\n          } };\n      }, paste: function paste(t, n) {\n        return { droppable: !0, drop: function drop(e, o, s) {\n            if (o.dataTransfer && o.dataTransfer.types.indexOf(\"application/json\") > -1) {\n              var a = JSON.parse(o.dataTransfer.getData(\"application/json\")),\n                  u = [].concat(r(t())),\n                  c = e ? e[s.category] && e[s.category] instanceof Array ? e : Object(i.array)(s.ancestors).last() : null;c ? c[s.category] = [].concat(r(c[s.category]), [a]) : u = [].concat(r(u), [a]), n(u);\n            }\n          } };\n      } },\n        a = \"[]\",\n        u = { filesystem: function filesystem(t) {\n        var n = t.dataTransfer ? t.dataTransfer.items : null;if (n && n.length > 0 && \"file\" === n[0].kind) {\n          for (var e = [], r = 0; r < n.length; r++) {\n            var i = n[r].webkitGetAsEntry() || n[r].getAsFile();i && e.push(i);\n          }return e;\n        }return null;\n      } },\n        c = !1,\n        f = { onDragStart: function onDragStart(t) {\n        return function (n) {\n          n.stopPropagation(), this.inputs.get().dragndrop.onDrag(t, n, this.inputs.get());\n        };\n      }, onDragOver: function onDragOver(t) {\n        return function (n) {\n          n.preventDefault(), n.stopPropagation(), c || (c = !0, this.inputs.get().dragndrop.guard && this.inputs.get().dragndrop.guard(t, n, this.inputs.get()) ? (n.dataTransfer && (n.dataTransfer.dropEffect = \"none\"), i.css.addClass(n.currentTarget, this.mixCss(\"nodrop\"))) : i.css.addClass(n.currentTarget, this.mixCss(\"dragover\")), requestAnimationFrame(function () {\n            c = !1;\n          }));\n        };\n      }, onDragEnter: function onDragEnter(t) {\n        return function (n) {\n          if (n.preventDefault(), n.stopPropagation(), t && (this.hasChildren(t) || this.isAsync(t)) && i.css.hasClass(n.target, this.mixCss(\"opener\"))) {\n            var e = this.state.get().unfolded.filter(function (n) {\n              return n !== t;\n            });e.push(t), this.state.set({ unfolded: e });\n          }\n        };\n      }, onDragLeave: function onDragLeave(t) {\n        t.stopPropagation(), i.css.removeClass(t.currentTarget, this.mixCss(\"dragover\")), i.css.removeClass(t.currentTarget, this.mixCss(\"nodrop\"));\n      }, onDrop: function onDrop(t) {\n        return function (n) {\n          n.stopPropagation(), i.css.removeClass(n.currentTarget, this.mixCss(\"dragover\")), i.css.removeClass(n.currentTarget, this.mixCss(\"nodrop\")), this.inputs.get().dragndrop.onDrop(t, n, this.inputs.get());\n        };\n      }, onDragEnd: function onDragEnd(t) {\n        return function (n) {\n          n.stopPropagation(), n.dataTransfer && \"none\" === n.dataTransfer.dropEffect && this.inputs.get().dragndrop.onCancel(t, n, this.inputs.get());\n        };\n      } },\n        l = function l() {\n      var t = this;return o({}, this.inputs.get().dragndrop, { onDrag: function onDrag(n, e, r) {\n          Object(i.array)(t.inputs.get().selection).contains(n) || t.onSelect(n, r.ancestors, r.neighbours), t.outputs.onDrag && t.outputs.onDrag(n, e, r);\n        }, onDrop: function onDrop(n, e, r) {\n          e.preventDefault(), t.outputs.onDrop && t.outputs.onDrop(n, e, r);\n        }, onCancel: function onCancel(n, e, r) {\n          e.preventDefault(), e.dataTransfer && \"none\" === e.dataTransfer.dropEffect && t.outputs.onCancel && t.outputs.onCancel(n, e, r);\n        } });\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    function r(t) {\n      if (Array.isArray(t)) {\n        for (var n = 0, e = Array(t.length); n < t.length; n++) {\n          e[n] = t[n];\n        }return e;\n      }return Array.from(t);\n    }e.d(n, \"c\", function () {\n      return u;\n    }), e.d(n, \"a\", function () {\n      return c;\n    }), e.d(n, \"b\", function () {\n      return f;\n    });var i = e(1),\n        o = function () {\n      function t(t, n) {\n        var e = [],\n            r = !0,\n            i = !1,\n            o = void 0;try {\n          for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (e.push(s.value), !n || e.length !== n); r = !0) {}\n        } catch (t) {\n          i = !0, o = t;\n        } finally {\n          try {\n            !r && a.return && a.return();\n          } finally {\n            if (i) throw o;\n          }\n        }return e;\n      }return function (n, e) {\n        if (Array.isArray(n)) return n;if (Symbol.iterator in Object(n)) return t(n, e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      };\n    }(),\n        s = function s(t, n, e, r) {\n      return Object(i.array)(n).contains(t) ? [] : [t];\n    },\n        a = function a(t, n, e, r) {\n      var o = !1,\n          s = n.filter(function (n) {\n        return o || (o = n === t), n !== t && r.indexOf(n) < 0;\n      });return !o && t[this.inputs.get().category] && t[this.inputs.get().category] instanceof Array && Object(i.tree)(t[this.inputs.get().category], this.inputs.get().category).visit(function (t) {\n        s = Object(i.array)(s).notIn(t);\n      }), o || s.push(t), s;\n    },\n        u = { single: s, multiple: a, modifiers: function modifiers(t, n, e, u) {\n        var c = this;if (this.modifiers.control || this.modifiers.meta) return this.lastSelection = t, delete this.lastIndex, delete this.lastPivot, a.bind(this)(t, n, e, u);if (this.modifiers.shift) {\n          if (!this.lastSelection) return n;var f = e.indexOf(this.lastSelection);if (f < 0) return n;var l = n.slice(),\n              d = e.indexOf(t);if (f >= 0) {\n            var p;if (this.lastPivot) {\n              var g = e.indexOf(this.lastPivot),\n                  h = f > g ? [g, f] : [f, g],\n                  v = o(h, 2),\n                  y = v[0],\n                  b = v[1],\n                  m = e.slice(y, b + 1);l = Object(i.array)(l).notIn(m);\n            }this.lastPivot = t;var O = f > d ? [d, f] : [f, d],\n                x = o(O, 2),\n                j = x[0],\n                D = x[1],\n                w = this.inputs.get().disabled ? e.slice(j, D + 1).filter(function (t) {\n              return !c.inputs.get().disabled(t);\n            }) : e.slice(j, D + 1);l = Object(i.array)(l).notIn(w), (p = l).push.apply(p, r(w));\n          }return l;\n        }return this.lastSelection = t, delete this.lastIndex, delete this.lastPivot, s.bind(this)(t, n.length > 1 ? [] : n, e, u);\n      }, ancestors: function (t) {\n        function n(n, e, r, i) {\n          return t.apply(this, arguments);\n        }return n.toString = function () {\n          return t.toString();\n        }, n;\n      }(function (t, n, e, o) {\n        return 0 === n.length ? [t] : Object(i.array)(n).contains(t) ? [].concat(r(o)) : [].concat(r(o), [t]);\n      }) },\n        c = { \"unfold-on-selection\": function unfoldOnSelection(t) {\n        if (!this.isSelected(t)) {\n          var n = this.state.get().unfolded.filter(function (n) {\n            return n !== t;\n          });n.push(t), this.state.set({ unfolded: n });\n        }\n      }, \"toggle-fold\": function toggleFold(t) {\n        var n = this.state.get().unfolded.filter(function (n) {\n          return n !== t;\n        });n.length === this.state.get().unfolded.length && n.push(t), this.state.set({ unfolded: n });\n      } },\n        f = { \"opener-control\": function openerControl(t) {\n        return !Object(i.array)(this.state.get().unfolded).contains(t);\n      }, \"not-selected\": function notSelected(t) {\n        return !this.isSelected(t);\n      }, \"no-child-selection\": function noChildSelection(t) {\n        var n = this;return !function t(e) {\n          return n.isSelected(e) || e[n.inputs.get().category] && e[n.inputs.get().category] instanceof Array && e[n.inputs.get().category].some(t);\n        }(t);\n      }, \"max-depth\": function maxDepth() {\n        return !(!this.inputs.get().maxDepth || isNaN(parseInt(this.inputs.get().maxDepth, 10))) && this.inputs.get().depth >= parseInt(this.inputs.get().maxDepth, 10);\n      } };\n  }, function (t, n, e) {\n    \"use strict\";\n    e.d(n, \"a\", function () {\n      return r;\n    });var r = { labels: { \"search.placeholder\": \"Search ...\" }, css: { TreeView: \"TreeView\", opener: \"opener\", depth: \"depth\", selected: \"selected\", category: \"category\", folded: \"folded\", disabled: \"disabled\", async: \"async\", loading: \"loading\", nodrop: \"nodrop\", dragover: \"dragover\", search: \"search\", item: \"item\" }, strategies: { selection: [\"single\"], click: [], fold: [\"not-selected\", \"no-child-selection\"] }, display: function display(t) {\n        return t.toString();\n      }, async: function async(t) {\n        return t();\n      }, noOpener: !1, dragndrop: { draggable: !1, droppable: !1 } };\n  }, function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });var r = e(0);Object.keys(r).forEach(function (t) {\n      \"default\" !== t && \"__esModule\" !== t && Object.defineProperty(n, t, { enumerable: !0, get: function get() {\n          return r[t];\n        } });\n    }), e(12);\n  }, function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });n.optsMixin = function () {\n      var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"opts\";return { init: function init() {\n          this.on(\"update\", this.updateOpts), this._originalOpts = Object.keys(this.opts), this.updateOpts();\n        }, updateOpts: function updateOpts() {\n          if (this.opts) for (var n in this.opts[t]) {\n            ~this._originalOpts.indexOf(n) || (this.opts[n] = this.opts[t][n]);\n          }\n        } };\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });n.transitionMixin = function (t) {\n      return { init: function init() {\n          var n = this;if (this.opts.transition) {\n            var e = this.opts.transition.name,\n                r = this.unmount,\n                i = function i() {\n              var r = (t || function () {\n                return n.root;\n              })();r && (r.classList.add(e), r.classList.add(e + \"-mount\"), setTimeout(function () {\n                r.classList.remove(e + \"-mount\");\n              }, 10));\n            },\n                o = !1,\n                s = function s() {\n              if (!o) {\n                o = !0;var i = (t || function () {\n                  return n.root;\n                })();if (!i) return r.call(n);i.addEventListener(\"transitionend\", function () {\n                  r.call(n);\n                }), i.classList.add(e + \"-unmount\");\n              }\n            };this.one(\"mount\", i), Object.defineProperty(this, \"unmount\", { value: s });\n          }\n        } };\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });n.listenerMixin = function (t) {\n      var n = t.eventType,\n          e = void 0 === n ? \"click\" : n,\n          r = t.callback,\n          i = t.regulate,\n          o = void 0 !== i && i;return { init: function init() {\n          var t = !1,\n              n = function n(_n) {\n            r && (o ? (t || window.requestAnimationFrame(function () {\n              return r(_n, function () {\n                return t = !1;\n              });\n            }), t = !0) : r(_n));\n          };this.one(\"mount\", function () {\n            document.addEventListener(e, n);\n          }), this.one(\"unmount\", function () {\n            document.removeEventListener(e, n);\n          });\n        } };\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    e(13), e(21), e(22);\n  }, function (t, n, e) {\n    e(2).tag2(\"treeview\", '<div class=\"{rootNode.mixCss(TreeView)}\"> <input type=\"search\" class=\"{rootNode.mixCss(search)}\" if=\"{inputs.get().search}\" placeholder=\"{inputs.get().labels[search.placeholder]}\" onkeyup=\"{onSearch}\"> <treeviewnode opts=\"{inputs.get()}\" selection=\"{opts.selection}\" model=\"{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}\" filteredmodel=\"{filtered}\" onselect=\"{rootNode.onSelect}\" dragndrop=\"{rootNode.wrapDragNDrop()}\" ancestors=\"{[]}\" searched=\"{search.trim()}\" depth=\"{0}\"> </TreeViewNode> </div>', \"\", \"\", function (t) {\n      \"use strict\";\n      var n = Object.assign || function (t) {\n        for (var n = 1; n < arguments.length; n++) {\n          var e = arguments[n];for (var r in e) {\n            Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n          }\n        }return t;\n      },\n          r = this,\n          i = e(1),\n          o = e(4),\n          s = e(0);this.mixin((0, s.optsMixin)()), this.mixin((0, s.listenerMixin)({ eventType: \"keyup\", callback: function callback(t) {\n          return r.rootNode.onKey(t);\n        } })), this.mixin((0, s.listenerMixin)({ eventType: \"keydown\", callback: function callback(t) {\n          return r.rootNode.onKey(t);\n        } })), this.filtered = null, this.search = \"\", this.onSearch = function (t) {\n        var n = t.currentTarget.value;r.search = n, r.filtered = n.trim() ? (0, i.tree)(r.inputs.get().model, r.inputs.get().category).treeFilter(r.inputs.get().search(n.trim())) : null;\n      }, this.inputs = { get: function get() {\n          return n({}, o.defaults, r.opts, { onSelect: r.opts.onselect });\n        } }, this.outputs = { onSelect: this.inputs.get().onselect, onDrag: this.inputs.get().dragndrop && this.inputs.get().dragndrop.drag, onDrop: this.inputs.get().dragndrop && this.inputs.get().dragndrop.drop, onCancel: this.inputs.get().dragndrop && this.inputs.get().dragndrop.cancel }, this.state = { get: function get() {\n          return n({}, r);\n        }, set: function set(t) {\n          for (var n in t) {\n            n in r && (r[n] = t[n]);\n          }\n        } }, this.rootNode = new o.RootNode(this.inputs, this.outputs, this.state, this.update);\n    });\n  }, function (t, n, e) {\n    \"use strict\";\n    function r(t) {\n      if (Array.isArray(t)) {\n        for (var n = 0, e = Array(t.length); n < t.length; n++) {\n          e[n] = t[n];\n        }return e;\n      }return Array.from(t);\n    }e.d(n, \"a\", function () {\n      return o;\n    });var i = e(3),\n        o = function o(t, n) {\n      return { flatten: function flatten() {\n          for (var e = [], o = [t]; o.length > 0;) {\n            var s = o.pop();s instanceof Array && (e = [].concat(r(Object(i.a)(e).notIn(s)), r(s)), o = [].concat(r(o), r(s.filter(function (t) {\n              return t[n];\n            }).map(function (t) {\n              return t[n];\n            }))));\n          }return e;\n        }, filter: function filter(e) {\n          var r = t.filter(e);return function t(r) {\n            r.forEach(function (r) {\n              r[n] && r[n] instanceof Array && (r[n] = r[n].filter(e), t(r[n]));\n            });\n          }(r), r;\n        }, treeFilter: function treeFilter(e) {\n          var r = new Map();return function t(r, i) {\n            r.forEach(function (r) {\n              if (r[n] && r[n] instanceof Array) {\n                var o = new Map();t(r[n], o), o.size > 0 ? i.set(r, o) : e(r) && i.set(r, new Map());\n              } else e(r) && i.set(r, null);\n            });\n          }(t, r), r;\n        }, add: function add(e, i) {\n          for (var o = [t]; o.length > 0;) {\n            var s = o.pop(),\n                a = s.indexOf(e);if (a >= 0 && s[a][n]) return s[a][n] = s[a][n].slice(), s[a][n].push(i), t;o = [].concat(r(o), r(s.filter(function (t) {\n              return t[n];\n            }).map(function (t) {\n              return t[n];\n            })));\n          }return t;\n        }, visit: function visit(e) {\n          for (var r = [t]; r.length > 0;) {\n            var i = r.pop();e(i), i.forEach(function (t) {\n              return t[n] && t[n] instanceof Array ? r.push(t[n]) : null;\n            });\n          }\n        } };\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    e.d(n, \"a\", function () {\n      return r;\n    });var r = function r(t) {\n      return { contains: function contains(n) {\n          return !!t && !!t.match(new RegExp(\".*\" + n + \".*\", \"gi\"));\n        } };\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    function r(t) {\n      if (Array.isArray(t)) {\n        for (var n = 0, e = Array(t.length); n < t.length; n++) {\n          e[n] = t[n];\n        }return e;\n      }return Array.from(t);\n    }e.d(n, \"a\", function () {\n      return s;\n    });var i = Object.assign || function (t) {\n      for (var n = 1; n < arguments.length; n++) {\n        var e = arguments[n];for (var r in e) {\n          Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n        }\n      }return t;\n    },\n        o = \"function\" == typeof Symbol && \"symbol\" == _typeof(Symbol.iterator) ? function (t) {\n      return typeof t === \"undefined\" ? \"undefined\" : _typeof(t);\n    } : function (t) {\n      return t && \"function\" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? \"symbol\" : typeof t === \"undefined\" ? \"undefined\" : _typeof(t);\n    },\n        s = function t(n, e) {\n      var s = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];if (!n || !e || \"object\" !== (void 0 === n ? \"undefined\" : o(n)) || \"object\" !== (void 0 === e ? \"undefined\" : o(e))) return n;var a = i({}, n, e);for (var u in e) {\n        e.hasOwnProperty(u) && (e[u] instanceof Array && n[u] instanceof Array ? a[u] = s ? [].concat(r(n[u]), r(e[u])) : a[u] = e[u] : \"object\" === o(e[u]) && \"object\" === o(n[u]) && (a[u] = t(n[u], e[u], s)));\n      }return a;\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    e.d(n, \"a\", function () {\n      return r;\n    });var r = { classes: function classes(t) {\n        var n = [];for (var e in t) {\n          t[e] && n.push(e);\n        }return n.join(\" \");\n      }, addClass: function addClass(t, n) {\n        t instanceof HTMLElement && (t.className = t.className.split(\" \").filter(function (t) {\n          return t !== n;\n        }).join(\" \") + \" \" + n);\n      }, removeClass: function removeClass(t, n) {\n        t instanceof HTMLElement && (t.className = t.className.split(\" \").filter(function (t) {\n          return t !== n;\n        }).join(\" \"));\n      }, hasClass: function hasClass(t, n) {\n        return t instanceof HTMLElement && t.className.indexOf(n) >= 0;\n      } };\n  }, function (t, n, e) {\n    \"use strict\";\n    e.d(n, \"a\", function () {\n      return r;\n    });var r = { debug: function debug(t, n) {\n        var e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : console.log;e(\"%cDEBUG%c \" + t, \"background-color: red; color: white; font-size: 1.1em; font-weight: bold; padding: 3px 10px; border-radius: 5px\", \"color: #444; font-weight: bold; font-size: 1.1em\"), e(\"%c\" + n, \"color: #222; font-weight: bold\");\n      } };\n  }, function (t, n, e) {\n    \"use strict\";\n    function r(t, n, e) {\n      return n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e, t;\n    }e.d(n, \"a\", function () {\n      return o;\n    });var i = function () {\n      function t(t, n) {\n        var e = [],\n            r = !0,\n            i = !1,\n            o = void 0;try {\n          for (var s, a = t[Symbol.iterator](); !(r = (s = a.next()).done) && (e.push(s.value), !n || e.length !== n); r = !0) {}\n        } catch (t) {\n          i = !0, o = t;\n        } finally {\n          try {\n            !r && a.return && a.return();\n          } finally {\n            if (i) throw o;\n          }\n        }return e;\n      }return function (n, e) {\n        if (Array.isArray(n)) return n;if (Symbol.iterator in Object(n)) return t(n, e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      };\n    }(),\n        o = function o(t) {\n      if (!(t && t instanceof Object)) throw new Error(\"Bad object format\");return { shallowCompare: function shallowCompare(n, e) {\n          var r = !0;for (var i in t) {\n            if (t.hasOwnProperty(i) && !(e && e.indexOf(i) >= 0) && n[i] !== t[i]) return void (r = !1);\n          }return r;\n        }, filter: function filter(n) {\n          var e = {};for (var r in t) {\n            t.hasOwnProperty(r) && n(t[r]) && (e[r] = t[r]);\n          }return e;\n        }, map: function map(n) {\n          var e = {};for (var r in t) {\n            t.hasOwnProperty(r) && (e[r] = n(t[r]));\n          }return e;\n        }, fullMap: function fullMap(n) {\n          var e = {};for (var r in t) {\n            if (t.hasOwnProperty(r)) {\n              var o = n(r, t[r]),\n                  s = i(o, 2),\n                  a = s[0],\n                  u = s[1];e[a] = u;\n            }\n          }return e;\n        }, nestPrefix: function nestPrefix(n) {\n          var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function (t) {\n            return t;\n          },\n              i = r({}, n, {});for (var o in t) {\n            t.hasOwnProperty(o) && o.startsWith(n) ? i[n][e(o.substring(n.length))] = t[o] : i[o] = t[o];\n          }return i;\n        } };\n    };\n  }, function (t, n, e) {\n    \"use strict\";\n    function r(t, n, e) {\n      return n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e, t;\n    }function i(t, n) {\n      if (!t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return !n || \"object\" != (typeof n === \"undefined\" ? \"undefined\" : _typeof(n)) && \"function\" != typeof n ? t : n;\n    }function o(t, n) {\n      if (\"function\" != typeof n && null !== n) throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof n === \"undefined\" ? \"undefined\" : _typeof(n)));t.prototype = Object.create(n && n.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), n && (Object.setPrototypeOf ? Object.setPrototypeOf(t, n) : t.__proto__ = n);\n    }function s(t, n) {\n      if (!(t instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n    }e.d(n, \"b\", function () {\n      return p;\n    }), e.d(n, \"a\", function () {\n      return g;\n    });var a = e(1),\n        u = e(5),\n        c = e(6),\n        f = e(7),\n        l = function () {\n      function t(t, n) {\n        for (var e = 0; e < n.length; e++) {\n          var r = n[e];r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n        }\n      }return function (n, e, r) {\n        return e && t(n.prototype, e), r && t(n, r), n;\n      };\n    }(),\n        d = function t(n, e, r, i) {\n      s(this, t), this.inputs = n, this.outputs = e, this.state = r, this.refresh = i;\n    },\n        p = function (t) {\n      function n() {\n        var t, e, o, l;s(this, n);for (var d = arguments.length, p = Array(d), g = 0; g < d; g++) {\n          p[g] = arguments[g];\n        }return e = o = i(this, (t = n.__proto__ || Object.getPrototypeOf(n)).call.apply(t, [this].concat(p))), o.isSelected = function (t) {\n          return Object(a.array)(o.inputs.get().selection).contains(t);\n        }, o.isFolded = function (t) {\n          var n = o.inputs.get().strategies;return (!o.inputs.get().searched || o.isAsync(t)) && (n && n.fold || []).map(function (t) {\n            return (c.b[t] || t).bind(o);\n          }).reduce(function (n, e) {\n            return n && e(t, n);\n          }, !0);\n        }, o.hasChildren = function (t) {\n          return t[o.inputs.get().category] && t[o.inputs.get().category] instanceof Array;\n        }, o.isAsync = function (t) {\n          return !!t && [o.inputs.get().category] && \"function\" == typeof t[o.inputs.get().category];\n        }, o.isDisabled = function (t) {\n          var n = o.inputs.get().disabled;return !!n && n(t);\n        }, o.isDraggable = function (t) {\n          return t && o.inputs.get().dragndrop.draggable && (\"function\" != typeof o.inputs.get().dragndrop.draggable || o.inputs.get().dragndrop.draggable(t));\n        }, o.isDroppable = function (t) {\n          return o.inputs.get().dragndrop.droppable && (\"function\" != typeof o.inputs.get().dragndrop.droppable || o.inputs.get().dragndrop.droppable(t));\n        }, o.mixCss = function (t) {\n          return o.inputs.get().css[t] || f.a.css[t];\n        }, o.ulCss = function () {\n          return a.css.classes(r({}, o.mixCss(\"depth\") + \"-\" + (o.inputs.get().depth || 0), !0));\n        }, o.liCss = function (t) {\n          var n;return a.css.classes((n = {}, r(n, o.mixCss(\"selected\"), o.isSelected(t)), r(n, o.mixCss(\"category\"), o.hasChildren(t) || o.isAsync(t)), r(n, o.mixCss(\"folded\"), o.hasChildren(t) || o.isAsync(t) ? o.isFolded(t) : null), r(n, o.mixCss(\"disabled\"), o.isDisabled(t)), r(n, o.mixCss(\"async\"), o.isAsync(t) && o.isFolded(t)), r(n, o.mixCss(\"loading\"), o.isAsync(t) && !o.isFolded(t)), n));\n        }, o.pending = [], o.unwrapPromise = function (t) {\n          o.pending.push(t);var n = o.inputs.get().async;return n ? n(t[o.inputs.get().category]).then(function (n) {\n            t[o.inputs.get().category] = n, o.refresh();\n          }).catch(function (t) {\n            throw t;\n          }).then(function () {\n            return o.pending = o.pending.filter(function (n) {\n              return n !== t;\n            });\n          }) : Promise.reject(new Error(\"Missing async function.\"));\n        }, o.onClick = function (t) {\n          return function (n) {\n            if (!o.isDisabled(t)) {\n              var e = o.inputs.get().strategies;(e && e.click || []).map(function (t) {\n                return (c.a[t] || t).bind(o);\n              }).forEach(function (e) {\n                return e(t, n, o.inputs.get().ancestors, o.inputs.get().model);\n              }), o.inputs.get().onSelect(t, o.inputs.get().ancestors, o.inputs.get().model), n.stopPropagation();\n            }\n          };\n        }, o.getDragEvents = function (t) {\n          if (arguments.length > 1 && void 0 !== arguments[1] && !arguments[1]) return {};var n = { draggable: o.isDraggable(t), onDragStart: o.isDraggable(t) && u.b.onDragStart(t).bind(o), onDragOver: o.isDroppable(t) && u.b.onDragOver(t).bind(o), onDragEnter: o.isDroppable(t) && u.b.onDragEnter(t).bind(o), onDragLeave: o.isDroppable(t) && u.b.onDragLeave.bind(o), onDrop: o.isDroppable(t) && u.b.onDrop(t).bind(o), onDragEnd: o.isDraggable(t) && u.b.onDragEnd(t).bind(o) };for (var e in n) {\n            n[e] || delete n[e];\n          }return n;\n        }, l = e, i(o, l);\n      }return o(n, t), l(n, [{ key: \"onOpener\", value: function value(t) {\n          var n = this;return function (e) {\n            var r = n.state.get().unfolded.filter(function (n) {\n              return n !== t;\n            });r.length === n.state.get().unfolded.length && r.push(t), n.state.set({ unfolded: r }), e.stopPropagation();\n          };\n        } }]), n;\n    }(d),\n        g = function (t) {\n      function n() {\n        var t, e, r, o;s(this, n);for (var l = arguments.length, d = Array(l), p = 0; p < l; p++) {\n          d[p] = arguments[p];\n        }return e = r = i(this, (t = n.__proto__ || Object.getPrototypeOf(n)).call.apply(t, [this].concat(d))), r.modifiers = {}, r.onKey = function (t) {\n          r.modifiers = { control: t.getModifierState(\"Control\"), meta: t.getModifierState(\"Meta\"), shift: t.getModifierState(\"Shift\") };\n        }, r.onSelect = function (t, n, e) {\n          var i = r.inputs.get().strategies.selection || [],\n              o = i.map(function (t) {\n            return (c.c[t] || t).bind(r);\n          }).reduce(function (r, i) {\n            return i(t, r, e, n);\n          }, r.inputs.get().selection);return r.outputs.onSelect(o, t, n, e), o;\n        }, r.wrapDragNDrop = u.d.bind(r), r.mixCss = function (t) {\n          return r.inputs.get().css[t] || f.a.css[t];\n        }, r.filterTree = function (t) {\n          var n = r.inputs.get().search;return n && t.trim() ? Object(a.tree)(r.inputs.get().model, r.inputs.get().category).treeFilter(n(t.trim())) : null;\n        }, o = e, i(r, o);\n      }return o(n, t), n;\n    }(d);\n  }, function (t, n, e) {\n    e(2).tag2(\"treeviewnode\", '<ul if=\"{!opts.folded && !opts.loading}\" data-is=\"with-transition\" transition=\"{opts.transition}\" class=\"{node.ulCss()}\" ondragover=\"{!opts.depth ? rootEvents.onDragOver : null}\" ondragenter=\"{!opts.depth ? rootEvents.onDragEnter : null}\" ondragleave=\"{!opts.depth ? rootEvents.onDragLeave : null}\" ondrop=\"{!opts.depth ? rootEvents.onDrop : null}\"> <li each=\"{item in getModel()}\" class=\"{node.liCss(item)}\" draggable=\"{node.getDragEvents(item).draggable}\" ondragstart=\"{node.getDragEvents(item).onDragStart}\" ondragover=\"{node.getDragEvents(item).onDragOver}\" ondragenter=\"{node.getDragEvents(item).onDragEnter}\" ondragleave=\"{node.getDragEvents(item).onDragLeave}\" ondragend=\"{node.getDragEvents(item).onDragEnd}\" ondrop=\"{node.getDragEvents(item).onDrop}\"> <span class=\"{parent.node.mixCss(item)}\" onclick=\"{parent.node.onClick(item)}\"> <virtual if=\"{!parent.opts.displaytag}\"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if=\"{parent.opts.displaytag}\" data-is=\"{parent.opts.displaytag(item, parent.opts)}\" item=\"{item}\" inputs=\"{inputs.get()}\"></virtual> <span if=\"{node.hasChildren(item) || node.isAsync(item) && !parent.opts.noopener}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item)}\"></span> </span> <treeviewnode if=\"{node.hasChildren(item) || node.isAsync(item)}\" opts=\"{parent.opts}\" selection=\"{parent.opts.selection}\" model=\"{getChildModel(item)}\" filteredmodel=\"{getChildFiltered(item)}\" ancestors=\"{getAncestors(item)}\" depth=\"{parent.opts.depth + 1}\" folded=\"{node.isFolded(item)}\" loading=\"{node.isAsync(item) && !node.isFolded(item)}\"> </TreeViewNode> </li> </ul> <span if=\"{opts.loading}\"></span>', \"\", \"\", function (t) {\n      \"use strict\";\n      var n = this,\n          r = e(4),\n          i = e(0);this.mixin((0, i.optsMixin)()), this.unfolded = [], this.getModel = function () {\n        return n.opts.searched ? n.opts.model.filter(function (t) {\n          return n.opts.filteredmodel.has(t);\n        }) : n.opts.model;\n      }, this.getChildModel = function (t) {\n        var e = t[n.opts.category];return n.node.isAsync(t) && !n.node.isFolded(t) && n.node.pending.indexOf(t) < 0 && n.node.unwrapPromise(t), n.node.isAsync(t) || (e = n.opts.sort ? e.sort(n.opts.sort) : e), e;\n      }, this.getChildFiltered = function (t) {\n        return n.opts.searched ? n.opts.filteredmodel.get(t) : null;\n      }, this.getAncestors = function (t) {\n        return [].concat(n.opts.ancestors, [t]);\n      };var o = function o() {\n        n.opts.onSelect = n.opts.onselect, n.opts.disabled = n.opts.disable;\n      };this.on(\"update\", o), o(), this.inputs = { get: function get() {\n          return n.opts;\n        } }, this.state = { get: function get() {\n          return n;\n        }, set: function set(t) {\n          for (var e in t) {\n            e in n && (n[e] = t[e]);\n          }\n        } }, this.node = new r.TreeNode(this.inputs, null, this.state, this.update), this.rootEvents = this.node.getDragEvents();\n    });\n  }, function (t, n, e) {\n    \"use strict\";\n    Object.defineProperty(n, \"__esModule\", { value: !0 });var r = e(2),\n        i = function (t) {\n      return t && t.__esModule ? t : { default: t };\n    }(r),\n        o = e(0);n.default = i.default.tag(\"with-transition\", !1, function (t) {\n      var n = this;this.mixin((0, o.transitionMixin)());var e = function e() {\n        for (var t in n.parent) {\n          n.parent.hasOwnProperty(t) && (n[t] = n.parent[t]);\n        }\n      };e(), this.on(\"update\", e);\n    });\n  }]);\n});\n//# sourceMappingURL=index.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(588)(module)))\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(591);\n\nvar _introduction = __webpack_require__(592);\n\nvar _introduction2 = _interopRequireDefault(_introduction);\n\nvar _usage = __webpack_require__(595);\n\nvar _usage2 = _interopRequireDefault(_usage);\n\nvar _treeview = __webpack_require__(604);\n\nvar _treeview2 = _interopRequireDefault(_treeview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = [_introduction2.default, _usage2.default, _treeview2.default];\n\n/***/ }),\n\n/***/ 587:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _riot = __webpack_require__(10);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\n__webpack_require__(86);\n\n__webpack_require__(252);\n\n__webpack_require__(589);\n\n__webpack_require__(253);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.onload = function () {\n    _riot2.default.mount(\"*\");\n};\n\n/***/ }),\n\n/***/ 588:\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n/***/ }),\n\n/***/ 589:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(590);\n\n__webpack_require__(617);\n\n__webpack_require__(618);\n\n__webpack_require__(619);\n\n/***/ }),\n\n/***/ 590:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('app', '    <div class=\"App\">\\n            <planner plan=\"{plan}\" maxdepth=\"{1}\" sticky=\"{true}\"></planner>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\n__webpack_require__(93);\n\nvar _plan = __webpack_require__(253);\n\nvar _plan2 = _interopRequireDefault(_plan);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.plan = _plan2.default;\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 591:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('planner', '    <div class=\"Planner\">\\n        <div class=\"Planner opener\" ref=\"opener\">\\n            <i class=\"{fa: true,                 fa-bars: !opened,                 fa-times: opened}\"></i>\\n        </div>\\n        <aside ref=\"sidePanel\" class=\"{Planner: true, side-panel: true, opened: opened}\">\\n            <div><h1>Table of contents</h1></div>\\n            <treeview model=\"{opts.plan}\" css=\"{{ TreeView: PlannerTree }}\" category=\"subs\" selection=\"{selection}\" onselect=\"{updateSelection}\" strategies=\"{{ selection: [ancestors], fold: [ foldDepth(), not-selected, no-child-selection ]}}\" noopener=\"true\" displaytag=\"{display}\">\\n            </TreeView>\\n        </aside>\\n        <div ref=\"content\" class=\"Planner content\">\\n            <div each=\"{p in opts.plan}\">\\n                <planner-content plan=\"{p}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _riot = __webpack_require__(252);\n\n__webpack_require__(94);\n\nthis.mixin((0, _riot.listenerMixin)({ callback: function callback(e) {\n        return _this.onDocumentClick(e);\n    } }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onDocumentScroll.apply(_this, arguments);\n    }, regulate: true }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onStickyScroll.apply(_this, arguments);\n    }, regulate: true }));\n\nthis.selection = [];\nthis.opened = false;\nthis.updateSelection = function (_) {\n    _this.selection = _;\n    _this.update();\n};\nthis.display = function (item) {\n    return \"display-planner-content\";\n};\nthis.foldDepth = function () {\n    var max = _this.opts.maxDepth;\n    return function () {\n        return this.inputs.get().depth >= max;\n    };\n};\nthis.findPosition = function () {\n    var position = [];\n    var loop = function loop(arr) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n        for (var i = 0; i < arr.length; i++) {\n            var elt = arr[i];\n            var domElt = document.getElementById(acc.length > 0 ? acc.join(\"#\") + \"#\" + elt.title : elt.title);\n            if (domElt && domElt.parentElement && domElt.parentElement.getBoundingClientRect().top <= 50 && domElt.parentElement.getBoundingClientRect().bottom > 10) {\n                position.push(elt);\n                if (elt.subs) loop(elt.subs, [].concat(acc, [elt.title]));\n                break;\n            }\n        }\n    };\n    loop(_this.opts.plan);\n    return position;\n};\nthis.one(\"mount\", function () {\n    _this.selection = _this.findPosition();\n    _this.update();\n});\n\nthis.onDocumentClick = function (ev) {\n    if (!(ev.target instanceof HTMLElement)) return;\n    if (_this.refs.opener && _this.refs.opener.contains(ev.target)) {\n        _this.opened = !_this.opened;\n    } else if (_this.opened && _this.refs.sidePanel && !_this.refs.sidePanel.contains(ev.target)) {\n        _this.opened = false;\n    }\n    _this.update();\n};\n\nthis.onDocumentScroll = function (ev, end) {\n    var position = _this.findPosition();\n    var newHash = \"#\" + position.map(function (_) {\n        return _.title;\n    }).join(\"#\");\n    if (newHash !== (window.location.hash || \"#\")) {\n        _this.selection = position;\n        _this.update();\n        window.history && window.history.replaceState({}, document.title, \"#\" + position.map(function (_) {\n            return _.title;\n        }).join(\"#\"));\n    }\n\n    // Prevents safari security exception (SecurityError (DOM Exception 18): Attempt to use history.replaceState() more than 100 times per 30.000000 seconds)\n    setTimeout(function () {\n        return end();\n    }, 100);\n};\n\nthis.onStickyScroll = function (ev, end) {\n    if (!_this.opts.sticky) return;\n    if (_this.refs.content.getBoundingClientRect().top > 0) {\n        _this.refs.sidePanel.style.position = \"absolute\";\n        _this.refs.sidePanel.style.top = \"\";\n        end();\n    } else {\n        _this.refs.sidePanel.style.position = \"fixed\";\n        _this.refs.sidePanel.style.top = \"0px\";\n        end();\n    }\n};\n});\n\nriot.tag2('planner-content', '    <div class=\"{depth === 1 ? chapter : planner-section}\">\\n        <h1 if=\"{depth === 1}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h1>\\n        <h2 if=\"{depth === 2}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h2>\\n        <h3 if=\"{depth === 3}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h3>\\n        <h4 if=\"{depth === 4}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h4>\\n        <h5 if=\"{depth === 5}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h5>\\n        <h6 if=\"{depth === 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h6>\\n        <p if=\"{depth > 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </p>\\n        <div data-is=\"{plan.content}\"></div>\\n        <div if=\"{plan.subs}\">\\n            <div each=\"{s in plan.subs}\">\\n                <planner-content plan=\"{s}\" prefix=\"{prefix ? prefix+\\'#\\'+plan.title : plan.title}\" depth=\"{depth + 1}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.plan = this.opts.plan;\nthis.depth = this.opts.depth || 1;\nthis.prefix = this.opts.prefix || \"\";\nthis.id = function () {\n        return _this.prefix ? _this.prefix + \"#\" + _this.plan.title : _this.plan.title;\n};\n});\n\nriot.tag2('display-planner-content', '    <a href=\"{href()}\">{opts.item.title}</a>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.href = function () {\n    return _this.opts.inputs.ancestors.map(function (a) {\n        return \"#\" + a.title;\n    }).join(\"\") + \"#\" + _this.opts.item.title;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 592:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(593);\n\n__webpack_require__(594);\n\nexports.default = {\n    title: \"Introduction\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/introduction/index.js\",\n    content: \"introduction\"\n};\n\n/***/ }),\n\n/***/ 593:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('introduction', '    <p>\\n        This page covers the <em class=\"highlight\"><a href=\"http://riotjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Riot.js</a></em> implementation of the <em><a href=\"..\">Bosket library</a></em>.<br>\\n        Versatile and flexible, Bosket eases the creation and design of tree view components.<br><br>\\n        As a matter of fact <em><a href=\"https://github.com/elbywan/bosket/tree/master/docs/riot/plan\" target=\"_blank\" rel=\"noopener noreferrer\">this whole documentation</a></em> is built around Bosket using <em><a href=\"https://github.com/elbywan/bosket/blob/master/docs/riot/components/Planner.tag\" target=\"_blank\" rel=\"noopener noreferrer\">a custom component</a></em> which automatically creates the table of contents and the anchors.<br>\\n        <br>\\n        Multiple use case examples (including the source code and the css stylesheet) are provided alongside the documentation.\\n    </p>\\n    <h4 class=\"center-text\">API views implemented with Bosket</h4>\\n    <introductiondemos></introductiondemos>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 594:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('introductiondemos', '    <div class=\"IntroductionDemos\">\\n       <div class=\"center-text\">\\n           <span class=\"button-row\">\\n               <button each=\"{d in demos}\" onclick=\"{setDemo(d)}\" class=\"{selected: d === demo}\">\\n                   {d}\\n               </button>\\n           </span>\\n       </div>\\n       <componentdemo files=\"{getFiles(demo)}\">\\n            <virtual data-is=\"{parent.demo.toLowerCase()}\"></virtual>\\n       </ComponentDemo>\\n   </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(96);\n\nthis.demos = [\"HackerNews\", \"Pokeapi\", \"ChuckNorris\"];\nthis.demo = this.demos[0];\nthis.setDemo = function (d) {\n    return function (_) {\n        return _this.demo = d;\n    };\n};\nthis.getFiles = function (demo) {\n    return [\"./components/Demos/\" + demo + \"/\" + demo + \".tag\", \"../common/styles/\" + demo + \".css\", \"./components/Demos/\" + demo + \"/models.js\"];\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 595:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(596);\n\nvar _import2 = __webpack_require__(597);\n\nvar _import3 = _interopRequireDefault(_import2);\n\nvar _dataModel = __webpack_require__(599);\n\nvar _dataModel2 = _interopRequireDefault(_dataModel);\n\nvar _style = __webpack_require__(602);\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/index.js\",\n    content: \"usage\",\n    subs: [_import3.default, _dataModel2.default, _style2.default]\n};\n\n/***/ }),\n\n/***/ 596:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('usage', '    <div>\\n        <p>It is assumed that you followed the installation <em><a href=\"../#Setup\">guidelines</a></em>.</p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 597:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(598);\n\nexports.default = {\n    title: \"Import\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/import/index.js\",\n    content: \"import\"\n};\n\n/***/ }),\n\n/***/ 598:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('import', '    <p>Bosket/riot is bundled in <em><a href=\"http://bob.yexley.net/umd-javascript-that-runs-anywhere/\" target=\"_blank\" ref=\"noopener noreferrer\">UMD</a></em> format.</p>\\n\\n    <syntax-highlight offset=\"{8}\">\\n        /* How to register Bosket tags : */\\n\\n        // ES6 imports\\n        import \"bosket/riot\"\\n\\n        // Commonjs\\n        require(\"bosket/riot\")\\n    </syntax-highlight>\\n\\n    <p>Or just include a link to the <em><code>bosket/riot/index.js</code></em> file inside a script tag.</p>\\n\\n    <syntax-highlight language=\"html\" content=\"{htmlCode}\"></syntax-highlight>\\n', '', '', function(opts) {\n\"use strict\";\n\n/* eslint-disable */\nthis.htmlCode = \"\\n            <script src=\\\".../path/to/riot.js\\\"></script>\\n            <script src=\\\".../path/to/bosket/riot/index.js\\\"></script>\\n        \";\n/* eslint-enable */\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 599:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(600);\n\n__webpack_require__(601);\n\nexports.default = {\n    title: \"Data model\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/data%20model/index.js\",\n    content: \"datamodel\"\n};\n\n/***/ }),\n\n/***/ 600:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('datamodel', '    <span>\\n        <p>To populate the component you need to provide a suitable data model.</p>\\n        <syntax-highlight offset=\"{12}\">\\n            // A model is simply an array of objects.\\n\\n            const model = [\\\\\\\\{\\n                a: 1,\\n                b: 2,\\n                /* ... */\\n                // If the object has \\'children\\', it must contain a property value\\n                // being an array of objects that respects the same contract.\\n                // \\'children\\' is just a placeholer name, you can use and specify any\\n                // label as a prop of the component.\\n                children: [\\\\{\\n                    /* ... */,\\n                    // If you would like the children to be loaded asynchronously when\\n                    // the node is unfolded, you may use a function returning a Promise.\\n                    children: () => \\\\{\\n                        return new Promise(resolve =>\\n                            setTimeout(() =>\\n                                // resolves into the children model\\n                                resolve([\\\\{ a: 1, b: 2 \\\\}]), 1000))\\n                    \\\\}\\n                \\\\}],\\n            \\\\},\\n            /* ... */\\n            ]\\n        </syntax-highlight>\\n\\n        <p>The logic is pretty simple as you can see below, a model and its tree representation as a Bosket view :</p>\\n\\n        <syntax-highlight offset=\"{12}\">\\n            [\\n                \\\\{ label: \"Click me, I\\'m a node with two children.\", children: [\\n                    \\\\{ label: \"I am a childless leaf.\" \\\\},\\n                    \\\\{ label: \"I am a also a childless leaf.\" \\\\}\\n                ]\\\\},\\n                \\\\{ label: \"I\\'m a leaf, I do not have children.\" \\\\},\\n                \\\\{ label: \"I am an asynchronous node, click me and wait one second.\", children: () =>\\n                    new Promise(resolve =>\\n                        setTimeout(() =>\\n                            resolve([\\\\{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" \\\\}]), 1000))\\n                \\\\}\\n            ]\\n        </syntax-highlight>\\n\\n        <div style=\"border: 2px solid black; cursor: pointer;\">\\n           <data-model-tree></data-model-tree>\\n        </div>\\n    </span>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 601:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('data-model-tree', '    <treeview model=\"{sampleModel}\" category=\"children\" selection=\"{selection}\" onselect=\"{updateSelection}\" display=\"{display}\">\\n    </TreeView>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.sampleModel = [{ label: \"Click me, I'm a node with two children.\", children: [{ label: \"I am a childless leaf.\" }, { label: \"I am a also a childless leaf.\" }] }, { label: \"I'm a leaf, I do not have children.\" }, { label: \"I am an asynchronous node, click me and wait one second.\", children: function children() {\n        return new Promise(function (resolve) {\n            return setTimeout(function () {\n                return resolve([{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" }]);\n            }, 1000);\n        });\n    }\n}];\n\nthis.updateSelection = function (_) {\n    _this.selection = _;_this.update();\n};\nthis.selection = [];\nthis.display = function (_) {\n    return _.label;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 602:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(603);\n\nexports.default = {\n    title: \"Style\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/style/index.js\",\n    content: \"usage-style\"\n};\n\n/***/ }),\n\n/***/ 603:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('usage-style', '    <div>\\n        <p>\\n            <em>Once the component is included and rendered in your code, you will need to style it using css, otherwise it will look like a good old fashioned html unordered list.</em><br>\\n            <br>\\n            Have a look at <em><a href=\"#TreeView#Css#Empty stylesheet\">the empty stylesheet</a></em> with classes and elements already filled.<br>\\n            Also, feel free to peek at the included <em><a href=\"#TreeView#Demo\">demos css source code</a></em>.\\n        </p>\\n\\n        <syntax-highlight language=\"html\">{parent.htmlCode}</syntax-highlight>\\n\\n        <p>\\n            The css class names can be overrided by changing the <em><a href=\"#TreeView#Optional properties#css\">css property</a></em>.\\n            <br>\\n            You should also check the full <em><a href=\"#TreeView#Css#Layout\">html layout</a></em>.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.htmlCode = \"\\n            <head>\\n                <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"[your bosket stylesheet].css\\\">\\n            </head>\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 604:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _basicUsage = __webpack_require__(605);\n\nvar _basicUsage2 = _interopRequireDefault(_basicUsage);\n\nvar _demo = __webpack_require__(607);\n\nvar _demo2 = _interopRequireDefault(_demo);\n\nvar _css = __webpack_require__(609);\n\nvar _css2 = _interopRequireDefault(_css);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"TreeView\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/index.js\",\n    subs: [_basicUsage2.default, _demo2.default, _css2.default]\n};\n\n/***/ }),\n\n/***/ 605:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(606);\n\nexports.default = {\n    title: \"Basic Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/basic%20usage/index.js\",\n    content: \"basic-usage\"\n};\n\n/***/ }),\n\n/***/ 606:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('basic-usage', '    <div>\\n        <p>\\n            Just drop the TreeView tag in your templates after <em><a href=\"#Usage#Import\">registering it</a></em>.<br>\\n            <br>\\n            Appearance can be tweaked using <em><a href=\"#TreeView#Css\">css</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView\\n\\n            // Required //\\n\\n            model=         /* [the data model](#TreeView#Required properties#model) */\\n            category=      /* [name of the property containing the children](#TreeView#Required properties#category) */\\n            selection=     /* [the selection array, updated when the user (de)selects items](#TreeView#Required properties#selection) */\\n            onselect=      /* [selection callback](#TreeView#Required properties#onselect) */\\n\\n            // Optional //\\n\\n            display=       /* [customize output for each element in the tree](#TreeView#Optional properties#display) */\\n            displaytag=    /* [wrap output inside a tag of your choice](#TreeView#Optional properties#displaytag) */\\n            strategies=    /* [behaviour on selection, click or fold](#TreeView#Optional properties#strategies) */\\n            sort=          /* [sort items](#TreeView#Optional properties#sort) */\\n            disable=       /* [disable certain items](#TreeView#Optional properties#disabled) */\\n            search=        /* [enables the search bar](#TreeView#Optional properties#search) */\\n            async=         /* [how to perform asynchronous loading](#TreeView#Optional properties#async) */\\n            dragndrop=     /* [drag'n'drop configuration](#TreeView#Optional properties#dragndrop) */\\n            noopener=      /* [hide opener 'arrow'](#TreeView#Optional properties#noopener) */\\n            labels=        /* [override default labels](#TreeView#Optional properties#labels) */\\n            css=           /* [override default css classes](#TreeView#Optional properties#css) */\\n            transition=    /* [transitions on mount / unmount](#TreeView#Optional properties#transition) */\\n        />\\n        \";\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 607:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(608);\n\nexports.default = {\n    title: \"Demo\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/demo/index.js\",\n    content: \"treeview-demo-section\"\n};\n\n/***/ }),\n\n/***/ 608:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('treeview-demo-section', '    <div>\\n        <h4>\\n            <a download=\"BosketTreeView.css\" href=\"./components/Demos/TreeView/TreeViewDemo.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>Download stylesheet\\n            </a>\\n        </h4>\\n        <treeviewsection></treeviewsection>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 609:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(610);\n\nvar _layout = __webpack_require__(611);\n\nvar _layout2 = _interopRequireDefault(_layout);\n\nvar _emptyStylesheet = __webpack_require__(614);\n\nvar _emptyStylesheet2 = _interopRequireDefault(_emptyStylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    title: \"Css\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/index.js\",\n    content: \"treeview-css\",\n    subs: [_layout2.default, _emptyStylesheet2.default]\n};\n\n/***/ }),\n\n/***/ 610:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('treeview-css', '    <div>\\n        <p>\\n            A TreeView is basically made of multiple nested unordered lists.\\n            The component applies css classes to the lists and their items throughout its lifecycle.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 611:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(612);\n\nexports.default = {\n    title: \"Layout\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/layout/index.js\",\n    content: \"treeview-layout\"\n};\n\n/***/ }),\n\n/***/ 612:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('treeview-layout', '    <div>\\n        <p>\\n            Below is the <em>full HTML layout</em> of a TreeView, with the <em><a href=\"#TreeView#Optional properties#css\">default classes</a></em>.<br>\\n        </p>\\n        <syntax-highlight language=\"html\">{parent.htmlLayout}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _html_layout = __webpack_require__(613);\n\nvar _html_layout2 = _interopRequireDefault(_html_layout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.htmlLayout = _html_layout2.default;\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 613:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = \"\\n<!-- Presets override this class with the preset component name. -->\\n<div class=\\\"TreeView\\\">\\n\\n    <!-- If [search](#TreeView#Optional properties#search) is defined, hidden otherwise.-->\\n    <input type=\\\"search\\\" class=\\\"search\\\" />\\n\\n    <!-- 'depth-0'' is the root list, each nested list has the depth incremented by 1 -->\\n    <!-- If [transition](#TreeView#Optional properties#transition) is set, the transition css classes will be set on this element. -->\\n    <ul class=\\\"depth-0\\\">\\n        <li>\\n            <span class=\\\"item\\\">\\n                <!-- Return of the [display](#TreeView#Optional properties#display) or [displaytag](#TreeView#Optional properties#displaytag) function.-->\\n            </span>\\n        </li>\\n\\n        <!-- If the item is selected. -->\\n        <li class=\\\"selected\\\">\\n            <span class=\\\"item\\\"></span>\\n        </li>\\n\\n        <!-- A category is a node having children. This node is folded, its children are hidden. -->\\n        <li class=\\\"folded category\\\">\\n            <span class=\\\"item\\\">\\n                <!-- If [noopener](#TreeView#Optional properties#noopener) is false, hidden otherwise. -->\\n                <span class=\\\"opener\\\"></span>\\n            </span>\\n        </li>\\n\\n        <!-- This category is not folded. -->\\n        <li class=\\\"category\\\">\\n            <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n\\n            <!-- Children. -->\\n            <ul class=\\\"depth-1\\\">\\n\\n                <!-- Asynchronous, folded node. See [async](#TreeView#Optional properties#async). -->\\n                <li class=\\\"category folded async\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- This async is currently fetching its children, waiting for the Promise to resolve. See [async](#TreeView#Optional properties#async). -->\\n                <li class=\\\"category loading\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- Disabled item, cannot be selected. See [disabled](#TreeView#Optional properties#disabled). -->\\n                <li class=\\\"disabled\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- An item is being dragged over. See [dragndrop](#TreeView#Optional properties#dragndrop). -->\\n                <li class=\\\"dragover\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n\\n                <!-- An invalid drop target. See [dragndrop](#TreeView#Optional properties#dragndrop). -->\\n                <li class=\\\"nodrop\\\">\\n                    <span class=\\\"item\\\"><span class=\\\"opener\\\"></span></span>\\n                </li>\\n            </ul>\\n        </li>\\n    </ul>\\n</div>\";\n\n/***/ }),\n\n/***/ 614:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n__webpack_require__(615);\n\nexports.default = {\n    title: \"Empty stylesheet\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/empty-stylesheet/index.js\",\n    content: \"treeview-empty-stylesheet\"\n};\n\n/***/ }),\n\n/***/ 615:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('treeview-empty-stylesheet', '    <div>\\n        <h4>\\n            <a ref=\"anchor\" download=\"bosket_empty_stylesheet.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>\\n                Download stylesheet\\n            </a>\\n        </h4>\\n\\n        <syntax-highlight language=\"css\">{parent.emptyStylesheet}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _empty_stylesheet = __webpack_require__(616);\n\nvar _empty_stylesheet2 = _interopRequireDefault(_empty_stylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.emptyStylesheet = _empty_stylesheet2.default;\nthis.one(\"mount\", function () {\n    _this.refs.anchor.href = window.URL.createObjectURL(new Blob([_empty_stylesheet2.default], { type: \"text/css\" }));\n});\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 616:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = \"\\n/* Elements */\\n.TreeView ul {}\\n.TreeView ul > li {}\\n.TreeView ul > li > span.item {}\\n.TreeView > input[type=\\\"search\\\"] {}\\n\\n/* Root list */\\n.TreeView ul.depth-0 {}\\n\\n/* Not disabled */\\n.TreeView ul li:not(.disabled) {}\\n.TreeView ul li:not(.disabled) > span.item {}\\n\\n/* Selected */\\n.TreeView ul li.selected {}\\n.TreeView ul li.selected > span.item {}\\n\\n/* Categories : Nodes with children */\\n.TreeView ul li.category {}\\n.TreeView ul li.category > span.item {}\\n/* Folded */\\n.TreeView ul li.category.folded {}\\n.TreeView ul li.category.folded > span.item {}\\n/* Unfolded */\\n.TreeView ul li.category:not(.folded) {}\\n.TreeView ul li.category:not(.folded) > span.item {}\\n/* Opener */\\n.TreeView ul li.category > span.item > .opener {}\\n.TreeView ul li.category > span.item > .opener::after {}\\n/* Folded async */\\n.TreeView li.category.async {}\\n.TreeView li.category.async > span.item {}\\n/* Loading async */\\n.TreeView li.category.loading {}\\n.TreeView li.category.loading > span.item {}\\n\\n/* Animations on tag mount / unmount */\\n.TreeViewTransition {}\\n.TreeViewTransition-mount {}\\n.TreeViewTransition-unmount {}\\n\\n/* Drag'n'drop */\\n.TreeView ul.dragover {}\\n.TreeView li.dragover {}\\n.TreeView li.dragover > span.item {}\\n.TreeView li.nodrop {}\\n.TreeView li.nodrop > span.item {}\";\n\n/***/ }),\n\n/***/ 617:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('syntax-highlight', '    <pre class=\"{language- + language}\"><code class=\"{language- + language}\" ref=\"ref\"><yield></yield></code></pre>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _tools = __webpack_require__(27);\n\nthis.language = this.opts.language || \"javascript\";\n\nvar makePrefix = function makePrefix(i) {\n    var str = \"\";\n    for (var _ = 0; _ < i; _++) {\n        str += \" \";\n    }\n    return str;\n};\nvar offsetPrefix = this.opts.offset ? makePrefix(this.opts.offset) : \"\";\nthis.one(\"mount\", function () {\n    _this.refs.ref.textContent = (0, _tools.indent)(offsetPrefix + (_this.opts.content || _this.refs.ref.textContent));\n    window.Prism.highlightElement(_this.refs.ref);\n});\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 618:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('componentdemo', '    <div class=\"ComponentDemo section\">\\n        <h3 if=\"{componentname}\">{componentname}</h3>\\n        <p if=\"{description}\">{description}</p>\\n        <div class=\"{ComponentDemo: true, flex-container: true, expanded: expand}\">\\n            <div class=\"{ComponentDemo: true, demo-area: true, expand: expand === demo}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(demo)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === demo,                         fa-expand:    expand !== demo}\"></i>\\n                </div>\\n\\n                <div class=\"ComponentDemo padded\">\\n                    <yield></yield>\\n                </div>\\n            </div>\\n            <div class=\"{ComponentDemo: true, code: true, expand: expand === code}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(code)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === code,                         fa-expand:    expand !== code}\"></i>\\n                </div>\\n\\n                <div class=\"tabs\">\\n                    <div each=\"{file in files}\" onclick=\"{setTab(file)}\" class=\"{selected: parent.tab === file}\">\\n                        {getFileName(file)}\\n                    </div>\\n                </div>\\n\\n                <pre class=\"{language- + getPrismExtension(tab)}\"><code class=\"{language- + getPrismExtension(tab)}\" ref=\"tabContents\"></code></pre>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(97);\n\nvar _tools = __webpack_require__(27);\n\nObject.assign(this, this.opts);\nif (!this.files) this.files = [];\n\nthis.expand = \"demo\";\nthis.doExpand = function (target) {\n    return function (_) {\n        return _this.expand = _this.expand === target ? \"\" : target;\n    };\n};\n\nthis._tab = null;\nthis.setTab = function (file) {\n    return function (e) {\n        return _this.tab = file;\n    };\n};\nObject.defineProperty(this, \"tab\", {\n    configurable: true,\n    get: function get() {\n        return _this._tab || (_this.files.length > 0 ? _this.files[0] : null);\n    },\n    set: function set(file) {\n        _this._tab = file;\n        (0, _tools.loadFile)(file, function (code) {\n            _this.refs.tabContents.innerHTML = window[\"Prism\"].highlight(code, window[\"Prism\"].languages[_this.getPrismExtension(file)]);\n        });\n    }\n});\nthis.tab = this.files.length > 0 ? this.files[0] : null;\n\nthis.getFileName = function (file) {\n    return file.split(\"/\").splice(-1);\n};\nthis.getPrismExtension = function (file) {\n    var split = file.split(\".\");\n    var extension = \"javascript\";\n    if (split[split.length - 1] === \"css\") extension = \"css\";else if (split[split.length - 1] === \"ts\") extension = \"typescript\";\n    return extension;\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 619:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(620);\n\n__webpack_require__(624);\n\n__webpack_require__(627);\n\n__webpack_require__(630);\n\n/***/ }),\n\n/***/ 620:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(621);\n\n__webpack_require__(623);\n\n/***/ }),\n\n/***/ 621:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('treeviewdemo', '\\n    <treeview opts=\"{options}\" selection=\"{opts.selection}\" onselect=\"{opts.onselect}\"></treeview>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Model\n\n// Style\n\nvar _tools = __webpack_require__(11);\n\nvar _dragndrop = __webpack_require__(26);\n\nvar _riot = __webpack_require__(10);\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _TreeViewModel = __webpack_require__(104);\n\nvar _TreeViewModel2 = _interopRequireDefault(_TreeViewModel);\n\n__webpack_require__(622);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.dragImage = new Image();\nthis.dragImage.src = \"../assets/drag-image.png\";\n\n// A custom defined tag used to wrap items on display\n_riot2.default.tag(\"wrappedlabel\", \"<a>{ opts.item.label }</a>\");\n\nthis.options = {\n    // Data model\n    model: _TreeViewModel2.default,\n    // Property of the model containing children\n    category: \"items\",\n    // Wrapper tag\n    displaytag: function displaytag(item) {\n        return \"wrappedlabel\";\n    },\n    // Alphabetical sort\n    sort: function sort(a, b) {\n        return a.label.localeCompare(b.label);\n    },\n    // Search by regex\n    search: function search(input) {\n        return function (i) {\n            return (0, _tools.string)(i.label).contains(input);\n        };\n    },\n    strategies: {\n        // Use keyboard modifiers\n        selection: [\"modifiers\"],\n        // Use the opener to control element folding\n        fold: [\"opener-control\"]\n    },\n    // Custom css root class name\n    css: { TreeView: \"TreeViewDemo\" },\n    dragndrop: _extends({}, _dragndrop.dragndrop.selection(function () {\n        return _this.options.model;\n    }, function (m) {\n        _this.options.model = m;_this.update();\n    }), {\n        // Add a custom image on drag\n        drag: function drag(_, event) {\n            event.dataTransfer.setDragImage(_this.dragImage, 0, 0);\n            event.dataTransfer.setData(\"application/json\", JSON.stringify(_this.options.selection));\n        },\n        // Drop only on categories or root (excluding asynchronous promises)\n        droppable: function droppable(_) {\n            return !_ || _.items && _.items instanceof Array;\n        }\n    }),\n    // Allow css transitions on mount/unmount\n    transition: {\n        name: \"TreeViewDemoTransition\"\n    }\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 622:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 623:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('treeviewsection', '    <div>\\n        <p>\\n            <span>Demonstrates a basic usage of the TreeView component </span>\\n            <span>and how to override and use most of its </span>\\n            <em><a href=\"#TreeView#Required properties\">component props</a></em>, and&nbsp;\\n            <em><a href=\"#TreeView#Css\">css styles</a></em>.\\n        </p>\\n        <span>Featuring :</span>\\n        <ul>\\n            <li>Drag and drop, with a custom drag image.</li>\\n            <li>Asynchronous children loading</li>\\n            <li>Multiselection using keyboard modifiers (shift / ctrl or cmd)</li>\\n            <li>Transitions on fold / unfold</li>\\n            <li>Alphabetical sort</li>\\n            <li>Search bar</li>\\n        </ul>\\n    </div>\\n    <componentdemo componentname=\"Nested items\" files=\"{files}\">\\n        <div style=\"text-align: center\">\\n            <div style=\"display: inline-block; text-align: left\">\\n                <treeviewdemo selection=\"{parent.selection}\" onselect=\"{parent.onselect}\"></TreeViewDemo>\\n            </div>\\n\\n            <p>\\n                <span if=\"{parent.selection.length === 0}\">No elements are</span>\\n                <span if=\"{parent.selection.length === 1}\">One element is</span>\\n                <span if=\"{parent.selection.length > 1}\">{parent.selection.length} elements are</span>\\n                selected.\\n            </p>\\n\\n            <div class=\"select-blocks\">\\n                <button each=\"{item in parent.selection}\" onclick=\"{parent.parent.deselect(item)}\">\\n                    {item.label}\\n                </button>\\n            </div>\\n        </div>\\n    </ComponentDemo>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.files = [\"./components/Demos/TreeView/TreeViewDemo.tag\", \"./components/Demos/TreeView/TreeViewDemo.css\", \"../common/models/TreeViewModel.js\"];\n\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.deselect = function (item) {\n    return function (_) {\n        return _this.selection = _this.selection.filter(function (i) {\n            return i !== item;\n        });\n    };\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 624:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(625);\n\n/***/ }),\n\n/***/ 625:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('chucknorriscategory', '    <span class=\"value\">{item.value}\\n        <i class=\"{fa fa-refresh + (item.children.length === 0 ?  loading : )}\" onclick=\"{onClick}\">\\n        </i>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nthis.onClick = function (e) {\n    _this.item.children = [];\n    _this.item.loadJoke().then(function (joke) {\n        _this.item.children = joke;\n        _this.parent.update();\n    });\n};\n});\n\nriot.tag2('chucknorrisjoke', '    <div class=\"value\">\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.value}</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('chucknorris', '    <div>\\n       <div style=\"text-align: center; margin: 10px;\">\\n           <div>\\n               <a href=\"https://api.chucknorris.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                   <img src=\"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png\" alt=\"Chuck Norris api logo\" style=\"width: 100px; filter: drop-shadow(0 0 2px #444);\">\\n               </a>\\n           </div>\\n           <h5>A curated list of Chuck Norris jokes.</h5>\\n           <div>\\n               <button onclick=\"{init}\" class=\"ChuckNorrisButton\">Reset</button>\\n           </div>\\n            <i if=\"{categories.length === 0}\" class=\"ChuckNorrisSpinner fa fa-spinner fa-3x\"></i>\\n       </div>\\n       <treeview if=\"{categories.length > 0}\" model=\"{categories}\" category=\"children\" selection=\"{selection}\" onselect=\"{onselect}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(98);\n\nvar _models = __webpack_require__(626);\n\nthis.categories = [];\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"], click: [\"unfold-on-selection\"] },\n    css: { TreeView: \"ChuckNorrisDemo\" }\n};\nthis.init = function () {\n    fetch(\"https://api.chucknorris.io/jokes/categories\").then(function (response) {\n        return response.json();\n    }).then(function (categories) {\n        _this.categories = categories.map(function (cat) {\n            return new _models.Category(cat);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\nthis.display = function (item) {\n    return item.display();\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 626:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Category = exports.Category = function Category(category) {\n    var _this = this;\n\n    _classCallCheck(this, Category);\n\n    this.loadJoke = function () {\n        return fetch(\"https://api.chucknorris.io/jokes/random?category=\" + _this.value).then(function (response) {\n            return response.json();\n        }).then(function (joke) {\n            return [new Joke(joke)];\n        });\n    };\n\n    this.display = function () {\n        return \"chucknorriscategory\";\n    };\n\n    this.value = category;\n    this.children = this.loadJoke;\n}\n\n// Riotjs tags are lowercased by the compiler\n;\n\nvar Joke = exports.Joke = function Joke(joke) {\n    _classCallCheck(this, Joke);\n\n    this.display = function () {\n        return \"chucknorrisjoke\";\n    };\n\n    Object.assign(this, joke);\n}\n// Riotjs tags are lowercased by the compiler\n;\n\n/***/ }),\n\n/***/ 627:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(628);\n\n/***/ }),\n\n/***/ 628:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('hackernewsfetchmore', '    <div class=\"fetchMore\" onclick=\"{more}\">\\n        <a>Load more comments</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.more = function (e) {\n    _this.opts.item.fetchKids().then(_this.parent.parent.update);\n};\n});\n\nriot.tag2('hackernewstopstories', '    <span class=\"story\">\\n        <span class=\"commentCount\"><span if=\"{item.descendants}\">({item.descendants}) </span>({item.score} points) - by <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a></span>\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">\\n            {item.title}\\n        </a>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('hackernewscomment', '    <div class=\"comment\">\\n        <div class=\"infobar\">\\n            <span class=\"commentCount\" if=\"{item.kids && item.kids.length > 0}\">({item.kids.length})</span>\\n            <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a> {item.date}\\n        </div>\\n        <div class=\"text\" if=\"{item.deleted}\"><em>Deleted.</em></div>\\n        <div class=\"text\" if=\"{!item.deleted}\" ref=\"content\"></div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nvar refreshContent = function refreshContent() {\n        return _this.refs.content.innerHTML = _this.item.text;\n};\nthis.on(\"update\", refreshContent);\nthis.one(\"mount\", refreshContent);\n});\n\nriot.tag2('hackernews', '    <div>\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://news.ycombinator.com\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"http://www.ycombinator.com/images/ycombinator-logo-fb889e2e.png\" alt=\"HackerNews logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>The top 10 stories from HackerNews.</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"HackerNewsButton\">Reset</button>\\n            </div>\\n            <i if=\"{stories.length === 0}\" class=\"HackerNewsSpinner fa fa-spinner fa-3x\"></i>\\n        </div>\\n        <treeview if=\"{stories.length > 0}\" model=\"{stories}\" category=\"children\" selection=\"{selection}\" onselect=\"{onselect}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></TreeView>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\n__webpack_require__(99);\n\nvar _models = __webpack_require__(629);\n\nthis.stories = [];\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"] },\n    css: { TreeView: \"HackerNewsDemo\" }\n};\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    fetch(\"https://hacker-news.firebaseio.com/v0/beststories.json\").then(function (response) {\n        return response.json();\n    }).then(function (topStories) {\n        return (0, _models.fetchLast)(topStories, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        });\n    }).then(function (topStories) {\n        _this.stories = topStories.map(function (story) {\n            return new _models.TopStory(story);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 629:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Comment = exports.TopStory = exports.fetchLast = undefined;\n\nvar _sanitizeHtml = __webpack_require__(100);\n\nvar _sanitizeHtml2 = _interopRequireDefault(_sanitizeHtml);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar fetchLast = exports.fetchLast = function fetchLast(arr, getUrl) {\n    var limit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 10;\n    var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    return Promise.all(arr.slice(offset, offset + limit).map(function (_) {\n        return fetch(getUrl(_)).then(function (response) {\n            return response.json();\n        });\n    }));\n};\n\nvar Item = function () {\n    function Item(data) {\n        var _this = this;\n\n        _classCallCheck(this, Item);\n\n        this.offset = 0;\n        this.fetchLimit = 5;\n\n        Object.assign(this, data);\n        if (this.kids) {\n            this.children = function () {\n                return _this.fetchKids();\n            };\n        }\n    }\n\n    Item.prototype.fetchKids = function fetchKids() {\n        var _this2 = this;\n\n        if (this.children instanceof Array && this.children[this.children.length - 1].id === -1) this.children = this.children.slice(0, this.children.length - 1);\n        return fetchLast(this.kids, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        }, this.fetchLimit, this.offset).then(function (kids) {\n            var result = kids.map(function (k) {\n                return new Comment(k);\n            });\n            _this2.offset += _this2.fetchLimit;\n            if (_this2.offset < _this2.kids.length) {\n                result.push({\n                    id: -1,\n                    fetchKids: function fetchKids() {\n                        return _this2.fetchKids().then(function (_) {\n                            if (_this2.children instanceof Array) _this2.children = [].concat(_this2.children, _);\n                        });\n                    },\n                    // Riotjs tags are lowercased by the compiler\n                    display: function display() {\n                        return \"hackernewsfetchmore\";\n                    }\n                });\n            }\n            return result;\n        });\n    };\n\n    return Item;\n}();\n\nvar TopStory = exports.TopStory = function (_Item) {\n    _inherits(TopStory, _Item);\n\n    function TopStory() {\n        var _temp, _this3, _ret;\n\n        _classCallCheck(this, TopStory);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this3 = _possibleConstructorReturn(this, _Item.call.apply(_Item, [this].concat(args))), _this3), _this3.display = function () {\n            return \"hackernewstopstories\";\n        }, _temp), _possibleConstructorReturn(_this3, _ret);\n    }\n    // Riotjs tags are lowercased by the compiler\n\n\n    return TopStory;\n}(Item);\n\nvar Comment = exports.Comment = function (_Item2) {\n    _inherits(Comment, _Item2);\n\n    function Comment(data) {\n        _classCallCheck(this, Comment);\n\n        var _this4 = _possibleConstructorReturn(this, _Item2.call(this, data));\n\n        _this4.display = function () {\n            return \"hackernewscomment\";\n        };\n\n        _this4.text = (0, _sanitizeHtml2.default)(_this4.text);\n        _this4.date = new Date(_this4.time * 1000).toLocaleDateString();\n        return _this4;\n    }\n\n    // Riotjs tags are lowercased by the compiler\n\n\n    return Comment;\n}(Item);\n\n/***/ }),\n\n/***/ 630:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(631);\n\n/***/ }),\n\n/***/ 631:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    var riot = __webpack_require__(10)\n    riot.tag2('pokeapisubcategory', '    <span class=\"subcategory\">{opts.item.name}</span>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapiitem', '    <div class=\"{subsection : opts.item.__subsection}\">\\n        <img if=\"{opts.item.__image}\" riot-src=\"{opts.item.__image}\" alt=\"sprite\">\\n        <div class=\"property-row\" each=\"{prop in filterProps()}\">\\n            <label>{prop}</label><span>{ + parent.opts.item[prop]}</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _this = this;\n\nthis.filterProps = function () {\n    var props = Object.getOwnPropertyNames(_this.opts.item);\n    return props.filter(function (prop) {\n        return !prop.startsWith(\"__\") && !(_typeof(_this[prop]) === \"object\") && !(typeof _this[prop] === \"function\");\n    });\n};\n});\n\nriot.tag2('pokemondisplay', '    <virtual>{opts.item.name} </virtual>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapi', '    <div style=\"position: relative;\">\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://pokeapi.co/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"https://avatars3.githubusercontent.com/u/19692032?v=4&s=200\" alt=\"Pokapi logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>Pokmon API crawler</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"PokeapiButton\">Reset</button>\\n            </div>\\n        </div>\\n        <treeview model=\"{data}\" category=\"__children\" selection=\"{selection}\" onselect=\"{onselect}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\" disable=\"{conf.disable}\" search=\"{conf.search}\"></treeview>\\n        <div class=\"{PokeapiLoadMore: true, center-text: true, loading: loading}\" riot-style=\"{display: + loadUrl ? block : none}\" onclick=\"{loadMorePokemons}\">\\n            <i class=\"fa fa-spinner fa-2x\" if=\"{loading}\"></i>\\n            <span if=\"{!loading}\">Show more pokmons</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\n__webpack_require__(103);\n\nvar _models = __webpack_require__(632);\n\nthis.conf = {\n    strategies: { fold: [\"opener-control\", function (_) {\n            return !_.__subsection;\n        }], click: [\"toggle-fold\"] },\n    css: { TreeView: \"PokeapiDemo\" },\n    disable: function disable(_) {\n        return _.__children && _.__children instanceof Array && _.__children.length === 0;\n    },\n    search: function search(input) {\n        return function (item) {\n            return item.name && item.name.startsWith(input);\n        };\n    }\n};\nthis.data = [];\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.loading = false;\nthis.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    _this.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: _ });\n    });\n};\nthis.one(\"mount\", this.init);\n\nthis.loadPokemons = function () {\n    if (!_this.loadUrl) return;\n    _this.loading = true;\n    return (0, _models.cachedFetch)(_this.loadUrl).then(function (json) {\n        _this.loadUrl = json.next;\n        _this.loading = false;\n        return json.results.map(function (i) {\n            return _extends({}, i, {\n                display: function display() {\n                    return \"pokemondisplay\";\n                },\n                __children: function __children() {\n                    return (0, _models.cachedFetch)(i.url).then(function (json) {\n                        return [new _models.Item(json)];\n                    });\n                }\n            });\n        });\n    }).catch(function (err) {\n        return _this.loading = false;\n    });\n};\nthis.loadMorePokemons = function () {\n    if (_this.loading) return;\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: [].concat(_this.data, _) });\n    });\n};\n});\n\n    \n  \n\n/***/ }),\n\n/***/ 632:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Item = exports.Item = function () {\n    function Item(data) {\n        _classCallCheck(this, Item);\n\n        Object.assign(this, formatData(data));\n    }\n\n    Item.prototype.display = function display() {\n        return this.name && this.url ? \"pokeapisubcategory\" : \"pokeapiitem\";\n    };\n\n    return Item;\n}();\n\nvar cache = new Map();\nvar cachedFetch = exports.cachedFetch = function cachedFetch(url) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n    }\n\n    if (cache.has(url)) return Promise.resolve(cache.get(url));\n    return fetch.apply(undefined, [url].concat(args)).then(function (response) {\n        return response.json();\n    }).then(function (json) {\n        cache.set(url, json);\n        return json;\n    });\n};\n\nvar imageMatch = function imageMatch(name, val) {\n    return name === \"sprites\" && val.front_default;\n};\n\nvar formatData = function formatData(d) {\n    var data = _extends({}, d);\n    if (data.url) {\n        var url = data.url;\n        data.__children = function () {\n            return cachedFetch(url).then(function (json) {\n                return [new Item(json)];\n            });\n        };\n        return data;\n    }\n    data.__subsection = true;\n    for (var prop in data) {\n        if (prop.startsWith(\"__\")) continue;\n\n        if (data[prop] instanceof Array) {\n            if (!data.__children) data.__children = [];\n            data.__children.push({\n                name: \"\" + prop,\n                display: function display() {\n                    return \"pokeapisubcategory\";\n                },\n                __children: data[prop].map(function (_) {\n                    return new Item(_);\n                })\n            });\n            delete data[prop];\n        } else if (data[prop] && _typeof(data[prop]) === \"object\") {\n            if (!data.__children) data.__children = [];\n            if (data[prop].url && data[prop].name) {\n                (function () {\n                    var name = data[prop].name;\n                    var url = data[prop].url;\n                    data.__children.push({\n                        name: name,\n                        display: function display() {\n                            return \"pokeapisubcategory\";\n                        },\n                        __children: function __children() {\n                            return cachedFetch(url).then(function (json) {\n                                return [new Item(json)];\n                            });\n                        }\n                    });\n                })();\n            } else {\n                data.__children.push({\n                    name: \"\" + prop,\n                    display: function display() {\n                        return \"pokeapisubcategory\";\n                    },\n                    __children: [new Item(data[prop])]\n                });\n            }\n            var img = imageMatch(prop, data[prop]);\n            if (img) data.__image = img;\n            delete data[prop];\n        }\n    }\n    return data;\n};\n\n/***/ })\n\n},[587]);\n\n\n// WEBPACK FOOTER //\n// riot/build/riot.js","/* Riot v3.6.3, @license MIT */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.riot = {})));\n}(this, (function (exports) { 'use strict';\n\nvar __TAGS_CACHE = [];\nvar __TAG_IMPL = {};\nvar GLOBAL_MIXIN = '__global_mixin';\nvar ATTRS_PREFIX = 'riot-';\nvar REF_DIRECTIVES = ['ref', 'data-ref'];\nvar IS_DIRECTIVE = 'data-is';\nvar CONDITIONAL_DIRECTIVE = 'if';\nvar LOOP_DIRECTIVE = 'each';\nvar LOOP_NO_REORDER_DIRECTIVE = 'no-reorder';\nvar SHOW_DIRECTIVE = 'show';\nvar HIDE_DIRECTIVE = 'hide';\nvar RIOT_EVENTS_KEY = '__riot-events__';\nvar T_STRING = 'string';\nvar T_OBJECT = 'object';\nvar T_UNDEF  = 'undefined';\nvar T_FUNCTION = 'function';\nvar XLINK_NS = 'http://www.w3.org/1999/xlink';\nvar SVG_NS = 'http://www.w3.org/2000/svg';\nvar XLINK_REGEX = /^xlink:(\\w+)/;\nvar WIN = typeof window === T_UNDEF ? undefined : window;\nvar RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;\nvar RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;\nvar RE_EVENTS_PREFIX = /^on/;\nvar RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g;\nvar CASE_SENSITIVE_ATTRIBUTES = { 'viewbox': 'viewBox' };\nvar RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;\nvar IE_VERSION = (WIN && WIN.document || {}).documentMode | 0;\n\n/**\n * Check if the passed argument is a boolean attribute\n * @param   { String } value -\n * @returns { Boolean } -\n */\nfunction isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}\n\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isFunction(value) {\n  return typeof value === T_FUNCTION\n}\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isUndefined(value) {\n  return typeof value === T_UNDEF\n}\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isString(value) {\n  return typeof value === T_STRING\n}\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nfunction isBlank(value) {\n  return isUndefined(value) || value === null || value === ''\n}\n\n/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nfunction isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}\n\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } -\n */\nfunction isWritable(obj, key) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n\n\nvar check = Object.freeze({\n\tisBoolAttr: isBoolAttr,\n\tisFunction: isFunction,\n\tisObject: isObject,\n\tisUndefined: isUndefined,\n\tisString: isString,\n\tisBlank: isBlank,\n\tisArray: isArray,\n\tisWritable: isWritable\n});\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return Array.prototype.slice.call((ctx || document).querySelectorAll(selector))\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nfunction createFrag() {\n  return document.createDocumentFragment()\n}\n\n/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nfunction createDOMPlaceholder() {\n  return document.createTextNode('')\n}\n\n/**\n * Check if a DOM node is an svg tag\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nfunction isSvg(el) {\n  return !!el.ownerSVGElement\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - true if we need to use an svg node\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n */\n/* istanbul ignore next */\nfunction setInnerHTML(container, html) {\n  if (!isUndefined(container.innerHTML))\n    { container.innerHTML = html; }\n    // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml');\n    var node = container.ownerDocument.importNode(doc.documentElement, true);\n    container.appendChild(node);\n  }\n}\n\n/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nfunction toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none';\n  dom['hidden'] = show ? false : true;\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name);\n}\n\n/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nfunction styleObjectToString(style) {\n  return Object.keys(style).reduce(function (acc, prop) {\n    return (acc + \" \" + prop + \": \" + (style[prop]) + \";\")\n  }, '')\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  var xlink = XLINK_REGEX.exec(name);\n  if (xlink && xlink[1])\n    { dom.setAttributeNS(XLINK_NS, xlink[1], val); }\n  else\n    { dom.setAttribute(name, val); }\n}\n\n/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nfunction safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next);\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttrs(html, fn) {\n  if (!html) { return }\n  var m;\n  while (m = RE_HTML_ATTRS.exec(html))\n    { fn(m[1].toLowerCase(), m[2] || m[3] || m[4]); }\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nfunction walkNodes(dom, fn, context) {\n  if (dom) {\n    var res = fn(dom, context);\n    var next;\n    // stop the recursion\n    if (res === false) { return }\n\n    dom = dom.firstChild;\n\n    while (dom) {\n      next = dom.nextSibling;\n      walkNodes(dom, fn, res);\n      dom = next;\n    }\n  }\n}\n\nvar dom = Object.freeze({\n\t$$: $$,\n\t$: $,\n\tcreateFrag: createFrag,\n\tcreateDOMPlaceholder: createDOMPlaceholder,\n\tisSvg: isSvg,\n\tmkEl: mkEl,\n\tsetInnerHTML: setInnerHTML,\n\ttoggleVisibility: toggleVisibility,\n\tremAttr: remAttr,\n\tstyleObjectToString: styleObjectToString,\n\tgetAttr: getAttr,\n\tsetAttr: setAttr,\n\tsafeInsert: safeInsert,\n\twalkAttrs: walkAttrs,\n\twalkNodes: walkNodes\n});\n\nvar styleNode;\n// Create cache and shortcut to the correct property\nvar cssTextProp;\nvar byName = {};\nvar remainder = [];\nvar needsInject = false;\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = ((function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style');\n    setAttr(newNode, 'type', 'text/css');\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]');\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) { newNode.id = userNode.id; }\n      userNode.parentNode.replaceChild(newNode, userNode);\n    }\n    else { document.getElementsByTagName('head')[0].appendChild(newNode); }\n\n    return newNode\n  }))();\n  cssTextProp = styleNode.styleSheet;\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = {\n  styleNode: styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add: function add(css, name) {\n    if (name) { byName[name] = css; }\n    else { remainder.push(css); }\n    needsInject = true;\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject: function inject() {\n    if (!WIN || !needsInject) { return }\n    needsInject = false;\n    var style = Object.keys(byName)\n      .map(function (k) { return byName[k]; })\n      .concat(remainder).join('\\n');\n    /* istanbul ignore next */\n    if (cssTextProp) { cssTextProp.cssText = style; }\n    else { styleNode.innerHTML = style; }\n  }\n};\n\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/';\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ];\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '');\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/;\n  var RE_VN_CHAR = /[$\\w]/;\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos])){  }\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g;\n    var pos = re.lastIndex = start++;\n    var match = re.exec(code)[0].match(RE_REGEX);\n\n    if (match) {\n      var next = pos + match[0].length;\n\n      pos = prev(code, pos);\n      var c = code[pos];\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next;\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next;\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1;\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos])){  }\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next;\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})();\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\n/* istanbul ignore next */\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }';\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ];\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings;\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) { bp = _cache; }\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) { return _pairs }\n\n    var arr = pair.split(' ');\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '));\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr);\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr);\n    arr[6] = _rewrite(_pairs[6], arr);\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB);\n    arr[8] = pair;\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) { _bp = _cache; }\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6];\n\n    var qblocks = [];\n    var prevStr = '';\n    var mark, lastIndex;\n\n    isexpr = start = re.lastIndex = 0;\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex;\n      pos = match.index;\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2];\n          var rech = FINDBRACES[ch];\n          var ix = 1;\n\n          rech.lastIndex = lastIndex;\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) { ++ix; }\n              else if (!--ix) { break }\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2]);\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex;\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4]);\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos));\n        start = re.lastIndex;\n        re = _bp[6 + (isexpr ^= 1)];\n        re.lastIndex = start;\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start));\n    }\n\n    parts.qblocks = qblocks;\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s;\n        prevStr = '';\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'));\n      } else {\n        parts.push(s);\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos);\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~';\n        qblocks.push(str.slice(_pos, _lastIndex));\n        prevStr += str.slice(start, _pos) + mark;\n        start = _lastIndex;\n      }\n      return _lastIndex\n    }\n  };\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  };\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9]);\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  };\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  };\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair);\n      _regex = pair === DEFAULT ? _loopback : _rewrite;\n      _cache[9] = _regex(_pairs[9]);\n    }\n    cachedBrackets = pair;\n  }\n\n  function _setSettings (o) {\n    var b;\n\n    o = o || {};\n    b = o.brackets;\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    });\n    _settings = o;\n    _reset(b);\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  });\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {};\n  _brackets.set = _reset;\n  _brackets.skipRegex = skipRegex;\n\n  _brackets.R_STRINGS = R_STRINGS;\n  _brackets.R_MLCOMMS = R_MLCOMMS;\n  _brackets.S_QBLOCKS = S_QBLOCKS;\n  _brackets.S_QBLOCK2 = S_QBLOCK2;\n\n  return _brackets\n\n})();\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\n/* istanbul ignore next */\nvar tmpl = (function () {\n\n  var _cache = {};\n\n  function _tmpl (str, data) {\n    if (!str) { return str }\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr;\n\n  _tmpl.loopKeys = brackets.loopKeys;\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {}; };\n\n  _tmpl.errorHandler = null;\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    };\n\n    if (_tmpl.errorHandler) { _tmpl.errorHandler(err); }\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message);\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl); // eslint-disable-line\n      console.log(this.data); // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str);\n\n    if (expr.slice(0, 11) !== 'try{return ') { expr = 'return ' + expr; }\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g;\n  var RE_QBMARK = /\\u2057(\\d+)~/g;\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1);\n    var qstr = parts.qblocks;\n    var expr;\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = [];\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i];\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) { list[j++] = expr; }\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")';\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr);\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      });\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/;\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    };\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1');\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match;\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g;\n\n        expr = RegExp.rightContext;\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1];\n\n        while (jsb = (match = re.exec(expr))[1]) { skipBraces(jsb, re); }\n\n        jsb  = expr.slice(0, match.index);\n        expr = RegExp.rightContext;\n\n        list[cnt++] = _wrapExpr(jsb, 1, key);\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0];\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch];\n\n      ir.lastIndex = re.lastIndex;\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) { ++lv; }\n        else if (!--lv) { break }\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex;\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/;\n\n  function _wrapExpr (expr, asText, key) {\n    var tb;\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length;\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar;\n          if (pos) { tb = (s = s[pos]) === '.' || s === '(' || s === '['; }\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos));\n        }\n      }\n      return match\n    });\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}';\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"';\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)';\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8';\n\n  return _tmpl\n\n})();\n\n/* istanbul ignore next */\nvar observable$1 = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {};\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice;\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          { (callbacks[event] = callbacks[event] || []).push(fn); }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) { callbacks = {}; }\n        else {\n          if (fn) {\n            var arr = callbacks[event];\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) { arr.splice(i--, 1); }\n            }\n          } else { delete callbacks[event]; }\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on);\n          fn.apply(el, arguments);\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n        var arguments$1 = arguments;\n\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i;\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments$1[i + 1]; // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0);\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args);\n        }\n\n        if (callbacks['*'] && event != '*')\n          { el.trigger.apply(el, ['*', event].concat(args)); }\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  });\n\n  return el\n\n};\n\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(list, fn) {\n  var len = list ? list.length : 0;\n  var i = 0;\n  for (; i < len; ++i) {\n    fn(list[i], i);\n  }\n  return list\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nfunction contains(array, item) {\n  return array.indexOf(item) !== -1\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(str) {\n  return str.replace(/-(\\w)/g, function (_, c) { return c.toUpperCase(); })\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nfunction startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options));\n  return el\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj;\n  var args = arguments;\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          { src[key] = obj[key]; }\n      }\n    }\n  }\n  return src\n}\n\nvar misc = Object.freeze({\n\teach: each,\n\tcontains: contains,\n\ttoCamel: toCamel,\n\tstartsWith: startsWith,\n\tdefineProperty: defineProperty,\n\textend: extend\n});\n\nvar settings$1 = extend(Object.create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n});\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  var ptag = this.__.parent;\n  var item = this.__.item;\n\n  if (!item)\n    { while (ptag && !item) {\n      item = ptag.__.item;\n      ptag = ptag.__.parent;\n    } }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) { e.currentTarget = dom; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) { e.target = e.srcElement; }\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) { e.which = e.charCode || e.keyCode; }\n\n  e.item = item;\n\n  handler.call(this, e);\n\n  // avoid auto updates\n  if (!settings$1.autoUpdate) { return }\n\n  if (!e.preventUpdate) {\n    var p = getImmediateCustomParentTag(this);\n    // fixes #2083\n    if (p.isMounted) { p.update(); }\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n  var eventName;\n  var cb = handleEvent.bind(tag, dom, handler);\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null;\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '');\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) { tag.__.listeners.push(dom); }\n  if (!dom[RIOT_EVENTS_KEY]) { dom[RIOT_EVENTS_KEY] = {}; }\n  if (dom[RIOT_EVENTS_KEY][name]) { dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name]); }\n\n  dom[RIOT_EVENTS_KEY][name] = cb;\n  dom.addEventListener(eventName, cb, false);\n}\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nfunction updateDataIs(expr, parent, tagName) {\n  var tag = expr.tag || expr.dom._tag,\n    ref;\n\n  var ref$1 = tag ? tag.__ : {};\n  var head = ref$1.head;\n  var isVirtual = expr.dom.tagName === 'VIRTUAL';\n\n  if (tag && expr.tagName === tagName) {\n    tag.update();\n    return\n  }\n\n  // sync _parent to accommodate changing tagnames\n  if (tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      ref = createDOMPlaceholder();\n      head.parentNode.insertBefore(ref, head);\n    }\n\n    tag.unmount(true);\n  }\n\n  // unable to get the tag name\n  if (!isString(tagName)) { return }\n\n  expr.impl = __TAG_IMPL[tagName];\n\n  // unknown implementation\n  if (!expr.impl) { return }\n\n  expr.tag = tag = initChildTag(\n    expr.impl, {\n      root: expr.dom,\n      parent: parent,\n      tagName: tagName\n    },\n    expr.dom.innerHTML,\n    parent\n  );\n\n  each(expr.attrs, function (a) { return setAttr(tag.root, a.name, a.value); });\n  expr.tagName = tagName;\n  tag.mount();\n\n  // root exist first time, after use placeholder\n  if (isVirtual) { makeReplaceVirtual(tag, ref || tag.root); }\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = function() {\n    var delName = tag.opts.dataIs;\n    arrayishRemove(tag.parent.tags, delName, tag);\n    arrayishRemove(tag.__.parent.tags, delName, tag);\n    tag.unmount();\n  };\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nfunction normalizeAttrName(attrName) {\n  if (!attrName) { return null }\n  attrName = attrName.replace(ATTRS_PREFIX, '');\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) { attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]; }\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nfunction updateExpression(expr) {\n  if (this.root && getAttr(this.root,'virtualized')) { return }\n\n  var dom = expr.dom,\n    // remove the riot- prefix\n    attrName = normalizeAttrName(expr.attr),\n    isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName),\n    isVirtual = expr.root && expr.root.tagName === 'VIRTUAL',\n    parent = dom && (expr.parent || dom.parentNode),\n    // detect the style attributes\n    isStyleAttr = attrName === 'style',\n    isClassAttr = attrName === 'class',\n    hasValue,\n    isObj,\n    value;\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.__.wasCreated) {\n      expr.update();\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount();\n      if (isVirtual) {\n        makeReplaceVirtual(expr, expr.root);\n      }\n    }\n    return\n  }\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) { return expr.update() }\n\n  // ...it seems to be a simple expression so we try to calculat its value\n  value = tmpl(expr.expr, isToggle ? extend({}, Object.create(this.parent), this) : this);\n  hasValue = !isBlank(value);\n  isObj = isObject(value);\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    isObj = !isClassAttr && !isStyleAttr;\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this);\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value);\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.isAttrRemoved || !hasValue || value === false)) {\n    remAttr(dom, expr.attr);\n    expr.isAttrRemoved = true;\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) { value = value ? attrName : false; }\n  if (expr.isRtag) { return updateDataIs(expr, this, value) }\n  if (expr.wasParsedOnce && expr.value === value) { return }\n\n  // update the expression value\n  expr.value = value;\n  expr.wasParsedOnce = true;\n\n  // if the value is an object we can not do much more with it\n  if (isObj && !isToggle) { return }\n  // avoid to render undefined/null values\n  if (isBlank(value)) { value = ''; }\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += '';\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent;\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value;                    // #1113\n        if (!IE_VERSION) { dom.nodeValue = value; }  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else { dom.nodeValue = value; }\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this);\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value);\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value;\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value;\n    }\n\n    if (hasValue && value !== false) {\n      setAttr(dom, attrName, value);\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) { toggleVisibility(dom, false); }\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nfunction updateAllExpressions(expressions) {\n  each(expressions, updateExpression.bind(this));\n}\n\nvar IfExpr = {\n  init: function init(dom, tag, expr) {\n    remAttr(dom, CONDITIONAL_DIRECTIVE);\n    this.tag = tag;\n    this.expr = expr;\n    this.stub = createDOMPlaceholder();\n    this.pristine = dom;\n\n    var p = dom.parentNode;\n    p.insertBefore(this.stub, dom);\n    p.removeChild(dom);\n\n    return this\n  },\n  update: function update() {\n    this.value = tmpl(this.expr, this.tag);\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true);\n      this.stub.parentNode.insertBefore(this.current, this.stub);\n      this.expressions = [];\n      parseExpressions.apply(this.tag, [this.current, this.expressions, true]);\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions);\n      if (this.current._tag) {\n        this.current._tag.unmount();\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current);\n      }\n      this.current = null;\n      this.expressions = [];\n    }\n\n    if (this.value) { updateAllExpressions.call(this.tag, this.expressions); }\n  },\n  unmount: function unmount() {\n    unmountAll(this.expressions || []);\n  }\n};\n\nvar RefExpr = {\n  init: function init(dom, parent, attrName, attrValue) {\n    this.dom = dom;\n    this.attr = attrName;\n    this.rawValue = attrValue;\n    this.parent = parent;\n    this.hasExp = tmpl.hasExpr(attrValue);\n    return this\n  },\n  update: function update() {\n    var old = this.value;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    var tagOrDom = this.dom.__ref || this.tag || this.dom;\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue;\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) { arrayishRemove(customParent.refs, old, tagOrDom); }\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) { arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      ); }\n\n      if (this.value !== old) {\n        setAttr(this.dom, this.attr, this.value);\n      }\n    } else {\n      remAttr(this.dom, this.attr);\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) { this.dom.__ref = tagOrDom; }\n  },\n  unmount: function unmount() {\n    var tagOrDom = this.tag || this.dom;\n    var customParent = this.parent && getImmediateCustomParentTag(this.parent);\n    if (!isBlank(this.value) && customParent)\n      { arrayishRemove(customParent.refs, this.value, tagOrDom); }\n  }\n};\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  var item = base ? Object.create(base) : {};\n  item[expr.key] = key;\n  if (expr.pos) { item[expr.pos] = val; }\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  var i = tags.length;\n  var j = items.length;\n\n  while (i > j) {\n    i--;\n    remove.apply(tags[i], [tags, i]);\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1);\n  this.unmount();\n  arrayishRemove(this.parent, this, this.__.tagName, true);\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  var this$1 = this;\n\n  each(Object.keys(this.tags), function (tagName) {\n    moveChildTag.apply(this$1.tags[tagName], [tagName, i]);\n  });\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { moveVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.apply(this, [root, nextTag]); }\n  else\n    { safeInsert(root, this.root, nextTag.root); }\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    { makeVirtual.call(this, root); }\n  else\n    { root.appendChild(this.root); }\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nfunction _each(dom, parent, expr) {\n  var mustReorder = typeof getAttr(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || remAttr(dom, LOOP_NO_REORDER_DIRECTIVE);\n  var tagName = getTagName(dom);\n  var impl = __TAG_IMPL[tagName];\n  var parentNode = dom.parentNode;\n  var placeholder = createDOMPlaceholder();\n  var child = getTag(dom);\n  var ifExpr = getAttr(dom, CONDITIONAL_DIRECTIVE);\n  var tags = [];\n  var isLoop = true;\n  var isAnonymous = !__TAG_IMPL[tagName];\n  var isVirtual = dom.tagName === 'VIRTUAL';\n  var oldItems = [];\n  var hasKeys;\n\n  // remove the each property from the original tag\n  remAttr(dom, LOOP_DIRECTIVE);\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr);\n  expr.isLoop = true;\n\n  if (ifExpr) { remAttr(dom, CONDITIONAL_DIRECTIVE); }\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom);\n  parentNode.removeChild(dom);\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent);\n\n    var items = expr.value;\n    var frag = createFrag();\n    var isObject$$1 = !isArray(items) && !isString(items);\n    var root = placeholder.parentNode;\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) { return }\n\n    // object loop. any changes cause full redraw\n    if (isObject$$1) {\n      hasKeys = items || false;\n      items = hasKeys ?\n        Object.keys(items).map(function (key) { return mkitem(expr, items[key], key); }) : [];\n    } else {\n      hasKeys = false;\n    }\n\n    if (ifExpr) {\n      items = items.filter(function (item, i) {\n        if (expr.key && !isObject$$1)\n          { return !!tmpl(ifExpr, mkitem(expr, item, i, parent)) }\n\n        return !!tmpl(ifExpr, extend(Object.create(parent), item))\n      });\n    }\n\n    // loop all the new items\n    each(items, function (item, i) {\n      // reorder only if the items are objects\n      var doReorder = mustReorder && typeof item === T_OBJECT && !hasKeys;\n      var oldPos = oldItems.indexOf(item);\n      var isNew = oldPos === -1;\n      var pos = !isNew && doReorder ? oldPos : i;\n      // does a tag exist in this position?\n      var tag = tags[pos];\n      var mustAppend = i >= oldItems.length;\n      var mustCreate =  doReorder && isNew || !doReorder && !tag;\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item;\n\n      // new tag\n      if (mustCreate) {\n        tag = new Tag$1(impl, {\n          parent: parent,\n          isLoop: isLoop,\n          isAnonymous: isAnonymous,\n          tagName: tagName,\n          root: dom.cloneNode(isAnonymous),\n          item: item,\n          index: i,\n        }, dom.innerHTML);\n\n        // mount the tag\n        tag.mount();\n\n        if (mustAppend)\n          { append.apply(tag, [frag || root, isVirtual]); }\n        else\n          { insert.apply(tag, [root, tags[i], isVirtual]); }\n\n        if (!mustAppend) { oldItems.splice(i, 0, item); }\n        tags.splice(i, 0, tag);\n        if (child) { arrayishAdd(parent.tags, tagName, tag, true); }\n      } else if (pos !== i && doReorder) {\n        // move\n        if (contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual]);\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0]);\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0]);\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) { tag[expr.pos] = i; }\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) { moveNestedTags.call(tag, i); }\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag.__.item = item;\n      tag.__.index = i;\n      tag.__.parent = parent;\n\n      if (!mustCreate) { tag.update(item); }\n    });\n\n    // remove the redundant tags\n    unmountRedundant(items, tags);\n\n    // clone the items array\n    oldItems = items.slice();\n\n    root.insertBefore(frag, placeholder);\n  };\n\n  expr.unmount = function () {\n    each(tags, function (t) { t.unmount(); });\n  };\n\n  return expr\n}\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Array } expressions - empty array where the expressions will be added\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Object } an object containing the root noode and the dom tree\n */\nfunction parseExpressions(root, expressions, mustIncludeRoot) {\n  var this$1 = this;\n\n  var tree = {parent: {children: expressions}};\n\n  walkNodes(root, function (dom, ctx) {\n    var type = dom.nodeType,\n      parent = ctx.parent,\n      attr,\n      expr,\n      tagImpl;\n\n    if (!mustIncludeRoot && dom === root) { return {parent: parent} }\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      { parent.children.push({dom: dom, expr: dom.nodeValue}); }\n\n    if (type !== 1) { return ctx } // not an element\n\n    var isVirtual = dom.tagName === 'VIRTUAL';\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttr(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) { setAttr(dom, 'loopVirtual', true); } // ignore here, handled in _each\n      parent.children.push(_each(dom, this$1, attr));\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttr(dom, CONDITIONAL_DIRECTIVE)) {\n      parent.children.push(Object.create(IfExpr).init(dom, this$1, attr));\n      return false\n    }\n\n    if (expr = getAttr(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(expr)) {\n        parent.children.push({\n          isRtag: true,\n          expr: expr,\n          dom: dom,\n          attrs: [].slice.call(dom.attributes)\n        });\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom);\n    if(isVirtual) {\n      if(getAttr(dom, 'virtualized')) {dom.parentElement.removeChild(dom); } // tag created, remove from dom\n      if(!tagImpl && !getAttr(dom, 'virtualized') && !getAttr(dom, 'loopVirtual'))  // ok to create virtual tag\n        { tagImpl = { tmpl: dom.outerHTML }; }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual && !getAttr(dom, IS_DIRECTIVE)) { // handled in update\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttr(dom, 'virtualized', true);\n        var tag = new Tag$1(\n          {tmpl: dom.outerHTML},\n          {root: dom, parent: this$1},\n          dom.innerHTML\n        );\n        parent.children.push(tag); // no return, anonymous tag, keep parsing\n      } else {\n        parent.children.push(\n          initChildTag(\n            tagImpl,\n            {\n              root: dom,\n              parent: this$1\n            },\n            dom.innerHTML,\n            this$1\n          )\n        );\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this$1, [dom, dom.attributes, function (attr, expr) {\n      if (!expr) { return }\n      parent.children.push(expr);\n    }]);\n\n    // whatever the parent is, all child elements get the same parent.\n    // If this element had an if-attr, that's the parent for all child elements\n    return {parent: parent}\n  }, tree);\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nfunction parseAttributes(dom, attrs, fn) {\n  var this$1 = this;\n\n  each(attrs, function (attr) {\n    if (!attr) { return false }\n\n    var name = attr.name;\n    var bool = isBoolAttr(name);\n    var expr;\n\n    if (contains(REF_DIRECTIVES, name)) {\n      expr =  Object.create(RefExpr).init(dom, this$1, name, attr.value);\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom: dom, expr: attr.value, attr: name, bool: bool};\n    }\n\n    fn(attr, expr);\n  });\n}\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nvar reHasYield  = /<yield\\b/i;\nvar reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig;\nvar reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig;\nvar reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig;\nvar rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' };\nvar tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION;\nvar GENERIC = 'div';\nvar SVG = 'svg';\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  var\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>';\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent;\n  parent = el.firstChild;\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1;  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    var tname = rootEls[tagName];\n    if (tname && parent.childElementCount === 1) { parent = $(tname, parent); }\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) { return tmpl }\n\n  // be careful with #1343 - string on the source having `$1`\n  var src = {};\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text;   // preserve first definition\n    return ''\n  }).trim();\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nfunction mkdom(tmpl, html, isSvg$$1) {\n  var match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/);\n  var  tagName = match && match[1].toLowerCase();\n  var el = mkEl(isSvg$$1 ? SVG : GENERIC);\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html);\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    { el = specialTags(el, tmpl, tagName); }\n  else\n    { setInnerHTML(el, tmpl); }\n\n  return el\n}\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nfunction Tag$2(el, opts) {\n  // get the tag properties from the class constructor\n  var ref = this;\n  var name = ref.name;\n  var tmpl = ref.tmpl;\n  var css = ref.css;\n  var attrs = ref.attrs;\n  var onCreate = ref.onCreate;\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag$1(name, tmpl, css, attrs, onCreate);\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor;\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this);\n  // inject the component css\n  if (css) { styleManager.inject(); }\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag$1(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs;\n\n    if (/^[\\w-]+\\s?=/.test(css)) {\n      attrs = css;\n      css = '';\n    } else\n      { attrs = ''; }\n  }\n\n  if (css) {\n    if (isFunction(css))\n      { fn = css; }\n    else\n      { styleManager.add(css); }\n  }\n\n  name = name.toLowerCase();\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nfunction tag2$1(name, tmpl, css, attrs, fn) {\n  if (css) { styleManager.add(css, name); }\n\n  __TAG_IMPL[name] = { name: name, tmpl: tmpl, attrs: attrs, fn: fn };\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nfunction mount$1(selector, tagName, opts) {\n  var tags = [];\n  var elem, allTags;\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, IS_DIRECTIVE), tag;\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName;\n        setAttr(root, IS_DIRECTIVE, tagName);\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts);\n\n      if (tag)\n        { tags.push(tag); }\n    } else if (root.length)\n      { each(root, pushTagsTo); } // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject();\n\n  if (isObject(tagName)) {\n    opts = tagName;\n    tagName = 0;\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = selectTags() :\n      // or just the ones named like the selector\n      selector + selectTags(selector.split(/, */));\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : [];\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    { elem = selector; }\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectTags();\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      { elem = $$(tagName, elem); }\n    else {\n      // select all the children for all the different root elements\n      var nodeList = [];\n\n      each(elem, function (_el) { return nodeList.push($$(tagName, _el)); });\n\n      elem = nodeList;\n    }\n    // get rid of the tagName\n    tagName = 0;\n  }\n\n  pushTagsTo(elem);\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nvar mixins = {};\nvar globals = mixins[GLOBAL_MIXIN] = {};\nvar mixins_id = 0;\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nfunction mixin$1(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin$1((\"__\" + (mixins_id++) + \"__\"), name, true);\n    return\n  }\n\n  var store = g ? globals : mixins;\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      { throw new Error((\"Unregistered mixin: \" + name)) }\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix);\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nfunction update$1() {\n  return each(__TAGS_CACHE, function (tag) { return tag.update(); })\n}\n\nfunction unregister$1(name) {\n  __TAG_IMPL[name] = null;\n}\n\nvar version$1 = 'v3.6.3';\n\n\nvar core = Object.freeze({\n\tTag: Tag$2,\n\ttag: tag$1,\n\ttag2: tag2$1,\n\tmount: mount$1,\n\tmixin: mixin$1,\n\tupdate: update$1,\n\tunregister: unregister$1,\n\tversion: version$1\n});\n\n// counter to give a unique id to all the Tag instances\nvar uid = 0;\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nfunction updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) { return }\n  var ctx = !isAnonymous && isLoop ? this : parent || this;\n\n  each(instAttrs, function (attr) {\n    if (attr.expr) { updateAllExpressions.call(ctx, [attr.expr]); }\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value;\n  });\n}\n\n/**\n * Toggle the isMounted flag\n * @this Tag\n * @param { Boolean } value - ..of the isMounted flag\n */\nfunction setIsMounted(value) {\n  defineProperty(this, 'isMounted', value);\n}\n\n\n/**\n * Tag class\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nfunction Tag$1(impl, conf, innerHTML) {\n  if ( impl === void 0 ) impl = {};\n  if ( conf === void 0 ) conf = {};\n\n  var opts = extend({}, conf.opts),\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    isAnonymous = !!conf.isAnonymous,\n    skipAnonymous = settings$1.skipAnonymousTags && isAnonymous,\n    item = conf.item,\n    index = conf.index, // available only for the looped nodes\n    instAttrs = [], // All attributes on the Tag when it's first parsed\n    implAttrs = [], // expressions on this type of Tag\n    expressions = [],\n    root = conf.root,\n    tagName = conf.tagName || getTagName(root),\n    isVirtual = tagName === 'virtual',\n    isInline = !isVirtual && !impl.tmpl,\n    propsInSyncWithParent = [],\n    dom;\n\n  // make this tag observable\n  if (!skipAnonymous) { observable$1(this); }\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) { root._tag.unmount(true); }\n\n  // not yet mounted\n  setIsMounted.call(this, false);\n\n  defineProperty(this, '__', {\n    isAnonymous: isAnonymous,\n    instAttrs: instAttrs,\n    innerHTML: innerHTML,\n    tagName: tagName,\n    index: index,\n    isLoop: isLoop,\n    isInline: isInline,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    wasCreated: false,\n    tail: null,\n    head: null,\n    parent: null,\n    item: null\n  });\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++uid); // base 1 allows test !t._riot_id\n  defineProperty(this, 'root', root);\n  extend(this, { opts: opts }, item);\n  // protect the \"tags\" and \"refs\" property from being overridden\n  defineProperty(this, 'parent', parent || null);\n  defineProperty(this, 'tags', {});\n  defineProperty(this, 'refs', {});\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root;\n  } else {\n    if (!isVirtual) { root.innerHTML = ''; }\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root));\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'update', function tagUpdate(data) {\n    var nextOpts = {},\n      canTrigger = this.isMounted && !skipAnonymous;\n\n    extend(this, data);\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, nextOpts, instAttrs]);\n\n    if (\n      canTrigger &&\n      this.isMounted &&\n      isFunction(this.shouldUpdate) && !this.shouldUpdate(data, nextOpts)\n    ) {\n      return this\n    }\n\n    // inherit properties from the parent, but only for isAnonymous tags\n    if (isLoop && isAnonymous) { inheritFrom.apply(this, [this.parent, propsInSyncWithParent]); }\n    extend(opts, nextOpts);\n    if (canTrigger) { this.trigger('update', data); }\n    updateAllExpressions.call(this, expressions);\n    if (canTrigger) { this.trigger('updated'); }\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Add a mixin to this tag\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mixin', function tagMixin() {\n    var this$1 = this;\n\n    each(arguments, function (mix) {\n      var instance, obj;\n      var props = [];\n\n      // properties blacklisted and will not be bound to the tag instance\n      var propsBlacklist = ['init', '__proto__'];\n\n      mix = isString(mix) ? mixin$1(mix) : mix;\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix();\n      } else { instance = mix; }\n\n      var proto = Object.getPrototypeOf(instance);\n\n      // build multilevel prototype inheritance chain property list\n      do { props = props.concat(Object.getOwnPropertyNames(obj || instance)); }\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function (key) {\n        // bind methods to this\n        // allow mixins to override other properties/parent mixins\n        if (!contains(propsBlacklist, key)) {\n          // check for getters/setters\n          var descriptor = Object.getOwnPropertyDescriptor(instance, key) || Object.getOwnPropertyDescriptor(proto, key);\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set);\n\n          // apply method only if it does not already exist on the instance\n          if (!this$1.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(this$1, key, descriptor);\n          } else {\n            this$1[key] = isFunction(instance[key]) ?\n              instance[key].bind(this$1) :\n              instance[key];\n          }\n        }\n      });\n\n      // init method will be called automatically\n      if (instance.init)\n        { instance.init.bind(this$1)(); }\n    });\n    return this\n  }.bind(this));\n\n  /**\n   * Mount the current tag instance\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'mount', function tagMount() {\n    var this$1 = this;\n\n    root._tag = this; // keep a reference to the tag just created\n\n    // Read all the attrs on this instance. This give us the info we need for updateOpts\n    parseAttributes.apply(parent, [root, root.attributes, function (attr, expr) {\n      if (!isAnonymous && RefExpr.isPrototypeOf(expr)) { expr.tag = this$1; }\n      attr.expr = expr;\n      instAttrs.push(attr);\n    }]);\n\n    // update the root adding custom attributes coming from the compiler\n    implAttrs = [];\n    walkAttrs(impl.attrs, function (k, v) { implAttrs.push({name: k, value: v}); });\n    parseAttributes.apply(this, [root, implAttrs, function (attr, expr) {\n      if (expr) { expressions.push(expr); }\n      else { setAttr(root, attr.name, attr.value); }\n    }]);\n\n    // initialiation\n    updateOpts.apply(this, [isLoop, parent, isAnonymous, opts, instAttrs]);\n\n    // add global mixins\n    var globalMixin = mixin$1(GLOBAL_MIXIN);\n\n    if (globalMixin && !skipAnonymous) {\n      for (var i in globalMixin) {\n        if (globalMixin.hasOwnProperty(i)) {\n          this$1.mixin(globalMixin[i]);\n        }\n      }\n    }\n\n    if (impl.fn) { impl.fn.call(this, opts); }\n\n    if (!skipAnonymous) { this.trigger('before-mount'); }\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions.apply(this, [dom, expressions, isAnonymous]);\n\n    this.update(item);\n\n    if (!isAnonymous && !isInline) {\n      while (dom.firstChild) { root.appendChild(dom.firstChild); }\n    }\n\n    defineProperty(this, 'root', root);\n\n    // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n    if (!skipAnonymous && this.parent) {\n      var p = getImmediateCustomParentTag(this.parent);\n      p.one(!p.isMounted ? 'mount' : 'updated', function () {\n        setIsMounted.call(this$1, true);\n        this$1.trigger('mount');\n      });\n    } else {\n      // otherwise it's not a child tag we can trigger its mount event\n      setIsMounted.call(this, true);\n      if (!skipAnonymous) { this.trigger('mount'); }\n    }\n\n    this.__.wasCreated = true;\n\n    return this\n\n  }.bind(this));\n\n  /**\n   * Unmount the tag instance\n   * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n   * @returns { Tag } the current tag instance\n   */\n  defineProperty(this, 'unmount', function tagUnmount(mustKeepRoot) {\n    var this$1 = this;\n\n    var el = this.root;\n    var p = el.parentNode;\n    var tagIndex = __TAGS_CACHE.indexOf(this);\n    var ptag;\n\n    if (!skipAnonymous) { this.trigger('before-unmount'); }\n\n    // clear all attributes coming from the mounted tag\n    walkAttrs(impl.attrs, function (name) {\n      if (startsWith(name, ATTRS_PREFIX))\n        { name = name.slice(ATTRS_PREFIX.length); }\n\n      remAttr(root, name);\n    });\n\n    // remove all the event listeners\n    this.__.listeners.forEach(function (dom) {\n      Object.keys(dom[RIOT_EVENTS_KEY]).forEach(function (eventName) {\n        dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName]);\n      });\n    });\n\n    // remove this tag instance from the global virtualDom variable\n    if (tagIndex !== -1)\n      { __TAGS_CACHE.splice(tagIndex, 1); }\n\n    if (p || isVirtual) {\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent);\n\n        if (isVirtual) {\n          Object.keys(this.tags).forEach(function (tagName) {\n            arrayishRemove(ptag.tags, tagName, this$1.tags[tagName]);\n          });\n        } else {\n          arrayishRemove(ptag.tags, tagName, this);\n          // remove from _parent too\n          if(parent !== ptag) {\n            arrayishRemove(parent.tags, tagName, this);\n          }\n        }\n      } else {\n        // remove the tag contents\n        setInnerHTML(el, '');\n      }\n\n      if (p && !mustKeepRoot) { p.removeChild(el); }\n    }\n\n    if (this.__.virts) {\n      each(this.__.virts, function (v) {\n        if (v.parentNode) { v.parentNode.removeChild(v); }\n      });\n    }\n\n    // allow expressions to unmount themselves\n    unmountAll(expressions);\n    each(instAttrs, function (a) { return a.expr && a.expr.unmount && a.expr.unmount(); });\n\n    // custom internal unmount function to avoid relying on the observable\n    if (this.__.onUnmount) { this.__.onUnmount(); }\n\n    if (!skipAnonymous) {\n      // weird fix for a weird edge case #2409\n      if (!this.isMounted) { this.trigger('mount'); }\n      this.trigger('unmount');\n      this.off('*');\n    }\n\n    defineProperty(this, 'isMounted', false);\n    this.__.wasCreated = false;\n\n    delete this.root._tag;\n\n    return this\n\n  }.bind(this));\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}\n\n/**\n * Inherit properties from a target tag instance\n * @this Tag\n * @param   { Tag } target - tag where we will inherit properties\n * @param   { Array } propsInSyncWithParent - array of properties to sync with the target\n */\nfunction inheritFrom(target, propsInSyncWithParent) {\n  var this$1 = this;\n\n  each(Object.keys(target), function (k) {\n    // some properties must be always in sync with the parent tag\n    var mustSync = contains(propsInSyncWithParent, k);\n\n    if (isUndefined(this$1[k]) || mustSync) {\n      // track the property to keep in sync\n      // so we can keep it updated\n      if (!mustSync) { propsInSyncWithParent.push(k); }\n      this$1[k] = target[k];\n    }\n  });\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tagName, newPos) {\n  var parent = this.parent;\n  var tags;\n  // no parent no move\n  if (!parent) { return }\n\n  tags = parent.tags[tagName];\n\n  if (isArray(tags))\n    { tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0]); }\n  else { arrayishAdd(parent.tags, tagName, this); }\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag$1(child, opts, innerHTML);\n  var tagName = opts.tagName || getTagName(opts.root, true);\n  var ptag = getImmediateCustomParentTag(parent);\n  // fix for the parent attribute in the looped elements\n  defineProperty(tag, 'parent', ptag);\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent;\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag);\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    { arrayishAdd(parent.tags, tagName, tag); }\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag;\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) { break }\n    ptag = ptag.parent;\n  }\n  return ptag\n}\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nfunction unmountAll(expressions) {\n  each(expressions, function (expr) {\n    if (expr instanceof Tag$1) { expr.unmount(true); }\n    else if (expr.tagName) { expr.tag.unmount(true); }\n    else if (expr.unmount) { expr.unmount(); }\n  });\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom, skipDataIs) {\n  var child = getTag(dom);\n  var namedTag = !skipDataIs && getAttr(dom, IS_DIRECTIVE);\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n    namedTag : child ? child.name : dom.tagName.toLowerCase()\n}\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nfunction arrayishAdd(obj, key, value, ensureArray, index) {\n  var dest = obj[key];\n  var isArr = isArray(dest);\n  var hasIndex = !isUndefined(index);\n\n  if (dest && dest === value) { return }\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) { obj[key] = [value]; }\n  else if (!dest) { obj[key] = value; }\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      var oldIndex = dest.indexOf(value);\n      // this item never changed its position\n      if (oldIndex === index) { return }\n      // remove the item from its old position\n      if (oldIndex !== -1) { dest.splice(oldIndex, 1); }\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value);\n      } else {\n        dest.push(value);\n      }\n    } else { obj[key] = [dest, value]; }\n  }\n}\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nfunction arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    var index = obj[key].indexOf(value);\n    if (index !== -1) { obj[key].splice(index, 1); }\n    if (!obj[key].length) { delete obj[key]; }\n    else if (obj[key].length === 1 && !ensureArray) { obj[key] = obj[key][0]; }\n  } else\n    { delete obj[key]; } // otherwise just delete the key\n}\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts, ctx) {\n  var impl = __TAG_IMPL[tagName];\n  var implClass = __TAG_IMPL[tagName].class;\n  var tag = ctx || (implClass ? Object.create(implClass.prototype) : {});\n  // cache the inner HTML to fix #855\n  var innerHTML = root._innerHTML = root._innerHTML || root.innerHTML;\n  var conf = extend({ root: root, opts: opts }, { parent: opts ? opts.parent : null });\n\n  if (impl && root) { Tag$1.apply(tag, [impl, conf, innerHTML]); }\n\n  if (tag && tag.mount) {\n    tag.mount(true);\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) { __TAGS_CACHE.push(tag); }\n  }\n\n  return tag\n}\n\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nfunction makeReplaceVirtual(tag, ref) {\n  var frag = createFrag();\n  makeVirtual.call(tag, frag);\n  ref.parentNode.replaceChild(frag, ref);\n}\n\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction makeVirtual(src, target) {\n  var this$1 = this;\n\n  var head = createDOMPlaceholder();\n  var tail = createDOMPlaceholder();\n  var frag = createFrag();\n  var sib;\n  var el;\n\n  this.root.insertBefore(head, this.root.firstChild);\n  this.root.appendChild(tail);\n\n  this.__.head = el = head;\n  this.__.tail = tail;\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    this$1.__.virts.push(el); // hold for unmounting\n    el = sib;\n  }\n\n  if (target)\n    { src.insertBefore(frag, target.__.head); }\n  else\n    { src.appendChild(frag); }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nfunction moveVirtual(src, target) {\n  var this$1 = this;\n\n  var el = this.__.head, sib;\n  var frag = createFrag();\n\n  while (el) {\n    sib = el.nextSibling;\n    frag.appendChild(el);\n    el = sib;\n    if (el === this$1.__.tail) {\n      frag.appendChild(el);\n      src.insertBefore(frag, target.__.head);\n      break\n    }\n  }\n}\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nfunction selectTags(tags) {\n  // select all tags\n  if (!tags) {\n    var keys = Object.keys(__TAG_IMPL);\n    return keys + selectTags(keys)\n  }\n\n  return tags\n    .filter(function (t) { return !/[^-\\w]/.test(t); })\n    .reduce(function (list, t) {\n      var name = t.trim().toLowerCase();\n      return list + \",[\" + IS_DIRECTIVE + \"=\\\"\" + name + \"\\\"]\"\n    }, '')\n}\n\n\nvar tags = Object.freeze({\n\tgetTag: getTag,\n\tinheritFrom: inheritFrom,\n\tmoveChildTag: moveChildTag,\n\tinitChildTag: initChildTag,\n\tgetImmediateCustomParentTag: getImmediateCustomParentTag,\n\tunmountAll: unmountAll,\n\tgetTagName: getTagName,\n\tarrayishAdd: arrayishAdd,\n\tarrayishRemove: arrayishRemove,\n\tmountTo: mountTo,\n\tmakeReplaceVirtual: makeReplaceVirtual,\n\tmakeVirtual: makeVirtual,\n\tmoveVirtual: moveVirtual,\n\tselectTags: selectTags\n});\n\n/**\n * Riot public api\n */\nvar settings = settings$1;\nvar util = {\n  tmpl: tmpl,\n  brackets: brackets,\n  styleManager: styleManager,\n  vdom: __TAGS_CACHE,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom: dom,\n  check: check,\n  misc: misc,\n  tags: tags\n};\n\n// export the core props/methods\nvar Tag = Tag$2;\nvar tag = tag$1;\nvar tag2 = tag2$1;\nvar mount = mount$1;\nvar mixin = mixin$1;\nvar update = update$1;\nvar unregister = unregister$1;\nvar version = version$1;\nvar observable = observable$1;\n\nvar riot$1 = extend({}, core, {\n  observable: observable$1,\n  settings: settings,\n  util: util,\n});\n\nexports.settings = settings;\nexports.util = util;\nexports.Tag = Tag;\nexports.tag = tag;\nexports.tag2 = tag2;\nexports.mount = mount;\nexports.mixin = mixin;\nexports.update = update;\nexports.unregister = unregister;\nexports.version = version;\nexports.observable = observable;\nexports['default'] = riot$1;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/riot/riot.js\n// module id = 10\n// module chunks = 2","!function(t,n){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=n(require(\"riot\"));else if(\"function\"==typeof define&&define.amd)define([\"riot\"],n);else{var e=n(\"object\"==typeof exports?require(\"riot\"):t.riot);for(var r in e)(\"object\"==typeof exports?exports:t)[r]=e[r]}}(this,function(t){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p=\"\",n(n.s=8)}([function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(9);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})});var i=e(10);Object.keys(i).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=e(11);Object.keys(o).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})})},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(3);e.d(n,\"array\",function(){return r.a});var i=e(14);e.d(n,\"tree\",function(){return i.a});var o=e(15);e.d(n,\"string\",function(){return o.a});var s=e(16);e.d(n,\"deepMix\",function(){return s.a});var a=e(17);e.d(n,\"css\",function(){return a.a});var u=e(18);e.d(n,\"printer\",function(){return u.a});var c=e(19);e.d(n,\"object\",function(){return c.a})},function(n,e){n.exports=t},function(t,n,e){\"use strict\";e.d(n,\"a\",function(){return r});var r=function(t){return{last:function(){return t.length>0?t[t.length-1]:null},in:function(n,e){return t.filter(function(t){return n.indexOf(t)>=0&&(!e||e(t))})},notIn:function(n,e){return t.filter(function(t){return n.indexOf(t)<0&&(!e||e(t))})},is:function(n,e){var r=n.isIn,i=void 0===r?[]:r,o=n.notIn,s=void 0===o?[]:o;return t.filter(function(t){return i.reduce(function(n,e){return e.indexOf(t)>=0&&n},!0)&&s.reduce(function(n,e){return e.indexOf(t)<0&&n},!0)&&(!e||e(t))})},contains:function(n){return t.indexOf(n)>=0},allIn:function(n){return t.every(function(t){return n.indexOf(t)>=0})}}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(20);e.d(n,\"TreeNode\",function(){return r.b}),e.d(n,\"RootNode\",function(){return r.a});var i=e(6);e.d(n,\"selectionStrategies\",function(){return i.c}),e.d(n,\"clickStrategies\",function(){return i.a}),e.d(n,\"foldStrategies\",function(){return i.b});var o=e(7);e.d(n,\"defaults\",function(){return o.a});var s=e(5);e.d(n,\"dragndrop\",function(){return s.a}),e.d(n,\"utils\",function(){return s.c}),e.d(n,\"nodeEvents\",function(){return s.b}),e.d(n,\"wrapEvents\",function(){return s.d})},function(t,n,e){\"use strict\";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}e.d(n,\"a\",function(){return s}),e.d(n,\"c\",function(){return u}),e.d(n,\"b\",function(){return f}),e.d(n,\"d\",function(){return l});var i=e(1),o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},s={selection:function(t,n){return{draggable:!0,droppable:!0,drag:function(t,n,e){n.dataTransfer&&n.dataTransfer.setData(\"application/json\",JSON.stringify(e.selection))},guard:function(t,n,e){if(n&&n.dataTransfer&&n.dataTransfer.types.indexOf(\"application/json\")<0)return!1;return function(){return t&&Object(i.array)(e.selection).contains(t)}()||function(){return e.ancestors&&e.ancestors.reduce(function(t,n){return t||Object(i.array)(e.selection).contains(n)},!1)}()},drop:function(e,o,s){var a=Object(i.tree)(t(),s.category).filter(function(t){return s.selection.indexOf(t)<0}),u=e?e[s.category]&&e[s.category]instanceof Array?e:Object(i.array)(s.ancestors).last():null;u?u[s.category]=[].concat(r(u[s.category]),r(s.selection)):a=[].concat(r(a),r(s.selection)),n(a)}}},pluck:function(t,n){return{draggable:!0,backup:[],drag:function(e,r,o){a=JSON.stringify(t()),r.dataTransfer&&r.dataTransfer.setData(\"application/json\",JSON.stringify(e)),setTimeout(function(){return n(Object(i.tree)(t(),o.category).filter(function(t){return t!==e}))},20)},cancel:function(){n(JSON.parse(a))}}},paste:function(t,n){return{droppable:!0,drop:function(e,o,s){if(o.dataTransfer&&o.dataTransfer.types.indexOf(\"application/json\")>-1){var a=JSON.parse(o.dataTransfer.getData(\"application/json\")),u=[].concat(r(t())),c=e?e[s.category]&&e[s.category]instanceof Array?e:Object(i.array)(s.ancestors).last():null;c?c[s.category]=[].concat(r(c[s.category]),[a]):u=[].concat(r(u),[a]),n(u)}}}}},a=\"[]\",u={filesystem:function(t){var n=t.dataTransfer?t.dataTransfer.items:null;if(n&&n.length>0&&\"file\"===n[0].kind){for(var e=[],r=0;r<n.length;r++){var i=n[r].webkitGetAsEntry()||n[r].getAsFile();i&&e.push(i)}return e}return null}},c=!1,f={onDragStart:function(t){return function(n){n.stopPropagation(),this.inputs.get().dragndrop.onDrag(t,n,this.inputs.get())}},onDragOver:function(t){return function(n){n.preventDefault(),n.stopPropagation(),c||(c=!0,this.inputs.get().dragndrop.guard&&this.inputs.get().dragndrop.guard(t,n,this.inputs.get())?(n.dataTransfer&&(n.dataTransfer.dropEffect=\"none\"),i.css.addClass(n.currentTarget,this.mixCss(\"nodrop\"))):i.css.addClass(n.currentTarget,this.mixCss(\"dragover\")),requestAnimationFrame(function(){c=!1}))}},onDragEnter:function(t){return function(n){if(n.preventDefault(),n.stopPropagation(),t&&(this.hasChildren(t)||this.isAsync(t))&&i.css.hasClass(n.target,this.mixCss(\"opener\"))){var e=this.state.get().unfolded.filter(function(n){return n!==t});e.push(t),this.state.set({unfolded:e})}}},onDragLeave:function(t){t.stopPropagation(),i.css.removeClass(t.currentTarget,this.mixCss(\"dragover\")),i.css.removeClass(t.currentTarget,this.mixCss(\"nodrop\"))},onDrop:function(t){return function(n){n.stopPropagation(),i.css.removeClass(n.currentTarget,this.mixCss(\"dragover\")),i.css.removeClass(n.currentTarget,this.mixCss(\"nodrop\")),this.inputs.get().dragndrop.onDrop(t,n,this.inputs.get())}},onDragEnd:function(t){return function(n){n.stopPropagation(),n.dataTransfer&&\"none\"===n.dataTransfer.dropEffect&&this.inputs.get().dragndrop.onCancel(t,n,this.inputs.get())}}},l=function(){var t=this;return o({},this.inputs.get().dragndrop,{onDrag:function(n,e,r){Object(i.array)(t.inputs.get().selection).contains(n)||t.onSelect(n,r.ancestors,r.neighbours),t.outputs.onDrag&&t.outputs.onDrag(n,e,r)},onDrop:function(n,e,r){e.preventDefault(),t.outputs.onDrop&&t.outputs.onDrop(n,e,r)},onCancel:function(n,e,r){e.preventDefault(),e.dataTransfer&&\"none\"===e.dataTransfer.dropEffect&&t.outputs.onCancel&&t.outputs.onCancel(n,e,r)}})}},function(t,n,e){\"use strict\";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}e.d(n,\"c\",function(){return u}),e.d(n,\"a\",function(){return c}),e.d(n,\"b\",function(){return f});var i=e(1),o=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(e.push(s.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),s=function(t,n,e,r){return Object(i.array)(n).contains(t)?[]:[t]},a=function(t,n,e,r){var o=!1,s=n.filter(function(n){return o||(o=n===t),n!==t&&r.indexOf(n)<0});return!o&&t[this.inputs.get().category]&&t[this.inputs.get().category]instanceof Array&&Object(i.tree)(t[this.inputs.get().category],this.inputs.get().category).visit(function(t){s=Object(i.array)(s).notIn(t)}),o||s.push(t),s},u={single:s,multiple:a,modifiers:function(t,n,e,u){var c=this;if(this.modifiers.control||this.modifiers.meta)return this.lastSelection=t,delete this.lastIndex,delete this.lastPivot,a.bind(this)(t,n,e,u);if(this.modifiers.shift){if(!this.lastSelection)return n;var f=e.indexOf(this.lastSelection);if(f<0)return n;var l=n.slice(),d=e.indexOf(t);if(f>=0){var p;if(this.lastPivot){var g=e.indexOf(this.lastPivot),h=f>g?[g,f]:[f,g],v=o(h,2),y=v[0],b=v[1],m=e.slice(y,b+1);l=Object(i.array)(l).notIn(m)}this.lastPivot=t;var O=f>d?[d,f]:[f,d],x=o(O,2),j=x[0],D=x[1],w=this.inputs.get().disabled?e.slice(j,D+1).filter(function(t){return!c.inputs.get().disabled(t)}):e.slice(j,D+1);l=Object(i.array)(l).notIn(w),(p=l).push.apply(p,r(w))}return l}return this.lastSelection=t,delete this.lastIndex,delete this.lastPivot,s.bind(this)(t,n.length>1?[]:n,e,u)},ancestors:function(t){function n(n,e,r,i){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t,n,e,o){return 0===n.length?[t]:Object(i.array)(n).contains(t)?[].concat(r(o)):[].concat(r(o),[t])})},c={\"unfold-on-selection\":function(t){if(!this.isSelected(t)){var n=this.state.get().unfolded.filter(function(n){return n!==t});n.push(t),this.state.set({unfolded:n})}},\"toggle-fold\":function(t){var n=this.state.get().unfolded.filter(function(n){return n!==t});n.length===this.state.get().unfolded.length&&n.push(t),this.state.set({unfolded:n})}},f={\"opener-control\":function(t){return!Object(i.array)(this.state.get().unfolded).contains(t)},\"not-selected\":function(t){return!this.isSelected(t)},\"no-child-selection\":function(t){var n=this;return!function t(e){return n.isSelected(e)||e[n.inputs.get().category]&&e[n.inputs.get().category]instanceof Array&&e[n.inputs.get().category].some(t)}(t)},\"max-depth\":function(){return!(!this.inputs.get().maxDepth||isNaN(parseInt(this.inputs.get().maxDepth,10)))&&this.inputs.get().depth>=parseInt(this.inputs.get().maxDepth,10)}}},function(t,n,e){\"use strict\";e.d(n,\"a\",function(){return r});var r={labels:{\"search.placeholder\":\"Search ...\"},css:{TreeView:\"TreeView\",opener:\"opener\",depth:\"depth\",selected:\"selected\",category:\"category\",folded:\"folded\",disabled:\"disabled\",async:\"async\",loading:\"loading\",nodrop:\"nodrop\",dragover:\"dragover\",search:\"search\",item:\"item\"},strategies:{selection:[\"single\"],click:[],fold:[\"not-selected\",\"no-child-selection\"]},display:function(t){return t.toString()},async:function(t){return t()},noOpener:!1,dragndrop:{draggable:!1,droppable:!1}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(0);Object.keys(r).forEach(function(t){\"default\"!==t&&\"__esModule\"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[t]}})}),e(12)},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});n.optsMixin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"opts\";return{init:function(){this.on(\"update\",this.updateOpts),this._originalOpts=Object.keys(this.opts),this.updateOpts()},updateOpts:function(){if(this.opts)for(var n in this.opts[t])~this._originalOpts.indexOf(n)||(this.opts[n]=this.opts[t][n])}}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});n.transitionMixin=function(t){return{init:function(){var n=this;if(this.opts.transition){var e=this.opts.transition.name,r=this.unmount,i=function(){var r=(t||function(){return n.root})();r&&(r.classList.add(e),r.classList.add(e+\"-mount\"),setTimeout(function(){r.classList.remove(e+\"-mount\")},10))},o=!1,s=function(){if(!o){o=!0;var i=(t||function(){return n.root})();if(!i)return r.call(n);i.addEventListener(\"transitionend\",function(){r.call(n)}),i.classList.add(e+\"-unmount\")}};this.one(\"mount\",i),Object.defineProperty(this,\"unmount\",{value:s})}}}}},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});n.listenerMixin=function(t){var n=t.eventType,e=void 0===n?\"click\":n,r=t.callback,i=t.regulate,o=void 0!==i&&i;return{init:function(){var t=!1,n=function(n){r&&(o?(t||window.requestAnimationFrame(function(){return r(n,function(){return t=!1})}),t=!0):r(n))};this.one(\"mount\",function(){document.addEventListener(e,n)}),this.one(\"unmount\",function(){document.removeEventListener(e,n)})}}}},function(t,n,e){\"use strict\";e(13),e(21),e(22)},function(t,n,e){e(2).tag2(\"treeview\",'<div class=\"{rootNode.mixCss(TreeView)}\"> <input type=\"search\" class=\"{rootNode.mixCss(search)}\" if=\"{inputs.get().search}\" placeholder=\"{inputs.get().labels[search.placeholder]}\" onkeyup=\"{onSearch}\"> <treeviewnode opts=\"{inputs.get()}\" selection=\"{opts.selection}\" model=\"{inputs.get().sort ? inputs.get().model.sort(inputs.get().sort) : inputs.get().model}\" filteredmodel=\"{filtered}\" onselect=\"{rootNode.onSelect}\" dragndrop=\"{rootNode.wrapDragNDrop()}\" ancestors=\"{[]}\" searched=\"{search.trim()}\" depth=\"{0}\"> </TreeViewNode> </div>',\"\",\"\",function(t){\"use strict\";var n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},r=this,i=e(1),o=e(4),s=e(0);this.mixin((0,s.optsMixin)()),this.mixin((0,s.listenerMixin)({eventType:\"keyup\",callback:function(t){return r.rootNode.onKey(t)}})),this.mixin((0,s.listenerMixin)({eventType:\"keydown\",callback:function(t){return r.rootNode.onKey(t)}})),this.filtered=null,this.search=\"\",this.onSearch=function(t){var n=t.currentTarget.value;r.search=n,r.filtered=n.trim()?(0,i.tree)(r.inputs.get().model,r.inputs.get().category).treeFilter(r.inputs.get().search(n.trim())):null},this.inputs={get:function(){return n({},o.defaults,r.opts,{onSelect:r.opts.onselect})}},this.outputs={onSelect:this.inputs.get().onselect,onDrag:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drag,onDrop:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.drop,onCancel:this.inputs.get().dragndrop&&this.inputs.get().dragndrop.cancel},this.state={get:function(){return n({},r)},set:function(t){for(var n in t)n in r&&(r[n]=t[n])}},this.rootNode=new o.RootNode(this.inputs,this.outputs,this.state,this.update)})},function(t,n,e){\"use strict\";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}e.d(n,\"a\",function(){return o});var i=e(3),o=function(t,n){return{flatten:function(){for(var e=[],o=[t];o.length>0;){var s=o.pop();s instanceof Array&&(e=[].concat(r(Object(i.a)(e).notIn(s)),r(s)),o=[].concat(r(o),r(s.filter(function(t){return t[n]}).map(function(t){return t[n]}))))}return e},filter:function(e){var r=t.filter(e);return function t(r){r.forEach(function(r){r[n]&&r[n]instanceof Array&&(r[n]=r[n].filter(e),t(r[n]))})}(r),r},treeFilter:function(e){var r=new Map;return function t(r,i){r.forEach(function(r){if(r[n]&&r[n]instanceof Array){var o=new Map;t(r[n],o),o.size>0?i.set(r,o):e(r)&&i.set(r,new Map)}else e(r)&&i.set(r,null)})}(t,r),r},add:function(e,i){for(var o=[t];o.length>0;){var s=o.pop(),a=s.indexOf(e);if(a>=0&&s[a][n])return s[a][n]=s[a][n].slice(),s[a][n].push(i),t;o=[].concat(r(o),r(s.filter(function(t){return t[n]}).map(function(t){return t[n]})))}return t},visit:function(e){for(var r=[t];r.length>0;){var i=r.pop();e(i),i.forEach(function(t){return t[n]&&t[n]instanceof Array?r.push(t[n]):null})}}}}},function(t,n,e){\"use strict\";e.d(n,\"a\",function(){return r});var r=function(t){return{contains:function(n){return!!t&&!!t.match(new RegExp(\".*\"+n+\".*\",\"gi\"))}}}},function(t,n,e){\"use strict\";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}e.d(n,\"a\",function(){return s});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},s=function t(n,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n||!e||\"object\"!==(void 0===n?\"undefined\":o(n))||\"object\"!==(void 0===e?\"undefined\":o(e)))return n;var a=i({},n,e);for(var u in e)e.hasOwnProperty(u)&&(e[u]instanceof Array&&n[u]instanceof Array?a[u]=s?[].concat(r(n[u]),r(e[u])):a[u]=e[u]:\"object\"===o(e[u])&&\"object\"===o(n[u])&&(a[u]=t(n[u],e[u],s)));return a}},function(t,n,e){\"use strict\";e.d(n,\"a\",function(){return r});var r={classes:function(t){var n=[];for(var e in t)t[e]&&n.push(e);return n.join(\" \")},addClass:function(t,n){t instanceof HTMLElement&&(t.className=t.className.split(\" \").filter(function(t){return t!==n}).join(\" \")+\" \"+n)},removeClass:function(t,n){t instanceof HTMLElement&&(t.className=t.className.split(\" \").filter(function(t){return t!==n}).join(\" \"))},hasClass:function(t,n){return t instanceof HTMLElement&&t.className.indexOf(n)>=0}}},function(t,n,e){\"use strict\";e.d(n,\"a\",function(){return r});var r={debug:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;e(\"%cDEBUG%c \"+t,\"background-color: red; color: white; font-size: 1.1em; font-weight: bold; padding: 3px 10px; border-radius: 5px\",\"color: #444; font-weight: bold; font-size: 1.1em\"),e(\"%c\"+n,\"color: #222; font-weight: bold\")}}},function(t,n,e){\"use strict\";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d(n,\"a\",function(){return o});var i=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(e.push(s.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),o=function(t){if(!(t&&t instanceof Object))throw new Error(\"Bad object format\");return{shallowCompare:function(n,e){var r=!0;for(var i in t)if(t.hasOwnProperty(i)&&!(e&&e.indexOf(i)>=0)&&n[i]!==t[i])return void(r=!1);return r},filter:function(n){var e={};for(var r in t)t.hasOwnProperty(r)&&n(t[r])&&(e[r]=t[r]);return e},map:function(n){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r]));return e},fullMap:function(n){var e={};for(var r in t)if(t.hasOwnProperty(r)){var o=n(r,t[r]),s=i(o,2),a=s[0],u=s[1];e[a]=u}return e},nestPrefix:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},i=r({},n,{});for(var o in t)t.hasOwnProperty(o)&&o.startsWith(n)?i[n][e(o.substring(n.length))]=t[o]:i[o]=t[o];return i}}}},function(t,n,e){\"use strict\";function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function i(t,n){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?t:n}function o(t,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function s(t,n){if(!(t instanceof n))throw new TypeError(\"Cannot call a class as a function\")}e.d(n,\"b\",function(){return p}),e.d(n,\"a\",function(){return g});var a=e(1),u=e(5),c=e(6),f=e(7),l=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),d=function t(n,e,r,i){s(this,t),this.inputs=n,this.outputs=e,this.state=r,this.refresh=i},p=function(t){function n(){var t,e,o,l;s(this,n);for(var d=arguments.length,p=Array(d),g=0;g<d;g++)p[g]=arguments[g];return e=o=i(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(p))),o.isSelected=function(t){return Object(a.array)(o.inputs.get().selection).contains(t)},o.isFolded=function(t){var n=o.inputs.get().strategies;return(!o.inputs.get().searched||o.isAsync(t))&&(n&&n.fold||[]).map(function(t){return(c.b[t]||t).bind(o)}).reduce(function(n,e){return n&&e(t,n)},!0)},o.hasChildren=function(t){return t[o.inputs.get().category]&&t[o.inputs.get().category]instanceof Array},o.isAsync=function(t){return!!t&&[o.inputs.get().category]&&\"function\"==typeof t[o.inputs.get().category]},o.isDisabled=function(t){var n=o.inputs.get().disabled;return!!n&&n(t)},o.isDraggable=function(t){return t&&o.inputs.get().dragndrop.draggable&&(\"function\"!=typeof o.inputs.get().dragndrop.draggable||o.inputs.get().dragndrop.draggable(t))},o.isDroppable=function(t){return o.inputs.get().dragndrop.droppable&&(\"function\"!=typeof o.inputs.get().dragndrop.droppable||o.inputs.get().dragndrop.droppable(t))},o.mixCss=function(t){return o.inputs.get().css[t]||f.a.css[t]},o.ulCss=function(){return a.css.classes(r({},o.mixCss(\"depth\")+\"-\"+(o.inputs.get().depth||0),!0))},o.liCss=function(t){var n;return a.css.classes((n={},r(n,o.mixCss(\"selected\"),o.isSelected(t)),r(n,o.mixCss(\"category\"),o.hasChildren(t)||o.isAsync(t)),r(n,o.mixCss(\"folded\"),o.hasChildren(t)||o.isAsync(t)?o.isFolded(t):null),r(n,o.mixCss(\"disabled\"),o.isDisabled(t)),r(n,o.mixCss(\"async\"),o.isAsync(t)&&o.isFolded(t)),r(n,o.mixCss(\"loading\"),o.isAsync(t)&&!o.isFolded(t)),n))},o.pending=[],o.unwrapPromise=function(t){o.pending.push(t);var n=o.inputs.get().async;return n?n(t[o.inputs.get().category]).then(function(n){t[o.inputs.get().category]=n,o.refresh()}).catch(function(t){throw t}).then(function(){return o.pending=o.pending.filter(function(n){return n!==t})}):Promise.reject(new Error(\"Missing async function.\"))},o.onClick=function(t){return function(n){if(!o.isDisabled(t)){var e=o.inputs.get().strategies;(e&&e.click||[]).map(function(t){return(c.a[t]||t).bind(o)}).forEach(function(e){return e(t,n,o.inputs.get().ancestors,o.inputs.get().model)}),o.inputs.get().onSelect(t,o.inputs.get().ancestors,o.inputs.get().model),n.stopPropagation()}}},o.getDragEvents=function(t){if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])return{};var n={draggable:o.isDraggable(t),onDragStart:o.isDraggable(t)&&u.b.onDragStart(t).bind(o),onDragOver:o.isDroppable(t)&&u.b.onDragOver(t).bind(o),onDragEnter:o.isDroppable(t)&&u.b.onDragEnter(t).bind(o),onDragLeave:o.isDroppable(t)&&u.b.onDragLeave.bind(o),onDrop:o.isDroppable(t)&&u.b.onDrop(t).bind(o),onDragEnd:o.isDraggable(t)&&u.b.onDragEnd(t).bind(o)};for(var e in n)n[e]||delete n[e];return n},l=e,i(o,l)}return o(n,t),l(n,[{key:\"onOpener\",value:function(t){var n=this;return function(e){var r=n.state.get().unfolded.filter(function(n){return n!==t});r.length===n.state.get().unfolded.length&&r.push(t),n.state.set({unfolded:r}),e.stopPropagation()}}}]),n}(d),g=function(t){function n(){var t,e,r,o;s(this,n);for(var l=arguments.length,d=Array(l),p=0;p<l;p++)d[p]=arguments[p];return e=r=i(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(d))),r.modifiers={},r.onKey=function(t){r.modifiers={control:t.getModifierState(\"Control\"),meta:t.getModifierState(\"Meta\"),shift:t.getModifierState(\"Shift\")}},r.onSelect=function(t,n,e){var i=r.inputs.get().strategies.selection||[],o=i.map(function(t){return(c.c[t]||t).bind(r)}).reduce(function(r,i){return i(t,r,e,n)},r.inputs.get().selection);return r.outputs.onSelect(o,t,n,e),o},r.wrapDragNDrop=u.d.bind(r),r.mixCss=function(t){return r.inputs.get().css[t]||f.a.css[t]},r.filterTree=function(t){var n=r.inputs.get().search;return n&&t.trim()?Object(a.tree)(r.inputs.get().model,r.inputs.get().category).treeFilter(n(t.trim())):null},o=e,i(r,o)}return o(n,t),n}(d)},function(t,n,e){e(2).tag2(\"treeviewnode\",'<ul if=\"{!opts.folded && !opts.loading}\" data-is=\"with-transition\" transition=\"{opts.transition}\" class=\"{node.ulCss()}\" ondragover=\"{!opts.depth ? rootEvents.onDragOver : null}\" ondragenter=\"{!opts.depth ? rootEvents.onDragEnter : null}\" ondragleave=\"{!opts.depth ? rootEvents.onDragLeave : null}\" ondrop=\"{!opts.depth ? rootEvents.onDrop : null}\"> <li each=\"{item in getModel()}\" class=\"{node.liCss(item)}\" draggable=\"{node.getDragEvents(item).draggable}\" ondragstart=\"{node.getDragEvents(item).onDragStart}\" ondragover=\"{node.getDragEvents(item).onDragOver}\" ondragenter=\"{node.getDragEvents(item).onDragEnter}\" ondragleave=\"{node.getDragEvents(item).onDragLeave}\" ondragend=\"{node.getDragEvents(item).onDragEnd}\" ondrop=\"{node.getDragEvents(item).onDrop}\"> <span class=\"{parent.node.mixCss(item)}\" onclick=\"{parent.node.onClick(item)}\"> <virtual if=\"{!parent.opts.displaytag}\"> {parent.opts.display(item, parent.opts)} </virtual> <virtual if=\"{parent.opts.displaytag}\" data-is=\"{parent.opts.displaytag(item, parent.opts)}\" item=\"{item}\" inputs=\"{inputs.get()}\"></virtual> <span if=\"{node.hasChildren(item) || node.isAsync(item) && !parent.opts.noopener}\" class=\"{node.mixCss(opener)}\" onclick=\"{node.onOpener(item)}\"></span> </span> <treeviewnode if=\"{node.hasChildren(item) || node.isAsync(item)}\" opts=\"{parent.opts}\" selection=\"{parent.opts.selection}\" model=\"{getChildModel(item)}\" filteredmodel=\"{getChildFiltered(item)}\" ancestors=\"{getAncestors(item)}\" depth=\"{parent.opts.depth + 1}\" folded=\"{node.isFolded(item)}\" loading=\"{node.isAsync(item) && !node.isFolded(item)}\"> </TreeViewNode> </li> </ul> <span if=\"{opts.loading}\"></span>',\"\",\"\",function(t){\"use strict\";var n=this,r=e(4),i=e(0);this.mixin((0,i.optsMixin)()),this.unfolded=[],this.getModel=function(){return n.opts.searched?n.opts.model.filter(function(t){return n.opts.filteredmodel.has(t)}):n.opts.model},this.getChildModel=function(t){var e=t[n.opts.category];return n.node.isAsync(t)&&!n.node.isFolded(t)&&n.node.pending.indexOf(t)<0&&n.node.unwrapPromise(t),n.node.isAsync(t)||(e=n.opts.sort?e.sort(n.opts.sort):e),e},this.getChildFiltered=function(t){return n.opts.searched?n.opts.filteredmodel.get(t):null},this.getAncestors=function(t){return[].concat(n.opts.ancestors,[t])};var o=function(){n.opts.onSelect=n.opts.onselect,n.opts.disabled=n.opts.disable};this.on(\"update\",o),o(),this.inputs={get:function(){return n.opts}},this.state={get:function(){return n},set:function(t){for(var e in t)e in n&&(n[e]=t[e])}},this.node=new r.TreeNode(this.inputs,null,this.state,this.update),this.rootEvents=this.node.getDragEvents()})},function(t,n,e){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var r=e(2),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=e(0);n.default=i.default.tag(\"with-transition\",!1,function(t){var n=this;this.mixin((0,o.transitionMixin)());var e=function(){for(var t in n.parent)n.parent.hasOwnProperty(t)&&(n[t]=n.parent[t])};e(),this.on(\"update\",e)})}])});\n//# sourceMappingURL=index.js.map\n\n\n// WEBPACK FOOTER //\n// ./build/riot/index.js","import \"./Planner.tag\"\n\nimport introduction from \"./introduction\"\nimport usage from \"./usage\"\nimport treeview from \"./treeview\"\n\nexport default [\n    introduction,\n    usage,\n    treeview\n]\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/index.js","import riot from \"riot\"\nimport \"self/common/libs/prismjs/prism\"\nimport \"bosket/riot\"\nimport \"./components\"\nimport \"./plan\"\n\nwindow.onload = () => {\n    riot.mount(\"*\")\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/index.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 588\n// module chunks = 2","import \"./App.tag\"\nimport \"./Syntax.tag\"\nimport \"./ComponentDemo.tag\"\nimport \"./Demos\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/index.js","\n    var riot = require('riot')\n    riot.tag2('app', '    <div class=\"App\">\\n            <planner plan=\"{plan}\" maxdepth=\"{1}\" sticky=\"{true}\"></planner>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nrequire(\"self/common/styles/App.css\");\n\nvar _plan = require(\"../plan\");\n\nvar _plan2 = _interopRequireDefault(_plan);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.plan = _plan2.default;\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/App.tag\n// module id = 590\n// module chunks = 2","\n    var riot = require('riot')\n    riot.tag2('planner', '    <div class=\"Planner\">\\n        <div class=\"Planner opener\" ref=\"opener\">\\n            <i class=\"{fa: true,                 fa-bars: !opened,                 fa-times: opened}\"></i>\\n        </div>\\n        <aside ref=\"sidePanel\" class=\"{Planner: true, side-panel: true, opened: opened}\">\\n            <div><h1>Table of contents</h1></div>\\n            <treeview model=\"{opts.plan}\" css=\"{{ TreeView: PlannerTree }}\" category=\"subs\" selection=\"{selection}\" onselect=\"{updateSelection}\" strategies=\"{{ selection: [ancestors], fold: [ foldDepth(), not-selected, no-child-selection ]}}\" noopener=\"true\" displaytag=\"{display}\">\\n            </TreeView>\\n        </aside>\\n        <div ref=\"content\" class=\"Planner content\">\\n            <div each=\"{p in opts.plan}\">\\n                <planner-content plan=\"{p}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _riot = require(\"bosket/riot\");\n\nrequire(\"self/common/styles/Planner.css\");\n\nthis.mixin((0, _riot.listenerMixin)({ callback: function callback(e) {\n        return _this.onDocumentClick(e);\n    } }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onDocumentScroll.apply(_this, arguments);\n    }, regulate: true }));\nthis.mixin((0, _riot.listenerMixin)({ eventType: \"scroll\", callback: function callback() {\n        return _this.onStickyScroll.apply(_this, arguments);\n    }, regulate: true }));\n\nthis.selection = [];\nthis.opened = false;\nthis.updateSelection = function (_) {\n    _this.selection = _;\n    _this.update();\n};\nthis.display = function (item) {\n    return \"display-planner-content\";\n};\nthis.foldDepth = function () {\n    var max = _this.opts.maxDepth;\n    return function () {\n        return this.inputs.get().depth >= max;\n    };\n};\nthis.findPosition = function () {\n    var position = [];\n    var loop = function loop(arr) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n        for (var i = 0; i < arr.length; i++) {\n            var elt = arr[i];\n            var domElt = document.getElementById(acc.length > 0 ? acc.join(\"#\") + \"#\" + elt.title : elt.title);\n            if (domElt && domElt.parentElement && domElt.parentElement.getBoundingClientRect().top <= 50 && domElt.parentElement.getBoundingClientRect().bottom > 10) {\n                position.push(elt);\n                if (elt.subs) loop(elt.subs, [].concat(acc, [elt.title]));\n                break;\n            }\n        }\n    };\n    loop(_this.opts.plan);\n    return position;\n};\nthis.one(\"mount\", function () {\n    _this.selection = _this.findPosition();\n    _this.update();\n});\n\nthis.onDocumentClick = function (ev) {\n    if (!(ev.target instanceof HTMLElement)) return;\n    if (_this.refs.opener && _this.refs.opener.contains(ev.target)) {\n        _this.opened = !_this.opened;\n    } else if (_this.opened && _this.refs.sidePanel && !_this.refs.sidePanel.contains(ev.target)) {\n        _this.opened = false;\n    }\n    _this.update();\n};\n\nthis.onDocumentScroll = function (ev, end) {\n    var position = _this.findPosition();\n    var newHash = \"#\" + position.map(function (_) {\n        return _.title;\n    }).join(\"#\");\n    if (newHash !== (window.location.hash || \"#\")) {\n        _this.selection = position;\n        _this.update();\n        window.history && window.history.replaceState({}, document.title, \"#\" + position.map(function (_) {\n            return _.title;\n        }).join(\"#\"));\n    }\n\n    // Prevents safari security exception (SecurityError (DOM Exception 18): Attempt to use history.replaceState() more than 100 times per 30.000000 seconds)\n    setTimeout(function () {\n        return end();\n    }, 100);\n};\n\nthis.onStickyScroll = function (ev, end) {\n    if (!_this.opts.sticky) return;\n    if (_this.refs.content.getBoundingClientRect().top > 0) {\n        _this.refs.sidePanel.style.position = \"absolute\";\n        _this.refs.sidePanel.style.top = \"\";\n        end();\n    } else {\n        _this.refs.sidePanel.style.position = \"fixed\";\n        _this.refs.sidePanel.style.top = \"0px\";\n        end();\n    }\n};\n});\n\nriot.tag2('planner-content', '    <div class=\"{depth === 1 ? chapter : planner-section}\">\\n        <h1 if=\"{depth === 1}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h1>\\n        <h2 if=\"{depth === 2}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h2>\\n        <h3 if=\"{depth === 3}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h3>\\n        <h4 if=\"{depth === 4}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h4>\\n        <h5 if=\"{depth === 5}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h5>\\n        <h6 if=\"{depth === 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </h6>\\n        <p if=\"{depth > 6}\" id=\"{id()}\" class=\"Planner heading\">\\n            <span>{plan.title}</span>\\n            <span class=\"icons\">\\n                <a href=\"{# + id()}\"><i class=\"fa fa-link\"></i></a>\\n                <a if=\"{plan.editLink}\" href=\"{plan.editLink}\" target=\"_blank\" rel=\" noopener noreferrer\">\\n                    <i class=\"fa fa-pencil\"></i>\\n                </a>\\n            </span>\\n        </p>\\n        <div data-is=\"{plan.content}\"></div>\\n        <div if=\"{plan.subs}\">\\n            <div each=\"{s in plan.subs}\">\\n                <planner-content plan=\"{s}\" prefix=\"{prefix ? prefix+\\'#\\'+plan.title : plan.title}\" depth=\"{depth + 1}\"></planner-content>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.plan = this.opts.plan;\nthis.depth = this.opts.depth || 1;\nthis.prefix = this.opts.prefix || \"\";\nthis.id = function () {\n        return _this.prefix ? _this.prefix + \"#\" + _this.plan.title : _this.plan.title;\n};\n});\n\nriot.tag2('display-planner-content', '    <a href=\"{href()}\">{opts.item.title}</a>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.href = function () {\n    return _this.opts.inputs.ancestors.map(function (a) {\n        return \"#\" + a.title;\n    }).join(\"\") + \"#\" + _this.opts.item.title;\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/Planner.tag\n// module id = 591\n// module chunks = 2","import \"./component.tag\"\nimport \"./IntroductionDemos.tag\"\n\nexport default {\n    title: \"Introduction\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/introduction/index.js\",\n    content: \"introduction\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/introduction/index.js","\n    var riot = require('riot')\n    riot.tag2('introduction', '    <p>\\n        This page covers the <em class=\"highlight\"><a href=\"http://riotjs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Riot.js</a></em> implementation of the <em><a href=\"..\">Bosket library</a></em>.<br>\\n        Versatile and flexible, Bosket eases the creation and design of tree view components.<br><br>\\n        As a matter of fact <em><a href=\"https://github.com/elbywan/bosket/tree/master/docs/riot/plan\" target=\"_blank\" rel=\"noopener noreferrer\">this whole documentation</a></em> is built around Bosket using <em><a href=\"https://github.com/elbywan/bosket/blob/master/docs/riot/components/Planner.tag\" target=\"_blank\" rel=\"noopener noreferrer\">a custom component</a></em> which automatically creates the table of contents and the anchors.<br>\\n        <br>\\n        Multiple use case examples (including the source code and the css stylesheet) are provided alongside the documentation.\\n    </p>\\n    <h4 class=\"center-text\">API views implemented with Bosket</h4>\\n    <introductiondemos></introductiondemos>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/introduction/component.tag\n// module id = 593\n// module chunks = 2","\n    var riot = require('riot')\n    riot.tag2('introductiondemos', '    <div class=\"IntroductionDemos\">\\n       <div class=\"center-text\">\\n           <span class=\"button-row\">\\n               <button each=\"{d in demos}\" onclick=\"{setDemo(d)}\" class=\"{selected: d === demo}\">\\n                   {d}\\n               </button>\\n           </span>\\n       </div>\\n       <componentdemo files=\"{getFiles(demo)}\">\\n            <virtual data-is=\"{parent.demo.toLowerCase()}\"></virtual>\\n       </ComponentDemo>\\n   </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/IntroductionDemos.css\");\n\nthis.demos = [\"HackerNews\", \"Pokeapi\", \"ChuckNorris\"];\nthis.demo = this.demos[0];\nthis.setDemo = function (d) {\n    return function (_) {\n        return _this.demo = d;\n    };\n};\nthis.getFiles = function (demo) {\n    return [\"./components/Demos/\" + demo + \"/\" + demo + \".tag\", \"../common/styles/\" + demo + \".css\", \"./components/Demos/\" + demo + \"/models.js\"];\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/introduction/IntroductionDemos.tag\n// module id = 594\n// module chunks = 2","import \"./component.tag\"\nimport _import from \"./import\"\nimport datamodel from \"./data model\"\nimport style from \"./style\"\n\nexport default {\n    title: \"Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/index.js\",\n    content: \"usage\",\n    subs: [\n        _import,\n        datamodel,\n        style\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/index.js","\n    var riot = require('riot')\n    riot.tag2('usage', '    <div>\\n        <p>It is assumed that you followed the installation <em><a href=\"../#Setup\">guidelines</a></em>.</p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/component.tag\n// module id = 596\n// module chunks = 2","import \"./component.tag\"\n\nexport default {\n    title: \"Import\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/react/riot/usage/import/index.js\",\n    content: \"import\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/import/index.js","\n    var riot = require('riot')\n    riot.tag2('import', '    <p>Bosket/riot is bundled in <em><a href=\"http://bob.yexley.net/umd-javascript-that-runs-anywhere/\" target=\"_blank\" ref=\"noopener noreferrer\">UMD</a></em> format.</p>\\n\\n    <syntax-highlight offset=\"{8}\">\\n        /* How to register Bosket tags : */\\n\\n        // ES6 imports\\n        import \"bosket/riot\"\\n\\n        // Commonjs\\n        require(\"bosket/riot\")\\n    </syntax-highlight>\\n\\n    <p>Or just include a link to the <em><code>bosket/riot/index.js</code></em> file inside a script tag.</p>\\n\\n    <syntax-highlight language=\"html\" content=\"{htmlCode}\"></syntax-highlight>\\n', '', '', function(opts) {\n\"use strict\";\n\n/* eslint-disable */\nthis.htmlCode = \"\\n            <script src=\\\".../path/to/riot.js\\\"></script>\\n            <script src=\\\".../path/to/bosket/riot/index.js\\\"></script>\\n        \";\n/* eslint-enable */\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/import/component.tag\n// module id = 598\n// module chunks = 2","import \"./component.tag\"\nimport \"./dataModelTree.tag\"\n\nexport default {\n    title: \"Data model\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/data%20model/index.js\",\n    content: \"datamodel\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/data model/index.js","\n    var riot = require('riot')\n    riot.tag2('datamodel', '    <span>\\n        <p>To populate the component you need to provide a suitable data model.</p>\\n        <syntax-highlight offset=\"{12}\">\\n            // A model is simply an array of objects.\\n\\n            const model = [\\\\\\\\{\\n                a: 1,\\n                b: 2,\\n                /* ... */\\n                // If the object has \\'children\\', it must contain a property value\\n                // being an array of objects that respects the same contract.\\n                // \\'children\\' is just a placeholer name, you can use and specify any\\n                // label as a prop of the component.\\n                children: [\\\\{\\n                    /* ... */,\\n                    // If you would like the children to be loaded asynchronously when\\n                    // the node is unfolded, you may use a function returning a Promise.\\n                    children: () => \\\\{\\n                        return new Promise(resolve =>\\n                            setTimeout(() =>\\n                                // resolves into the children model\\n                                resolve([\\\\{ a: 1, b: 2 \\\\}]), 1000))\\n                    \\\\}\\n                \\\\}],\\n            \\\\},\\n            /* ... */\\n            ]\\n        </syntax-highlight>\\n\\n        <p>The logic is pretty simple as you can see below, a model and its tree representation as a Bosket view :</p>\\n\\n        <syntax-highlight offset=\"{12}\">\\n            [\\n                \\\\{ label: \"Click me, I\\'m a node with two children.\", children: [\\n                    \\\\{ label: \"I am a childless leaf.\" \\\\},\\n                    \\\\{ label: \"I am a also a childless leaf.\" \\\\}\\n                ]\\\\},\\n                \\\\{ label: \"I\\'m a leaf, I do not have children.\" \\\\},\\n                \\\\{ label: \"I am an asynchronous node, click me and wait one second.\", children: () =>\\n                    new Promise(resolve =>\\n                        setTimeout(() =>\\n                            resolve([\\\\{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" \\\\}]), 1000))\\n                \\\\}\\n            ]\\n        </syntax-highlight>\\n\\n        <div style=\"border: 2px solid black; cursor: pointer;\">\\n           <data-model-tree></data-model-tree>\\n        </div>\\n    </span>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/data model/component.tag\n// module id = 600\n// module chunks = 2","\n    var riot = require('riot')\n    riot.tag2('data-model-tree', '    <treeview model=\"{sampleModel}\" category=\"children\" selection=\"{selection}\" onselect=\"{updateSelection}\" display=\"{display}\">\\n    </TreeView>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.sampleModel = [{ label: \"Click me, I'm a node with two children.\", children: [{ label: \"I am a childless leaf.\" }, { label: \"I am a also a childless leaf.\" }] }, { label: \"I'm a leaf, I do not have children.\" }, { label: \"I am an asynchronous node, click me and wait one second.\", children: function children() {\n        return new Promise(function (resolve) {\n            return setTimeout(function () {\n                return resolve([{ label: \"It took exactly one second to fetch me the first time, I am cached afterwards.\" }]);\n            }, 1000);\n        });\n    }\n}];\n\nthis.updateSelection = function (_) {\n    _this.selection = _;_this.update();\n};\nthis.selection = [];\nthis.display = function (_) {\n    return _.label;\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/data model/dataModelTree.tag\n// module id = 601\n// module chunks = 2","import \"./component.tag\"\n\nexport default {\n    title: \"Style\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/usage/style/index.js\",\n    content: \"usage-style\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/usage/style/index.js","\n    var riot = require('riot')\n    riot.tag2('usage-style', '    <div>\\n        <p>\\n            <em>Once the component is included and rendered in your code, you will need to style it using css, otherwise it will look like a good old fashioned html unordered list.</em><br>\\n            <br>\\n            Have a look at <em><a href=\"#TreeView#Css#Empty stylesheet\">the empty stylesheet</a></em> with classes and elements already filled.<br>\\n            Also, feel free to peek at the included <em><a href=\"#TreeView#Demo\">demos css source code</a></em>.\\n        </p>\\n\\n        <syntax-highlight language=\"html\">{parent.htmlCode}</syntax-highlight>\\n\\n        <p>\\n            The css class names can be overrided by changing the <em><a href=\"#TreeView#Optional properties#css\">css property</a></em>.\\n            <br>\\n            You should also check the full <em><a href=\"#TreeView#Css#Layout\">html layout</a></em>.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.htmlCode = \"\\n            <head>\\n                <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"[your bosket stylesheet].css\\\">\\n            </head>\\n        \";\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/usage/style/component.tag\n// module id = 603\n// module chunks = 2","import basicUsage from \"./basic usage\"\nimport demo from \"./demo\"\nimport css from \"./css\"\n\nexport default {\n    title: \"TreeView\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/index.js\",\n    subs: [\n        basicUsage,\n        demo,\n        css\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/index.js","import \"./component.tag\"\n\nexport default {\n    title: \"Basic Usage\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/basic%20usage/index.js\",\n    content: \"basic-usage\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/basic usage/index.js","\n    var riot = require('riot')\n    riot.tag2('basic-usage', '    <div>\\n        <p>\\n            Just drop the TreeView tag in your templates after <em><a href=\"#Usage#Import\">registering it</a></em>.<br>\\n            <br>\\n            Appearance can be tweaked using <em><a href=\"#TreeView#Css\">css</a></em>.\\n        </p>\\n        <syntax-highlight>{parent.code}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.code = \"\\n        <TreeView\\n\\n            // Required //\\n\\n            model=         /* [the data model](#TreeView#Required properties#model) */\\n            category=      /* [name of the property containing the children](#TreeView#Required properties#category) */\\n            selection=     /* [the selection array, updated when the user (de)selects items](#TreeView#Required properties#selection) */\\n            onselect=      /* [selection callback](#TreeView#Required properties#onselect) */\\n\\n            // Optional //\\n\\n            display=       /* [customize output for each element in the tree](#TreeView#Optional properties#display) */\\n            displaytag=    /* [wrap output inside a tag of your choice](#TreeView#Optional properties#displaytag) */\\n            strategies=    /* [behaviour on selection, click or fold](#TreeView#Optional properties#strategies) */\\n            sort=          /* [sort items](#TreeView#Optional properties#sort) */\\n            disable=       /* [disable certain items](#TreeView#Optional properties#disabled) */\\n            search=        /* [enables the search bar](#TreeView#Optional properties#search) */\\n            async=         /* [how to perform asynchronous loading](#TreeView#Optional properties#async) */\\n            dragndrop=     /* [drag'n'drop configuration](#TreeView#Optional properties#dragndrop) */\\n            noopener=      /* [hide opener 'arrow'](#TreeView#Optional properties#noopener) */\\n            labels=        /* [override default labels](#TreeView#Optional properties#labels) */\\n            css=           /* [override default css classes](#TreeView#Optional properties#css) */\\n            transition=    /* [transitions on mount / unmount](#TreeView#Optional properties#transition) */\\n        />\\n        \";\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/basic usage/component.tag\n// module id = 606\n// module chunks = 2","import \"./component.tag\"\n\nexport default {\n    title: \"Demo\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/demo/index.js\",\n    content: \"treeview-demo-section\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/demo/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-demo-section', '    <div>\\n        <h4>\\n            <a download=\"BosketTreeView.css\" href=\"./components/Demos/TreeView/TreeViewDemo.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>Download stylesheet\\n            </a>\\n        </h4>\\n        <treeviewsection></treeviewsection>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/demo/component.tag\n// module id = 608\n// module chunks = 2","import \"./component.tag\"\nimport layout from \"./layout\"\nimport emptyStylesheet from \"./empty-stylesheet\"\n\nexport default {\n    title: \"Css\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/index.js\",\n    content: \"treeview-css\",\n    subs: [\n        layout,\n        emptyStylesheet\n    ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-css', '    <div>\\n        <p>\\n            A TreeView is basically made of multiple nested unordered lists.\\n            The component applies css classes to the lists and their items throughout its lifecycle.\\n        </p>\\n    </div>\\n', '', '', function(opts) {\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/css/component.tag\n// module id = 610\n// module chunks = 2","import \"./component.tag\"\n\nexport default {\n    title: \"Layout\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/layout/index.js\",\n    content: \"treeview-layout\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/layout/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-layout', '    <div>\\n        <p>\\n            Below is the <em>full HTML layout</em> of a TreeView, with the <em><a href=\"#TreeView#Optional properties#css\">default classes</a></em>.<br>\\n        </p>\\n        <syntax-highlight language=\"html\">{parent.htmlLayout}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _html_layout = require(\"./html_layout\");\n\nvar _html_layout2 = _interopRequireDefault(_html_layout);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.htmlLayout = _html_layout2.default;\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/css/layout/component.tag\n// module id = 612\n// module chunks = 2","import \"./component.tag\"\n\nexport default {\n    title: \"Empty stylesheet\",\n    editLink: \"https://github.com/elbywan/bosket/edit/master/docs/riot/plan/treeview/css/empty-stylesheet/index.js\",\n    content: \"treeview-empty-stylesheet\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/plan/treeview/css/empty-stylesheet/index.js","\n    var riot = require('riot')\n    riot.tag2('treeview-empty-stylesheet', '    <div>\\n        <h4>\\n            <a ref=\"anchor\" download=\"bosket_empty_stylesheet.css\" class=\"anchor-button basic-button\">\\n                <i class=\"fa fa-download\"></i>\\n                Download stylesheet\\n            </a>\\n        </h4>\\n\\n        <syntax-highlight language=\"css\">{parent.emptyStylesheet}</syntax-highlight>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _empty_stylesheet = require(\"./empty_stylesheet\");\n\nvar _empty_stylesheet2 = _interopRequireDefault(_empty_stylesheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.emptyStylesheet = _empty_stylesheet2.default;\nthis.one(\"mount\", function () {\n    _this.refs.anchor.href = window.URL.createObjectURL(new Blob([_empty_stylesheet2.default], { type: \"text/css\" }));\n});\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/plan/treeview/css/empty-stylesheet/component.tag\n// module id = 615\n// module chunks = 2","\n    var riot = require('riot')\n    riot.tag2('syntax-highlight', '    <pre class=\"{language- + language}\"><code class=\"{language- + language}\" ref=\"ref\"><yield></yield></code></pre>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _tools = require(\"self/common/tools\");\n\nthis.language = this.opts.language || \"javascript\";\n\nvar makePrefix = function makePrefix(i) {\n    var str = \"\";\n    for (var _ = 0; _ < i; _++) {\n        str += \" \";\n    }\n    return str;\n};\nvar offsetPrefix = this.opts.offset ? makePrefix(this.opts.offset) : \"\";\nthis.one(\"mount\", function () {\n    _this.refs.ref.textContent = (0, _tools.indent)(offsetPrefix + (_this.opts.content || _this.refs.ref.textContent));\n    window.Prism.highlightElement(_this.refs.ref);\n});\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Syntax.tag\n// module id = 617\n// module chunks = 2","\n    var riot = require('riot')\n    riot.tag2('componentdemo', '    <div class=\"ComponentDemo section\">\\n        <h3 if=\"{componentname}\">{componentname}</h3>\\n        <p if=\"{description}\">{description}</p>\\n        <div class=\"{ComponentDemo: true, flex-container: true, expanded: expand}\">\\n            <div class=\"{ComponentDemo: true, demo-area: true, expand: expand === demo}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(demo)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === demo,                         fa-expand:    expand !== demo}\"></i>\\n                </div>\\n\\n                <div class=\"ComponentDemo padded\">\\n                    <yield></yield>\\n                </div>\\n            </div>\\n            <div class=\"{ComponentDemo: true, code: true, expand: expand === code}\">\\n\\n                <div class=\"ComponentDemo expander\" onclick=\"{doExpand(code)}\">\\n                    <i class=\"{fa: true,                         fa-compress:  expand === code,                         fa-expand:    expand !== code}\"></i>\\n                </div>\\n\\n                <div class=\"tabs\">\\n                    <div each=\"{file in files}\" onclick=\"{setTab(file)}\" class=\"{selected: parent.tab === file}\">\\n                        {getFileName(file)}\\n                    </div>\\n                </div>\\n\\n                <pre class=\"{language- + getPrismExtension(tab)}\"><code class=\"{language- + getPrismExtension(tab)}\" ref=\"tabContents\"></code></pre>\\n            </div>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/ComponentDemo.css\");\n\nvar _tools = require(\"self/common/tools\");\n\nObject.assign(this, this.opts);\nif (!this.files) this.files = [];\n\nthis.expand = \"demo\";\nthis.doExpand = function (target) {\n    return function (_) {\n        return _this.expand = _this.expand === target ? \"\" : target;\n    };\n};\n\nthis._tab = null;\nthis.setTab = function (file) {\n    return function (e) {\n        return _this.tab = file;\n    };\n};\nObject.defineProperty(this, \"tab\", {\n    configurable: true,\n    get: function get() {\n        return _this._tab || (_this.files.length > 0 ? _this.files[0] : null);\n    },\n    set: function set(file) {\n        _this._tab = file;\n        (0, _tools.loadFile)(file, function (code) {\n            _this.refs.tabContents.innerHTML = window[\"Prism\"].highlight(code, window[\"Prism\"].languages[_this.getPrismExtension(file)]);\n        });\n    }\n});\nthis.tab = this.files.length > 0 ? this.files[0] : null;\n\nthis.getFileName = function (file) {\n    return file.split(\"/\").splice(-1);\n};\nthis.getPrismExtension = function (file) {\n    var split = file.split(\".\");\n    var extension = \"javascript\";\n    if (split[split.length - 1] === \"css\") extension = \"css\";else if (split[split.length - 1] === \"ts\") extension = \"typescript\";\n    return extension;\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/ComponentDemo.tag\n// module id = 618\n// module chunks = 2","import \"./TreeView\"\nimport \"./ChuckNorris\"\nimport \"./HackerNews\"\nimport \"./Pokeapi\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/index.js","import \"./TreeViewDemo.tag\"\nimport \"./TreeViewSection.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/TreeView/index.js","\n    var riot = require('riot')\n    riot.tag2('treeviewdemo', '\\n    <treeview opts=\"{options}\" selection=\"{opts.selection}\" onselect=\"{opts.onselect}\"></treeview>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// Model\n\n// Style\n\nvar _tools = require(\"bosket/tools\");\n\nvar _dragndrop = require(\"bosket/core/dragndrop\");\n\nvar _riot = require(\"riot\");\n\nvar _riot2 = _interopRequireDefault(_riot);\n\nvar _TreeViewModel = require(\"self/common/models/TreeViewModel\");\n\nvar _TreeViewModel2 = _interopRequireDefault(_TreeViewModel);\n\nrequire(\"./TreeViewDemo.css\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nthis.dragImage = new Image();\nthis.dragImage.src = \"../assets/drag-image.png\";\n\n// A custom defined tag used to wrap items on display\n_riot2.default.tag(\"wrappedlabel\", \"<a>{ opts.item.label }</a>\");\n\nthis.options = {\n    // Data model\n    model: _TreeViewModel2.default,\n    // Property of the model containing children\n    category: \"items\",\n    // Wrapper tag\n    displaytag: function displaytag(item) {\n        return \"wrappedlabel\";\n    },\n    // Alphabetical sort\n    sort: function sort(a, b) {\n        return a.label.localeCompare(b.label);\n    },\n    // Search by regex\n    search: function search(input) {\n        return function (i) {\n            return (0, _tools.string)(i.label).contains(input);\n        };\n    },\n    strategies: {\n        // Use keyboard modifiers\n        selection: [\"modifiers\"],\n        // Use the opener to control element folding\n        fold: [\"opener-control\"]\n    },\n    // Custom css root class name\n    css: { TreeView: \"TreeViewDemo\" },\n    dragndrop: _extends({}, _dragndrop.dragndrop.selection(function () {\n        return _this.options.model;\n    }, function (m) {\n        _this.options.model = m;_this.update();\n    }), {\n        // Add a custom image on drag\n        drag: function drag(_, event) {\n            event.dataTransfer.setDragImage(_this.dragImage, 0, 0);\n            event.dataTransfer.setData(\"application/json\", JSON.stringify(_this.options.selection));\n        },\n        // Drop only on categories or root (excluding asynchronous promises)\n        droppable: function droppable(_) {\n            return !_ || _.items && _.items instanceof Array;\n        }\n    }),\n    // Allow css transitions on mount/unmount\n    transition: {\n        name: \"TreeViewDemoTransition\"\n    }\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/TreeView/TreeViewDemo.tag\n// module id = 621\n// module chunks = 2","\n    var riot = require('riot')\n    riot.tag2('treeviewsection', '    <div>\\n        <p>\\n            <span>Demonstrates a basic usage of the TreeView component </span>\\n            <span>and how to override and use most of its </span>\\n            <em><a href=\"#TreeView#Required properties\">component props</a></em>, and&nbsp;\\n            <em><a href=\"#TreeView#Css\">css styles</a></em>.\\n        </p>\\n        <span>Featuring :</span>\\n        <ul>\\n            <li>Drag and drop, with a custom drag image.</li>\\n            <li>Asynchronous children loading</li>\\n            <li>Multiselection using keyboard modifiers (shift / ctrl or cmd)</li>\\n            <li>Transitions on fold / unfold</li>\\n            <li>Alphabetical sort</li>\\n            <li>Search bar</li>\\n        </ul>\\n    </div>\\n    <componentdemo componentname=\"Nested items\" files=\"{files}\">\\n        <div style=\"text-align: center\">\\n            <div style=\"display: inline-block; text-align: left\">\\n                <treeviewdemo selection=\"{parent.selection}\" onselect=\"{parent.onselect}\"></TreeViewDemo>\\n            </div>\\n\\n            <p>\\n                <span if=\"{parent.selection.length === 0}\">No elements are</span>\\n                <span if=\"{parent.selection.length === 1}\">One element is</span>\\n                <span if=\"{parent.selection.length > 1}\">{parent.selection.length} elements are</span>\\n                selected.\\n            </p>\\n\\n            <div class=\"select-blocks\">\\n                <button each=\"{item in parent.selection}\" onclick=\"{parent.parent.deselect(item)}\">\\n                    {item.label}\\n                </button>\\n            </div>\\n        </div>\\n    </ComponentDemo>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.files = [\"./components/Demos/TreeView/TreeViewDemo.tag\", \"./components/Demos/TreeView/TreeViewDemo.css\", \"../common/models/TreeViewModel.js\"];\n\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.deselect = function (item) {\n    return function (_) {\n        return _this.selection = _this.selection.filter(function (i) {\n            return i !== item;\n        });\n    };\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/TreeView/TreeViewSection.tag\n// module id = 623\n// module chunks = 2","import \"./ChuckNorris.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/ChuckNorris/index.js","\n    var riot = require('riot')\n    riot.tag2('chucknorriscategory', '    <span class=\"value\">{item.value}\\n        <i class=\"{fa fa-refresh + (item.children.length === 0 ?  loading : )}\" onclick=\"{onClick}\">\\n        </i>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nthis.onClick = function (e) {\n    _this.item.children = [];\n    _this.item.loadJoke().then(function (joke) {\n        _this.item.children = joke;\n        _this.parent.update();\n    });\n};\n});\n\nriot.tag2('chucknorrisjoke', '    <div class=\"value\">\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.value}</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('chucknorris', '    <div>\\n       <div style=\"text-align: center; margin: 10px;\">\\n           <div>\\n               <a href=\"https://api.chucknorris.io/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                   <img src=\"https://assets.chucknorris.host/img/chucknorris_logo_coloured_small.png\" alt=\"Chuck Norris api logo\" style=\"width: 100px; filter: drop-shadow(0 0 2px #444);\">\\n               </a>\\n           </div>\\n           <h5>A curated list of Chuck Norris jokes.</h5>\\n           <div>\\n               <button onclick=\"{init}\" class=\"ChuckNorrisButton\">Reset</button>\\n           </div>\\n            <i if=\"{categories.length === 0}\" class=\"ChuckNorrisSpinner fa fa-spinner fa-3x\"></i>\\n       </div>\\n       <treeview if=\"{categories.length > 0}\" model=\"{categories}\" category=\"children\" selection=\"{selection}\" onselect=\"{onselect}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></treeview>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/ChuckNorris.css\");\n\nvar _models = require(\"./models\");\n\nthis.categories = [];\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"], click: [\"unfold-on-selection\"] },\n    css: { TreeView: \"ChuckNorrisDemo\" }\n};\nthis.init = function () {\n    fetch(\"https://api.chucknorris.io/jokes/categories\").then(function (response) {\n        return response.json();\n    }).then(function (categories) {\n        _this.categories = categories.map(function (cat) {\n            return new _models.Category(cat);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\nthis.display = function (item) {\n    return item.display();\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/ChuckNorris/ChuckNorris.tag\n// module id = 625\n// module chunks = 2","export class Category {\n    constructor(category) {\n        this.value = category\n        this.children = this.loadJoke\n    }\n\n    loadJoke = () =>\n        fetch(`https://api.chucknorris.io/jokes/random?category=${ this.value }`)\n            .then(response => response.json())\n            .then(joke => [new Joke(joke)])\n\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"chucknorriscategory\"\n}\n\nexport class Joke {\n    constructor(joke) { Object.assign(this, joke) }\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"chucknorrisjoke\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/ChuckNorris/models.js","import \"./HackerNews.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/HackerNews/index.js","\n    var riot = require('riot')\n    riot.tag2('hackernewsfetchmore', '    <div class=\"fetchMore\" onclick=\"{more}\">\\n        <a>Load more comments</a>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.more = function (e) {\n    _this.opts.item.fetchKids().then(_this.parent.parent.update);\n};\n});\n\nriot.tag2('hackernewstopstories', '    <span class=\"story\">\\n        <span class=\"commentCount\"><span if=\"{item.descendants}\">({item.descendants}) </span>({item.score} points) - by <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a></span>\\n        <a href=\"{item.url}\" target=\"_blank\" rel=\"noopener noreferrer\">\\n            {item.title}\\n        </a>\\n    </span>\\n', '', '', function(opts) {\n\"use strict\";\n\nthis.item = this.opts.item;\n});\n\nriot.tag2('hackernewscomment', '    <div class=\"comment\">\\n        <div class=\"infobar\">\\n            <span class=\"commentCount\" if=\"{item.kids && item.kids.length > 0}\">({item.kids.length})</span>\\n            <a href=\"{https://news.ycombinator.com/user?id= + item.by}\" target=\"_blank\" rel=\"noopener noreferrer\">{item.by}</a> {item.date}\\n        </div>\\n        <div class=\"text\" if=\"{item.deleted}\"><em>Deleted.</em></div>\\n        <div class=\"text\" if=\"{!item.deleted}\" ref=\"content\"></div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nthis.item = this.opts.item;\nvar refreshContent = function refreshContent() {\n        return _this.refs.content.innerHTML = _this.item.text;\n};\nthis.on(\"update\", refreshContent);\nthis.one(\"mount\", refreshContent);\n});\n\nriot.tag2('hackernews', '    <div>\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://news.ycombinator.com\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"http://www.ycombinator.com/images/ycombinator-logo-fb889e2e.png\" alt=\"HackerNews logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>The top 10 stories from HackerNews.</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"HackerNewsButton\">Reset</button>\\n            </div>\\n            <i if=\"{stories.length === 0}\" class=\"HackerNewsSpinner fa fa-spinner fa-3x\"></i>\\n        </div>\\n        <treeview if=\"{stories.length > 0}\" model=\"{stories}\" category=\"children\" selection=\"{selection}\" onselect=\"{onselect}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\"></TreeView>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _this = this;\n\nrequire(\"self/common/styles/HackerNews.css\");\n\nvar _models = require(\"./models\");\n\nthis.stories = [];\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.conf = {\n    strategies: { fold: [\"opener-control\"] },\n    css: { TreeView: \"HackerNewsDemo\" }\n};\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    fetch(\"https://hacker-news.firebaseio.com/v0/beststories.json\").then(function (response) {\n        return response.json();\n    }).then(function (topStories) {\n        return (0, _models.fetchLast)(topStories, function (_) {\n            return \"https://hacker-news.firebaseio.com/v0/item/\" + _ + \".json\";\n        });\n    }).then(function (topStories) {\n        _this.stories = topStories.map(function (story) {\n            return new _models.TopStory(story);\n        });\n        _this.update();\n    });\n};\nthis.one(\"mount\", this.init);\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/HackerNews/HackerNews.tag\n// module id = 628\n// module chunks = 2","import sanitize from \"sanitize-html\"\n\nexport const fetchLast = (arr, getUrl, limit = 10, offset = 0) =>\n    Promise.all(arr.slice(offset, offset + limit).map(_ => fetch(getUrl(_)).then(response => response.json())))\n\nclass Item {\n\n    constructor(data) {\n        Object.assign(this, data)\n        if(this.kids) {\n            this.children = () => this.fetchKids()\n        }\n    }\n\n    offset = 0\n    fetchLimit = 5\n\n    fetchKids() {\n        if(this.children instanceof Array && this.children[this.children.length - 1].id === -1)\n            this.children = this.children.slice(0, this.children.length - 1)\n        return fetchLast(this.kids, _ => `https://hacker-news.firebaseio.com/v0/item/${_}.json`, this.fetchLimit, this.offset)\n            .then(kids => {\n                const result = kids.map(k => new Comment(k))\n                this.offset += this.fetchLimit\n                if(this.offset < this.kids.length) {\n                    result.push({\n                        id: -1,\n                        fetchKids: () => this.fetchKids().then(_ => {\n                            if(this.children instanceof Array)\n                                this.children = [ ...this.children, ..._ ]\n                        }),\n                        // Riotjs tags are lowercased by the compiler\n                        display: () => \"hackernewsfetchmore\"\n                    })\n                }\n                return result\n            })\n    }\n}\n\nexport class TopStory extends Item {\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"hackernewstopstories\"\n\n}\n\nexport class Comment extends Item {\n\n    constructor(data) {\n        super(data)\n        this.text = sanitize(this.text)\n        this.date = new Date(this.time * 1000).toLocaleDateString()\n    }\n\n    // Riotjs tags are lowercased by the compiler\n    display = () => \"hackernewscomment\"\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/HackerNews/models.js","import \"./Pokeapi.tag\"\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/Pokeapi/index.js","\n    var riot = require('riot')\n    riot.tag2('pokeapisubcategory', '    <span class=\"subcategory\">{opts.item.name}</span>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapiitem', '    <div class=\"{subsection : opts.item.__subsection}\">\\n        <img if=\"{opts.item.__image}\" riot-src=\"{opts.item.__image}\" alt=\"sprite\">\\n        <div class=\"property-row\" each=\"{prop in filterProps()}\">\\n            <label>{prop}</label><span>{ + parent.opts.item[prop]}</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _this = this;\n\nthis.filterProps = function () {\n    var props = Object.getOwnPropertyNames(_this.opts.item);\n    return props.filter(function (prop) {\n        return !prop.startsWith(\"__\") && !(_typeof(_this[prop]) === \"object\") && !(typeof _this[prop] === \"function\");\n    });\n};\n});\n\nriot.tag2('pokemondisplay', '    <virtual>{opts.item.name} </virtual>\\n', '', '', function(opts) {\n});\n\nriot.tag2('pokeapi', '    <div style=\"position: relative;\">\\n        <div style=\"text-align: center; margin: 10px;\">\\n            <div>\\n                <a href=\"https://pokeapi.co/\" target=\"_blank\" rel=\"noopener noreferrer\">\\n                    <img src=\"https://avatars3.githubusercontent.com/u/19692032?v=4&s=200\" alt=\"Pokapi logo\" style=\"width: 50px; filter: drop-shadow(0 0 2px #444);\">\\n                </a>\\n            </div>\\n            <h5>Pokmon API crawler</h5>\\n            <div>\\n                <button onclick=\"{init}\" class=\"PokeapiButton\">Reset</button>\\n            </div>\\n        </div>\\n        <treeview model=\"{data}\" category=\"__children\" selection=\"{selection}\" onselect=\"{onselect}\" displaytag=\"{display}\" strategies=\"{conf.strategies}\" css=\"{conf.css}\" disable=\"{conf.disable}\" search=\"{conf.search}\"></treeview>\\n        <div class=\"{PokeapiLoadMore: true, center-text: true, loading: loading}\" riot-style=\"{display: + loadUrl ? block : none}\" onclick=\"{loadMorePokemons}\">\\n            <i class=\"fa fa-spinner fa-2x\" if=\"{loading}\"></i>\\n            <span if=\"{!loading}\">Show more pokmons</span>\\n        </div>\\n    </div>\\n', '', '', function(opts) {\n\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _this = this;\n\nrequire(\"self/common/styles/Pokeapi.css\");\n\nvar _models = require(\"./models\");\n\nthis.conf = {\n    strategies: { fold: [\"opener-control\", function (_) {\n            return !_.__subsection;\n        }], click: [\"toggle-fold\"] },\n    css: { TreeView: \"PokeapiDemo\" },\n    disable: function disable(_) {\n        return _.__children && _.__children instanceof Array && _.__children.length === 0;\n    },\n    search: function search(input) {\n        return function (item) {\n            return item.name && item.name.startsWith(input);\n        };\n    }\n};\nthis.data = [];\nthis.selection = [];\nthis.onselect = function (_) {\n    return _this.update({ selection: _ });\n};\nthis.loading = false;\nthis.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\nthis.display = function (item) {\n    return item.display();\n};\n\nthis.init = function () {\n    _this.loadUrl = \"https://pokeapi.co/api/v2/pokemon\";\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: _ });\n    });\n};\nthis.one(\"mount\", this.init);\n\nthis.loadPokemons = function () {\n    if (!_this.loadUrl) return;\n    _this.loading = true;\n    return (0, _models.cachedFetch)(_this.loadUrl).then(function (json) {\n        _this.loadUrl = json.next;\n        _this.loading = false;\n        return json.results.map(function (i) {\n            return _extends({}, i, {\n                display: function display() {\n                    return \"pokemondisplay\";\n                },\n                __children: function __children() {\n                    return (0, _models.cachedFetch)(i.url).then(function (json) {\n                        return [new _models.Item(json)];\n                    });\n                }\n            });\n        });\n    }).catch(function (err) {\n        return _this.loading = false;\n    });\n};\nthis.loadMorePokemons = function () {\n    if (_this.loading) return;\n    _this.loadPokemons().then(function (_) {\n        _this.update({ data: [].concat(_this.data, _) });\n    });\n};\n});\n\n    \n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./docs/riot/components/Demos/Pokeapi/Pokeapi.tag\n// module id = 631\n// module chunks = 2","export class Item {\n\n    constructor(data) {\n        Object.assign(this, formatData(data))\n    }\n\n    display() { return this.name && this.url ? \"pokeapisubcategory\" : \"pokeapiitem\" }\n}\n\nconst cache = new Map()\nexport const cachedFetch = (url, ...args) => {\n    if(cache.has(url)) return Promise.resolve(cache.get(url))\n    return fetch(url, ...args)\n        .then(response => response.json())\n        .then(json => {\n            cache.set(url, json)\n            return json\n        })\n}\n\nconst imageMatch = (name, val) =>\n    name === \"sprites\" && val.front_default\n\nconst formatData = d => {\n    const data = { ...d }\n    if(data.url) {\n        const url = data.url\n        data.__children = () => cachedFetch(url).then(json => [new Item(json)])\n        return data\n    }\n    data.__subsection = true\n    for(const prop in data) {\n        if(prop.startsWith(\"__\")) continue\n\n        if(data[prop] instanceof Array) {\n            if(!data.__children) data.__children = []\n            data.__children.push({\n                name: \"\" + prop,\n                display: () => \"pokeapisubcategory\",\n                __children: data[prop].map(_ => new Item(_))\n            })\n            delete data[prop]\n        } else if(data[prop] && typeof data[prop] === \"object\") {\n            if(!data.__children) data.__children = []\n            if(data[prop].url && data[prop].name) {\n                const name = data[prop].name\n                const url = data[prop].url\n                data.__children.push({\n                    name: name,\n                    display: () => \"pokeapisubcategory\",\n                    __children: () => cachedFetch(url).then(json => [new Item(json)])\n                })\n            } else {\n                data.__children.push({\n                    name: \"\" + prop,\n                    display: () => \"pokeapisubcategory\",\n                    __children: [new Item(data[prop])]\n                })\n            }\n            const img = imageMatch(prop, data[prop])\n            if(img) data.__image = img\n            delete data[prop]\n        }\n    }\n    return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./docs/riot/components/Demos/Pokeapi/models.js"],"sourceRoot":""}